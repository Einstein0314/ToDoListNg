(self.webpackChunkToDoListForMobile=self.webpackChunkToDoListForMobile||[]).push([[179],{2011:(st,Ce,P)=>{"use strict";P.d(Ce,{hO:()=>Be,xv:()=>ce,Dh:()=>ue,GT:()=>fe,cc:()=>Ie,on:()=>H,pX:()=>ie});var f=P(5e3),J=P(127),N=P(5813);st=P.hmd(st);const ae=["ngOnDestroy"],ie=(ne,ye,Te,_e={})=>new Proxy(ne,{get:($e,Ae)=>Te.runOutsideAngular(()=>{var tt;if(ne[Ae])return(null===(tt=null==_e?void 0:_e.spy)||void 0===tt?void 0:tt.get)&&_e.spy.get(Ae,ne[Ae]),ne[Ae];if(ae.indexOf(Ae)>-1)return()=>{};const We=ye.toPromise().then(ft=>{const X=ft&&ft[Ae];return"function"==typeof X?X.bind(ft):X&&X.then?X.then(ge=>Te.run(()=>ge)):Te.run(()=>X)});return new Proxy(()=>{},{get:(ft,X)=>We[X],apply:(ft,X,ge)=>We.then(Ee=>{var De;const Fe=Ee&&Ee(...ge);return(null===(De=null==_e?void 0:_e.spy)||void 0===De?void 0:De.apply)&&_e.spy.apply(Ae,ge,Fe),Fe})})})}),fe=(ne,ye)=>{ye.forEach(Te=>{Object.getOwnPropertyNames(Te.prototype||Te).forEach(_e=>{Object.defineProperty(ne.prototype,_e,Object.getOwnPropertyDescriptor(Te.prototype||Te,_e))})})};class se{constructor(ye){return ye}}const ue=new f.OlP("angularfire2.app.options"),ce=new f.OlP("angularfire2.app.name");function H(ne,ye,Te){const $e="object"==typeof Te&&Te||{};$e.name=$e.name||"string"==typeof Te&&Te||"[DEFAULT]";const tt=J.Z.apps.filter(We=>We&&We.name===$e.name)[0]||ye.runOutsideAngular(()=>J.Z.initializeApp(ne,$e));try{JSON.stringify(ne)!==JSON.stringify(tt.options)&&j("error",`${tt.name} Firebase App already initialized with different options${st.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(We){}return new se(tt)}const j=(ne,...ye)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[ne](...ye)},ee={provide:se,useFactory:H,deps:[ue,f.R0b,[new f.FiY,ce]]};let Be=(()=>{class ne{constructor(Te){J.Z.registerVersion("angularfire",N.q4.full,"core"),J.Z.registerVersion("angularfire",N.q4.full,"app-compat"),J.Z.registerVersion("angular",f.q4F.full,Te.toString())}static initializeApp(Te,_e){return{ngModule:ne,providers:[{provide:ue,useValue:Te},{provide:ce,useValue:_e}]}}}return ne.\u0275fac=function(Te){return new(Te||ne)(f.LFG(f.Lbi))},ne.\u0275mod=f.oAB({type:ne}),ne.\u0275inj=f.cJS({providers:[ee]}),ne})();function Ie(ne,ye,Te,_e,$e){const[,Ae,tt]=globalThis.\u0275AngularfireInstanceCache.find(We=>We[0]===ne)||[];if(Ae)return function Re(ne,ye){try{return ne.toString()===ye.toString()}catch(Te){return ne===ye}}($e,tt)||(K("error",`${ye} was already initialized on the ${Te} Firebase App with different settings.${Ue?" You may need to reload as Firebase is not HMR aware.":""}`),K("warn",{is:$e,was:tt})),Ae;{const We=_e();return globalThis.\u0275AngularfireInstanceCache.push([ne,We,$e]),We}}const Ue=!!st.hot,K=(ne,...ye)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[ne](...ye)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(st,Ce,P)=>{"use strict";P.d(Ce,{q4:()=>Oh,iC:()=>Qs,HU:()=>Ac,vb:()=>Ph,JM:()=>Nh});var f=P(5e3),J=P(5867),N=P(5861),ae=P(9681),ie=P(2090),fe=P(4859),se=P(1877),ue=P(2940);const ce="@firebase/installations",H="0.5.5",ee=`w:${H}`,Be="FIS_v2",ye=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Te(D){return D instanceof ie.ZR&&D.code.includes("request-failed")}function _e({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function $e(D){return{token:D.token,requestStatus:2,expiresIn:Ee(D.expiresIn),creationTime:Date.now()}}function Ae(D,I){return tt.apply(this,arguments)}function tt(){return(tt=(0,N.Z)(function*(D,I){const L=(yield I.json()).error;return ye.create("request-failed",{requestName:D,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function We({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function ft(D,{refreshToken:I}){const O=We(D);return O.append("Authorization",function De(D){return`${Be} ${D}`}(I)),O}function X(D){return ge.apply(this,arguments)}function ge(){return(ge=(0,N.Z)(function*(D){const I=yield D();return I.status>=500&&I.status<600?D():I})).apply(this,arguments)}function Ee(D){return Number(D.replace("s","000"))}function Fe(D,I){return de.apply(this,arguments)}function de(){return(de=(0,N.Z)(function*(D,{fid:I}){const O=_e(D),le={method:"POST",headers:We(D),body:JSON.stringify({fid:I,authVersion:Be,appId:D.appId,sdkVersion:ee})},Me=yield X(()=>fetch(O,le));if(Me.ok){const Ke=yield Me.json();return{fid:Ke.fid||I,registrationStatus:2,refreshToken:Ke.refreshToken,authToken:$e(Ke.authToken)}}throw yield Ae("Create Installation",Me)})).apply(this,arguments)}function xt(D){return new Promise(I=>{setTimeout(I,D)})}const Kn=/^[cdef][\w-]{21}$/;function rt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const O=function Ir(D){return function Ht(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Kn.test(O)?O:""}catch(D){return""}}function on(D){return`${D.appName}!${D.appId}`}const Tr=new Map;function Xt(D,I){const O=on(D);Cn(O,I),function Mi(D,I){const O=function mn(){return!Gt&&"BroadcastChannel"in self&&(Gt=new BroadcastChannel("[Firebase] FID Change"),Gt.onmessage=D=>{Cn(D.data.key,D.data.fid)}),Gt}();O&&O.postMessage({key:D,fid:I}),function Ls(){0===Tr.size&&Gt&&(Gt.close(),Gt=null)}()}(O,I)}function Cn(D,I){const O=Tr.get(D);if(O)for(const L of O)L(I)}let Gt=null;const xe="firebase-installations-store";let rr=null;function Je(){return rr||(rr=(0,ue.openDb)("firebase-installations-database",1,D=>{0===D.oldVersion&&D.createObjectStore(xe)})),rr}function Qr(D,I){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,N.Z)(function*(D,I){const O=on(D),W=(yield Je()).transaction(xe,"readwrite"),le=W.objectStore(xe),Me=yield le.get(O);return yield le.put(I,O),yield W.complete,(!Me||Me.fid!==I.fid)&&Xt(D,I.fid),I})).apply(this,arguments)}function Un(D){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,N.Z)(function*(D){const I=on(D),L=(yield Je()).transaction(xe,"readwrite");yield L.objectStore(xe).delete(I),yield L.complete})).apply(this,arguments)}function pt(D,I){return nt.apply(this,arguments)}function nt(){return(nt=(0,N.Z)(function*(D,I){const O=on(D),W=(yield Je()).transaction(xe,"readwrite"),le=W.objectStore(xe),Me=yield le.get(O),Ke=I(Me);return void 0===Ke?yield le.delete(O):yield le.put(Ke,O),yield W.complete,Ke&&(!Me||Me.fid!==Ke.fid)&&Xt(D,Ke.fid),Ke})).apply(this,arguments)}function Ot(D){return fn.apply(this,arguments)}function fn(){return(fn=(0,N.Z)(function*(D){let I;const O=yield pt(D,L=>{const W=Hr(L),le=Rt(D,W);return I=le.registrationPromise,le.installationEntry});return""===O.fid?{installationEntry:yield I}:{installationEntry:O,registrationPromise:I}})).apply(this,arguments)}function Hr(D){return yn(D||{fid:rt(),registrationStatus:0})}function Rt(D,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(ye.create("app-offline"))};const O={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function Xe(D,I){return ct.apply(this,arguments)}(D,O);return{installationEntry:O,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:rc(D)}:{installationEntry:I}}function ct(){return(ct=(0,N.Z)(function*(D,I){try{return Qr(D,yield Fe(D,I))}catch(O){throw Te(O)&&409===O.customData.serverCode?yield Un(D):yield Qr(D,{fid:I.fid,registrationStatus:0}),O}})).apply(this,arguments)}function rc(D){return Us.apply(this,arguments)}function Us(){return(Us=(0,N.Z)(function*(D){let I=yield gt(D);for(;1===I.registrationStatus;)yield xt(100),I=yield gt(D);if(0===I.registrationStatus){const{installationEntry:O,registrationPromise:L}=yield Ot(D);return L||O}return I})).apply(this,arguments)}function gt(D){return pt(D,I=>{if(!I)throw ye.create("installation-not-found");return yn(I)})}function yn(D){return function Ar(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Qi(D,I){return V.apply(this,arguments)}function V(){return(V=(0,N.Z)(function*({appConfig:D,platformLoggerProvider:I},O){const L=G(D,O),W=ft(D,O),le=I.getImmediate({optional:!0});le&&W.append("x-firebase-client",le.getPlatformInfoString());const Ke={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:ee}})},ze=yield X(()=>fetch(L,Ke));if(ze.ok)return $e(yield ze.json());throw yield Ae("Generate Auth Token",ze)})).apply(this,arguments)}function G(D,{fid:I}){return`${_e(D)}/${I}/authTokens:generate`}function q(D){return we.apply(this,arguments)}function we(){return(we=(0,N.Z)(function*(D,I=!1){let O;const L=yield pt(D.appConfig,le=>{if(!In(le))throw ye.create("not-registered");const Me=le.authToken;if(!I&&Sr(Me))return le;if(1===Me.requestStatus)return O=te(D,I),le;{if(!navigator.onLine)throw ye.create("app-offline");const Ke=ir(le);return O=dn(D,Ke),Ke}});return O?yield O:L.authToken})).apply(this,arguments)}function te(D,I){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,N.Z)(function*(D,I){let O=yield vt(D.appConfig);for(;1===O.authToken.requestStatus;)yield xt(100),O=yield vt(D.appConfig);const L=O.authToken;return 0===L.requestStatus?q(D,I):L})).apply(this,arguments)}function vt(D){return pt(D,I=>{if(!In(I))throw ye.create("not-registered");return function bs(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function dn(D,I){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,N.Z)(function*(D,I){try{const O=yield Qi(D,I),L=Object.assign(Object.assign({},I),{authToken:O});return yield Qr(D.appConfig,L),O}catch(O){if(!Te(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Qr(D.appConfig,L)}else yield Un(D.appConfig);throw O}})).apply(this,arguments)}function In(D){return void 0!==D&&2===D.registrationStatus}function Sr(D){return 2===D.requestStatus&&!function Vt(D){const I=Date.now();return I<D.creationTime||D.creationTime+D.expiresIn<I+36e5}(D)}function ir(D){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:I})}function go(){return(go=(0,N.Z)(function*(D){const I=D,{installationEntry:O,registrationPromise:L}=yield Ot(I.appConfig);return L?L.catch(console.error):q(I).catch(console.error),O.fid})).apply(this,arguments)}function Bs(){return(Bs=(0,N.Z)(function*(D,I=!1){const O=D;return yield Zn(O.appConfig),(yield q(O,I)).token})).apply(this,arguments)}function Zn(D){return jn.apply(this,arguments)}function jn(){return(jn=(0,N.Z)(function*(D){const{registrationPromise:I}=yield Ot(D);I&&(yield I)})).apply(this,arguments)}function na(D){return ye.create("missing-app-config-values",{valueName:D})}const Gr="installations",kt=D=>{const I=D.getProvider("app").getImmediate(),O=function $n(D){if(!D||!D.options)throw na("App Configuration");if(!D.name)throw na("App Name");const I=["projectId","apiKey","appId"];for(const O of I)if(!D.options[O])throw na(O);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(I);return{app:I,appConfig:O,platformLoggerProvider:(0,ae._getProvider)(I,"platform-logger"),_delete:()=>Promise.resolve()}},Yt=D=>{const I=D.getProvider("app").getImmediate(),O=(0,ae._getProvider)(I,Gr).getImmediate();return{getId:()=>function ic(D){return go.apply(this,arguments)}(O),getToken:W=>function Qa(D){return Bs.apply(this,arguments)}(O,W)}};(function Tn(){(0,ae._registerComponent)(new fe.wA(Gr,kt,"PUBLIC")),(0,ae._registerComponent)(new fe.wA("installations-internal",Yt,"PRIVATE"))})(),(0,ae.registerVersion)(ce,H),(0,ae.registerVersion)(ce,H,"esm2017");const gr="@firebase/remote-config",An=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Mp{constructor(I,O,L,W){this.client=I,this.storage=O,this.storageCache=L,this.logger=W}isCachedDataFresh(I,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-O,W=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${W}.`),W}fetch(I){var O=this;return(0,N.Z)(function*(){const[L,W]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(W&&O.isCachedDataFresh(I.cacheMaxAgeMillis,L))return W;I.eTag=W&&W.eTag;const le=yield O.client.fetch(I),Me=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===le.status&&Me.push(O.storage.setLastSuccessfulFetchResponse(le)),yield Promise.all(Me),le})()}}function vh(D=navigator){return D.languages&&D.languages[0]||D.language}class pi{constructor(I,O,L,W,le,Me){this.firebaseInstallations=I,this.sdkVersion=O,this.namespace=L,this.projectId=W,this.apiKey=le,this.appId=Me}fetch(I){var O=this;return(0,N.Z)(function*(){const[L,W]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,Ke={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},ze={sdk_version:O.sdkVersion,app_instance_id:L,app_instance_id_token:W,app_id:O.appId,language_code:vh()},Ut={method:"POST",headers:Ke,body:JSON.stringify(ze)},Kt=fetch(Me,Ut),Xr=new Promise((vi,ji)=>{I.signal.addEventListener(()=>{const Uo=new Error("The operation was aborted.");Uo.name="AbortError",ji(Uo)})});let Mn;try{yield Promise.race([Kt,Xr]),Mn=yield Kt}catch(vi){let ji="fetch-client-network";throw"AbortError"===vi.name&&(ji="fetch-timeout"),An.create(ji,{originalErrorMessage:vi.message})}let nn=Mn.status;const Bi=Mn.headers.get("ETag")||void 0;let vr,os;if(200===Mn.status){let vi;try{vi=yield Mn.json()}catch(ji){throw An.create("fetch-client-parse",{originalErrorMessage:ji.message})}vr=vi.entries,os=vi.state}if("INSTANCE_STATE_UNSPECIFIED"===os?nn=500:"NO_CHANGE"===os?nn=304:("NO_TEMPLATE"===os||"EMPTY_CONFIG"===os)&&(vr={}),304!==nn&&200!==nn)throw An.create("fetch-status",{httpStatus:nn});return{status:nn,eTag:Bi,config:vr}})()}}class Dl{constructor(I,O){this.client=I,this.storage=O}fetch(I){var O=this;return(0,N.Z)(function*(){const L=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:O,backoffCount:L}){var W=this;return(0,N.Z)(function*(){yield function ia(D,I){return new Promise((O,L)=>{const W=Math.max(I-Date.now(),0),le=setTimeout(O,W);D.addEventListener(()=>{clearTimeout(le),L(An.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,O);try{const le=yield W.client.fetch(I);return yield W.storage.deleteThrottleMetadata(),le}catch(le){if(!function Eh(D){if(!(D instanceof ie.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}(le))throw le;const Me={throttleEndTimeMillis:Date.now()+(0,ie.$s)(L),backoffCount:L+1};return yield W.storage.setThrottleMetadata(Me),W.attemptFetch(I,Me)}})()}}class xp{constructor(I,O,L,W,le){this.app=I,this._client=O,this._storageCache=L,this._storage=W,this._logger=le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function sa(D,I){const O=D.target.error||void 0;return An.create(I,{originalErrorMessage:O&&O.message})}const vo="app_namespace_store";class kp{constructor(I,O,L,W=function Tl(){return new Promise((D,I)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=L=>{I(sa(L,"storage-open"))},O.onsuccess=L=>{D(L.target.result)},O.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(vo,{keyPath:"compositeKey"})}}catch(O){I(An.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=I,this.appName=O,this.namespace=L,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var O=this;return(0,N.Z)(function*(){const L=yield O.openDbPromise;return new Promise((W,le)=>{const Ke=L.transaction([vo],"readonly").objectStore(vo),ze=O.createCompositeKey(I);try{const Ut=Ke.get(ze);Ut.onerror=Kt=>{le(sa(Kt,"storage-get"))},Ut.onsuccess=Kt=>{const Xr=Kt.target.result;W(Xr?Xr.value:void 0)}}catch(Ut){le(An.create("storage-get",{originalErrorMessage:Ut&&Ut.message}))}})})()}set(I,O){var L=this;return(0,N.Z)(function*(){const W=yield L.openDbPromise;return new Promise((le,Me)=>{const ze=W.transaction([vo],"readwrite").objectStore(vo),Ut=L.createCompositeKey(I);try{const Kt=ze.put({compositeKey:Ut,value:O});Kt.onerror=Xr=>{Me(sa(Xr,"storage-set"))},Kt.onsuccess=()=>{le()}}catch(Kt){Me(An.create("storage-set",{originalErrorMessage:Kt&&Kt.message}))}})})()}delete(I){var O=this;return(0,N.Z)(function*(){const L=yield O.openDbPromise;return new Promise((W,le)=>{const Ke=L.transaction([vo],"readwrite").objectStore(vo),ze=O.createCompositeKey(I);try{const Ut=Ke.delete(ze);Ut.onerror=Kt=>{le(sa(Kt,"storage-delete"))},Ut.onsuccess=()=>{W()}}catch(Ut){le(An.create("storage-delete",{originalErrorMessage:Ut&&Ut.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Al{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,N.Z)(function*(){const O=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),W=I.storage.getActiveConfig(),le=yield O;le&&(I.lastFetchStatus=le);const Me=yield L;Me&&(I.lastSuccessfulFetchTimestampMillis=Me);const Ke=yield W;Ke&&(I.activeConfig=Ke)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Sl(){return cc.apply(this,arguments)}function cc(){return(cc=(0,N.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(D){return!1}})).apply(this,arguments)}!function Op(){(0,ae._registerComponent)(new fe.wA("remote-config",function D(I,{instanceIdentifier:O}){const L=I.getProvider("app").getImmediate(),W=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw An.create("registration-window");if(!(0,ie.hl)())throw An.create("indexed-db-unavailable");const{projectId:le,apiKey:Me,appId:Ke}=L.options;if(!le)throw An.create("registration-project-id");if(!Me)throw An.create("registration-api-key");if(!Ke)throw An.create("registration-app-id");const ze=new kp(Ke,L.name,O=O||"firebase"),Ut=new Al(ze),Kt=new se.Yd(gr);Kt.logLevel=se.in.ERROR;const Xr=new pi(W,ae.SDK_VERSION,O,le,Me,Ke),Mn=new Dl(Xr,ze),nn=new Mp(Mn,ze,Ut,Kt),Bi=new xp(L,nn,Ut,ze,Kt);return function an(D){const I=(0,ie.m9)(D);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Bi),Bi},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(gr,"0.3.4"),(0,ae.registerVersion)(gr,"0.3.4","esm2017")}();const Ml="/firebase-messaging-sw.js",Hs="/firebase-cloud-messaging-push-scope",Ja="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Gs="google.c.a.c_id",ua="google.c.a.c_l",Cs="google.c.a.ts",ca="google.c.a.e";var mr=(()=>{return(D=mr||(mr={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",mr;var D})();function gi(D){const I=new Uint8Array(D);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function lc(D){const O=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(O),W=new Uint8Array(L.length);for(let le=0;le<L.length;++le)W[le]=L.charCodeAt(le);return W}const kr="fcm_token_details_db",kl="fcm_token_object_Store";function Xa(D){return Ol.apply(this,arguments)}function Ol(){return Ol=(0,N.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(le=>le.name).includes(kr))return null;let I=null;return(yield(0,ue.openDb)(kr,5,function(){var L=(0,N.Z)(function*(W){var le;if(W.oldVersion<2||!W.objectStoreNames.contains(kl))return;const Me=W.transaction.objectStore(kl),Ke=yield Me.index("fcmSenderId").get(D);if(yield Me.clear(),Ke)if(2===W.oldVersion){const ze=Ke;if(!ze.auth||!ze.p256dh||!ze.endpoint)return;I={token:ze.fcmToken,createTime:null!==(le=ze.createTime)&&void 0!==le?le:Date.now(),subscriptionOptions:{auth:ze.auth,p256dh:ze.p256dh,endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:"string"==typeof ze.vapidKey?ze.vapidKey:gi(ze.vapidKey)}}}else if(3===W.oldVersion){const ze=Ke;I={token:ze.fcmToken,createTime:ze.createTime,subscriptionOptions:{auth:gi(ze.auth),p256dh:gi(ze.p256dh),endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:gi(ze.vapidKey)}}}else if(4===W.oldVersion){const ze=Ke;I={token:ze.fcmToken,createTime:ze.createTime,subscriptionOptions:{auth:gi(ze.auth),p256dh:gi(ze.p256dh),endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:gi(ze.vapidKey)}}}});return function(W){return L.apply(this,arguments)}}())).close(),yield(0,ue.deleteDb)(kr),yield(0,ue.deleteDb)("fcm_vapid_details_db"),yield(0,ue.deleteDb)("undefined"),dc(I)?I:null}),Ol.apply(this,arguments)}function dc(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:I}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Is="firebase-messaging-store";let Nl=null;function un(){return Nl||(Nl=(0,ue.openDb)("firebase-messaging-database",1,D=>{0===D.oldVersion&&D.createObjectStore(Is)})),Nl}function wh(D){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,N.Z)(function*(D){const I=Ni(D),L=yield(yield un()).transaction(Is).objectStore(Is).get(I);if(L)return L;{const W=yield Xa(D.appConfig.senderId);if(W)return yield Gn(D,W),W}})).apply(this,arguments)}function Gn(D,I){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,N.Z)(function*(D,I){const O=Ni(D),W=(yield un()).transaction(Is,"readwrite");return yield W.objectStore(Is).put(I,O),yield W.complete,I})).apply(this,arguments)}function Xi(D){return bo.apply(this,arguments)}function bo(){return(bo=(0,N.Z)(function*(D){const I=Ni(D),L=(yield un()).transaction(Is,"readwrite");yield L.objectStore(Is).delete(I),yield L.complete})).apply(this,arguments)}function Ni({appConfig:D}){return D.appId}const qn=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Pi(D,I){return hc.apply(this,arguments)}function hc(){return(hc=(0,N.Z)(function*(D,I){const O=yield da(D),L=Do(I),W={method:"POST",headers:O,body:JSON.stringify(L)};let le;try{le=yield(yield fetch(Qn(D.appConfig),W)).json()}catch(Me){throw qn.create("token-subscribe-failed",{errorInfo:Me})}if(le.error)throw qn.create("token-subscribe-failed",{errorInfo:le.error.message});if(!le.token)throw qn.create("token-subscribe-no-token");return le.token})).apply(this,arguments)}function Rr(D,I){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,N.Z)(function*(D,I){const O=yield da(D),L=Do(I.subscriptionOptions),W={method:"PATCH",headers:O,body:JSON.stringify(L)};let le;try{le=yield(yield fetch(`${Qn(D.appConfig)}/${I.token}`,W)).json()}catch(Me){throw qn.create("token-update-failed",{errorInfo:Me})}if(le.error)throw qn.create("token-update-failed",{errorInfo:le.error.message});if(!le.token)throw qn.create("token-update-no-token");return le.token})).apply(this,arguments)}function wo(D,I){return mt.apply(this,arguments)}function mt(){return(mt=(0,N.Z)(function*(D,I){const L={method:"DELETE",headers:yield da(D)};try{const le=yield(yield fetch(`${Qn(D.appConfig)}/${I}`,L)).json();if(le.error)throw qn.create("token-unsubscribe-failed",{errorInfo:le.error.message})}catch(W){throw qn.create("token-unsubscribe-failed",{errorInfo:W})}})).apply(this,arguments)}function Qn({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function da(D){return ha.apply(this,arguments)}function ha(){return(ha=(0,N.Z)(function*({appConfig:D,installations:I}){const O=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Do({p256dh:D,auth:I,endpoint:O,vapidKey:L}){const W={web:{endpoint:O,auth:I,p256dh:D}};return L!==Ja&&(W.web.applicationPubKey=L),W}const Co=6048e5;function fc(D){return eu.apply(this,arguments)}function eu(){return(eu=(0,N.Z)(function*(D){const I=yield Nr(D.swRegistration,D.vapidKey),O={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:I.endpoint,auth:gi(I.getKey("auth")),p256dh:gi(I.getKey("p256dh"))},L=yield wh(D.firebaseDependencies);if(L){if(nu(L.subscriptionOptions,O))return Date.now()>=L.createTime+Co?tu(D,{token:L.token,createTime:Date.now(),subscriptionOptions:O}):L.token;try{yield wo(D.firebaseDependencies,L.token)}catch(W){console.warn(W)}return qs(D.firebaseDependencies,O)}return qs(D.firebaseDependencies,O)})).apply(this,arguments)}function Se(D){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,N.Z)(function*(D){const I=yield wh(D.firebaseDependencies);I&&(yield wo(D.firebaseDependencies,I.token),yield Xi(D.firebaseDependencies));const O=yield D.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function tu(D,I){return cn.apply(this,arguments)}function cn(){return(cn=(0,N.Z)(function*(D,I){try{const O=yield Rr(D.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:O,createTime:Date.now()});return yield Gn(D.firebaseDependencies,L),O}catch(O){throw yield Se(D),O}})).apply(this,arguments)}function qs(D,I){return As.apply(this,arguments)}function As(){return(As=(0,N.Z)(function*(D,I){const L={token:yield Pi(D,I),createTime:Date.now(),subscriptionOptions:I};return yield Gn(D,L),L.token})).apply(this,arguments)}function Nr(D,I){return es.apply(this,arguments)}function es(){return(es=(0,N.Z)(function*(D,I){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:lc(I)})})).apply(this,arguments)}function nu(D,I){return I.vapidKey===D.vapidKey&&I.endpoint===D.endpoint&&I.auth===D.auth&&I.p256dh===D.p256dh}function ru(D){const I={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function iu(D,I){if(!I.notification)return;D.notification={};const O=I.notification.title;O&&(D.notification.title=O);const L=I.notification.body;L&&(D.notification.body=L);const W=I.notification.image;W&&(D.notification.image=W)}(I,D),function Io(D,I){!I.data||(D.data=I.data)}(I,D),function fa(D,I){if(!I.fcmOptions)return;D.fcmOptions={};const O=I.fcmOptions.link;O&&(D.fcmOptions.link=O);const L=I.fcmOptions.analytics_label;L&&(D.fcmOptions.analyticsLabel=L)}(I,D),I}function zn(D){return"object"==typeof D&&!!D&&Gs in D}function mi(D,I){const O=[];for(let L=0;L<D.length;L++)O.push(D.charAt(L)),L<I.length&&O.push(I.charAt(L));return O.join("")}function ts(D){return qn.create("missing-app-config-values",{valueName:D})}mi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),mi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class yi{constructor(I,O,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function su(D){if(!D||!D.options)throw ts("App Configuration Object");if(!D.name)throw ts("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:O}=D;for(const L of I)if(!O[L])throw ts(L);return{appName:D.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:W,installations:O,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Pl(D){return To.apply(this,arguments)}function To(){return(To=(0,N.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Ml,{scope:Hs}),D.swRegistration.update().catch(()=>{})}catch(I){throw qn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function ou(D,I){return pa.apply(this,arguments)}function pa(){return(pa=(0,N.Z)(function*(D,I){if(!I&&!D.swRegistration&&(yield Pl(D)),I||!D.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw qn.create("invalid-sw-registration");D.swRegistration=I}})).apply(this,arguments)}function Ao(D,I){return ga.apply(this,arguments)}function ga(){return(ga=(0,N.Z)(function*(D,I){I?D.vapidKey=I:D.vapidKey||(D.vapidKey=Ja)})).apply(this,arguments)}function ya(){return(ya=(0,N.Z)(function*(D,I){if(!navigator)throw qn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qn.create("permission-blocked");return yield Ao(D,null==I?void 0:I.vapidKey),yield ou(D,null==I?void 0:I.serviceWorkerRegistration),fc(D)})).apply(this,arguments)}function au(D,I,O){return pc.apply(this,arguments)}function pc(){return(pc=(0,N.Z)(function*(D,I,O){const L=So(I);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:O[Gs],message_name:O[ua],message_time:O[Cs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function So(D){switch(D){case mr.NOTIFICATION_CLICKED:return"notification_open";case mr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function _a(){return(_a=(0,N.Z)(function*(D,I){const O=I.data;if(!O.isFirebaseMessaging)return;D.onMessageHandler&&O.messageType===mr.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(ru(O)):D.onMessageHandler.next(ru(O)));const L=O.data;zn(L)&&"1"===L[ca]&&(yield au(D,O.messageType,L))})).apply(this,arguments)}const gc="@firebase/messaging",uu=D=>{const I=new yi(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function Fl(D,I){return _a.apply(this,arguments)}(I,O)),I},Ll=D=>{const I=D.getProvider("messaging").getImmediate();return{getToken:L=>function ma(D,I){return ya.apply(this,arguments)}(I,L)}};function Jn(){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,N.Z)(function*(){return"undefined"!=typeof window&&(0,ie.hl)()&&(yield(0,ie.eu)())&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Rp(){(0,ae._registerComponent)(new fe.wA("messaging",uu,"PUBLIC")),(0,ae._registerComponent)(new fe.wA("messaging-internal",Ll,"PRIVATE")),(0,ae.registerVersion)(gc,"0.9.7"),(0,ae.registerVersion)(gc,"0.9.7","esm2017")}();const Ss="analytics",lu="firebase_id",Bl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ns="https://www.googletagmanager.com/gtag/js",vn=new se.Yd("@firebase/analytics");function Th(D){return Promise.all(D.map(I=>I.catch(O=>O)))}function Np(D,I){const O=document.createElement("script");O.src=`${ns}?l=${D}&id=${I}`,O.async=!0,document.head.appendChild(O)}function hu(D,I,O,L,W,le){return jl.apply(this,arguments)}function jl(){return(jl=(0,N.Z)(function*(D,I,O,L,W,le){const Me=L[W];try{if(Me)yield I[Me];else{const ze=(yield Th(O)).find(Ut=>Ut.measurementId===W);ze&&(yield I[ze.appId])}}catch(Ke){vn.error(Ke)}D("config",W,le)})).apply(this,arguments)}function wa(D,I,O,L,W){return $l.apply(this,arguments)}function $l(){return($l=(0,N.Z)(function*(D,I,O,L,W){try{let le=[];if(W&&W.send_to){let Me=W.send_to;Array.isArray(Me)||(Me=[Me]);const Ke=yield Th(O);for(const ze of Me){const Ut=Ke.find(Xr=>Xr.measurementId===ze),Kt=Ut&&I[Ut.appId];if(!Kt){le=[];break}le.push(Kt)}}0===le.length&&(le=Object.values(I)),yield Promise.all(le),D("event",L,W||{})}catch(le){vn.error(le)}})).apply(this,arguments)}function gn(){const D=window.document.getElementsByTagName("script");for(const I of Object.values(D))if(I.src&&I.src.includes(ns))return I;return null}const sr=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Hl=new class Da{constructor(I={},O=1e3){this.throttleMetadata=I,this.intervalMillis=O}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,O){this.throttleMetadata[I]=O}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Ca(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Mo(D){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,N.Z)(function*(D){var I;const{appId:O,apiKey:L}=D,W={method:"GET",headers:Ca(L)},le=Bl.replace("{app-id}",O),Me=yield fetch(le,W);if(200!==Me.status&&304!==Me.status){let Ke="";try{const ze=yield Me.json();(null===(I=ze.error)||void 0===I?void 0:I.message)&&(Ke=ze.error.message)}catch(ze){}throw sr.create("config-fetch-failed",{httpStatus:Me.status,responseMessage:Ke})}return Me.json()})).apply(this,arguments)}function Xn(D){return bt.apply(this,arguments)}function bt(){return(bt=(0,N.Z)(function*(D,I=Hl,O){const{appId:L,apiKey:W,measurementId:le}=D.options;if(!L)throw sr.create("no-app-id");if(!W){if(le)return{measurementId:le,appId:L};throw sr.create("no-api-key")}const Me=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ke=new vc;return setTimeout((0,N.Z)(function*(){Ke.abort()}),void 0!==O?O:6e4),Ia({appId:L,apiKey:W,measurementId:le},Me,Ke,I)})).apply(this,arguments)}function Ia(D,I,O){return _c.apply(this,arguments)}function _c(){return(_c=(0,N.Z)(function*(D,{throttleEndTimeMillis:I,backoffCount:O},L,W=Hl){const{appId:le,measurementId:Me}=D;try{yield Gl(L,I)}catch(Ke){if(Me)return vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${Ke.message}]`),{appId:le,measurementId:Me};throw Ke}try{const Ke=yield Mo(D);return W.deleteThrottleMetadata(le),Ke}catch(Ke){if(!xo(Ke)){if(W.deleteThrottleMetadata(le),Me)return vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${Ke.message}]`),{appId:le,measurementId:Me};throw Ke}const ze=503===Number(Ke.customData.httpStatus)?(0,ie.$s)(O,W.intervalMillis,30):(0,ie.$s)(O,W.intervalMillis),Ut={throttleEndTimeMillis:Date.now()+ze,backoffCount:O+1};return W.setThrottleMetadata(le,Ut),vn.debug(`Calling attemptFetch again in ${ze} millis`),Ia(D,Ut,L,W)}})).apply(this,arguments)}function Gl(D,I){return new Promise((O,L)=>{const W=Math.max(I-Date.now(),0),le=setTimeout(O,W);D.addEventListener(()=>{clearTimeout(le),L(sr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function xo(D){if(!(D instanceof ie.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}class vc{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function ko(){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,N.Z)(function*(){if(!(0,ie.hl)())return vn.warn(sr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(D){return vn.warn(sr.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function Oo(){return(Oo=(0,N.Z)(function*(D,I,O,L,W,le,Me){var Ke;const ze=Xn(D);ze.then(nn=>{O[nn.measurementId]=nn.appId,D.options.measurementId&&nn.measurementId!==D.options.measurementId&&vn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${nn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(nn=>vn.error(nn)),I.push(ze);const Ut=ko().then(nn=>{if(nn)return L.getId()}),[Kt,Xr]=yield Promise.all([ze,Ut]);gn()||Np(le,Kt.measurementId),W("js",new Date);const Mn=null!==(Ke=null==Me?void 0:Me.config)&&void 0!==Ke?Ke:{};return Mn.origin="firebase",Mn.update=!0,null!=Xr&&(Mn[lu]=Xr),W("config",Kt.measurementId,Mn),Kt.measurementId})).apply(this,arguments)}class fu{constructor(I){this.app=I}_delete(){return delete Li[this.app.options.appId],Promise.resolve()}}let Li={},Ec=[];const bc={};let Ta,qt,Ro="dataLayer",Vi=!1;function zs(D,I,O){!function Aa(){const D=[];if((0,ie.ru)()&&D.push("This is a browser extension environment."),(0,ie.zI)()||D.push("Cookies are not available."),D.length>0){const I=D.map((L,W)=>`(${W+1}) ${L}`).join(" "),O=sr.create("invalid-analytics-context",{errorInfo:I});vn.warn(O.message)}}();const L=D.options.appId;if(!L)throw sr.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw sr.create("no-api-key");vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Li[L])throw sr.create("already-exists",{id:L});if(!Vi){!function ba(D){let I=[];Array.isArray(window[D])?I=window[D]:window[D]=I}(Ro);const{wrappedGtag:le,gtagCore:Me}=function yc(D,I,O,L,W){let le=function(...Me){window[L].push(arguments)};return window[W]&&"function"==typeof window[W]&&(le=window[W]),window[W]=function Pp(D,I,O,L){function le(){return(le=(0,N.Z)(function*(Me,Ke,ze){try{"event"===Me?yield wa(D,I,O,Ke,ze):"config"===Me?yield hu(D,I,O,L,Ke,ze):D("set",Ke)}catch(Ut){vn.error(Ut)}})).apply(this,arguments)}return function W(Me,Ke,ze){return le.apply(this,arguments)}}(le,D,I,O),{gtagCore:le,wrappedGtag:window[W]}}(Li,Ec,bc,Ro,"gtag");qt=le,Ta=Me,Vi=!0}return Li[L]=function Fr(D,I,O,L,W,le,Me){return Oo.apply(this,arguments)}(D,Ec,bc,I,Ta,Ro,O),new fu(D)}function No(){return(No=(0,N.Z)(function*(D,I,O,L,W){if(W&&W.global)D("event",O,L);else{const le=yield I;D("event",O,Object.assign(Object.assign({},L),{send_to:le}))}})).apply(this,arguments)}function pu(){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,N.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(D){return!1}})).apply(this,arguments)}const Ms="@firebase/analytics";!function wn(){(0,ae._registerComponent)(new fe.wA(Ss,(I,{options:O})=>zs(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ae._registerComponent)(new fe.wA("analytics-internal",function D(I){try{const O=I.getProvider(Ss).getImmediate();return{logEvent:(L,W,le)=>function Cc(D,I,O,L){D=(0,ie.m9)(D),function bn(D,I,O,L,W){return No.apply(this,arguments)}(qt,Li[D.app.options.appId],I,O,L).catch(W=>vn.error(W))}(O,L,W,le)}}catch(O){throw sr.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ae.registerVersion)(Ms,"0.7.5"),(0,ae.registerVersion)(Ms,"0.7.5","esm2017")}();var Sa=P(4408),kh=P(7565);const Pn=new class Yl extends kh.v{}(class _i extends Sa.o{constructor(I,O){super(I,O),this.scheduler=I,this.work=O}schedule(I,O=0){return O>0?super.schedule(I,O):(this.delay=O,this.state=I,this.scheduler.flush(this),this)}execute(I,O){return O>0||this.closed?super.execute(I,O):this._execute(I,O)}requestAsyncId(I,O,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,O,L):I.flush(this)}});var Ic=P(4986),gu=P(8505),Ma=P(9468),Tc=P(5363);const Oh=new f.GfV("7.2.0"),xa="__angularfire_symbol__analyticsIsSupported",Lo="__angularfire_symbol__remoteConfigIsSupported",mu="__angularfire_symbol__messagingIsSupported";function Nh(D,I,O){if(I){if(1===I.length)return I[0];const le=I.filter(Me=>Me.app===O);if(1===le.length)return le[0]}return O.container.getProvider(D).getImmediate({optional:!0})}globalThis[xa]||(globalThis[xa]=pu().then(D=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=D)),globalThis[mu]||(globalThis[mu]=Jn().then(D=>globalThis.__angularfire_symbol__messagingIsSupportedValue=D)),globalThis[Lo]||(globalThis[Lo]=Sl().then(D=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=D));const Ph=(D,I)=>{const O=I?[I]:(0,J.C6)(),L=[];return O.forEach(W=>{W.container.getProvider(D).instances.forEach(Me=>{L.includes(Me)||L.push(Me)})}),L};function Ys(){}class Ql{constructor(I,O=Pn){this.zone=I,this.delegate=O}now(){return this.delegate.now()}schedule(I,O,L){const W=this.zone;return this.delegate.schedule(function(Me){W.runGuarded(()=>{I.apply(this,[Me])})},O,L)}}class yu{constructor(I){this.zone=I,this.task=null}call(I,O){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ys,{},Ys,Ys)),O.pipe((0,gu.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ac=(()=>{class D{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Ql(Zone.current)),this.insideAngular=O.run(()=>new Ql(Zone.current,Ic.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(O){return new(O||D)(f.LFG(f.R0b))},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function _r(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Qs(D){return _r(),function Vo(D){return function(O){return(O=O.lift(new yu(D.ngZone))).pipe((0,Ma.R)(D.outsideAngular),(0,Tc.Q)(D.insideAngular))}}(_r())(D)}},2090:(st,Ce,P)=>{"use strict";P.d(Ce,{BH:()=>Be,LL:()=>de,ZR:()=>Fe,zI:()=>ge,US:()=>fe,tV:()=>ce,$s:()=>gt,r3:()=>ci,Sg:()=>Ie,ne:()=>rr,vZ:()=>Gt,ZB:()=>j,pd:()=>Yi,m9:()=>Qi,z$:()=>Re,jU:()=>ne,ru:()=>ye,d:()=>_e,xb:()=>Cn,w1:()=>$e,hl:()=>ft,uI:()=>Ue,UG:()=>K,b$:()=>Te,G6:()=>We,Mn:()=>Ae,xO:()=>Ls,zd:()=>$r,eu:()=>X});const ae=function(V){const G=[];let q=0;for(let we=0;we<V.length;we++){let te=V.charCodeAt(we);te<128?G[q++]=te:te<2048?(G[q++]=te>>6|192,G[q++]=63&te|128):55296==(64512&te)&&we+1<V.length&&56320==(64512&V.charCodeAt(we+1))?(te=65536+((1023&te)<<10)+(1023&V.charCodeAt(++we)),G[q++]=te>>18|240,G[q++]=te>>12&63|128,G[q++]=te>>6&63|128,G[q++]=63&te|128):(G[q++]=te>>12|224,G[q++]=te>>6&63|128,G[q++]=63&te|128)}return G},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,G){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let te=0;te<V.length;te+=3){const Ge=V[te],vt=te+1<V.length,dn=vt?V[te+1]:0,Bn=te+2<V.length,In=Bn?V[te+2]:0;let ir=(15&dn)<<2|In>>6,bs=63&In;Bn||(bs=64,vt||(ir=64)),we.push(q[Ge>>2],q[(3&Ge)<<4|dn>>4],q[ir],q[bs])}return we.join("")},encodeString(V,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(V):this.encodeByteArray(ae(V),G)},decodeString(V,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(V):function(V){const G=[];let q=0,we=0;for(;q<V.length;){const te=V[q++];if(te<128)G[we++]=String.fromCharCode(te);else if(te>191&&te<224){const Ge=V[q++];G[we++]=String.fromCharCode((31&te)<<6|63&Ge)}else if(te>239&&te<365){const Bn=((7&te)<<18|(63&V[q++])<<12|(63&V[q++])<<6|63&V[q++])-65536;G[we++]=String.fromCharCode(55296+(Bn>>10)),G[we++]=String.fromCharCode(56320+(1023&Bn))}else{const Ge=V[q++],vt=V[q++];G[we++]=String.fromCharCode((15&te)<<12|(63&Ge)<<6|63&vt)}}return G.join("")}(this.decodeStringToByteArray(V,G))},decodeStringToByteArray(V,G){this.init_();const q=G?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let te=0;te<V.length;){const Ge=q[V.charAt(te++)],dn=te<V.length?q[V.charAt(te)]:0;++te;const In=te<V.length?q[V.charAt(te)]:64;++te;const Vt=te<V.length?q[V.charAt(te)]:64;if(++te,null==Ge||null==dn||null==In||null==Vt)throw Error();we.push(Ge<<2|dn>>4),64!==In&&(we.push(dn<<4&240|In>>2),64!==Vt&&we.push(In<<6&192|Vt))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}},ue=function(V){return function(V){const G=ae(V);return fe.encodeByteArray(G,!0)}(V).replace(/\./g,"")},ce=function(V){try{return fe.decodeString(V,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function j(V,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return G}for(const q in G)!G.hasOwnProperty(q)||!ee(q)||(V[q]=j(V[q],G[q]));return V}function ee(V){return"__proto__"!==V}class Be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,q)=>{this.resolve=G,this.reject=q})}wrapCallback(G){return(q,we)=>{q?this.reject(q):this.resolve(we),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(q):G(q,we))}}}function Ie(V,G){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=G||"demo-project",te=V.iat||0,Ge=V.sub||V.user_id;if(!Ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const vt=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:te,exp:te+3600,auth_time:te,sub:Ge,user_id:Ge,firebase:{sign_in_provider:"custom",identities:{}}},V);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(vt)),""].join(".")}function Re(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function K(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(V){return!1}}function ne(){return"object"==typeof self&&self.self===self}function ye(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function Te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _e(){return Re().indexOf("Electron/")>=0}function $e(){const V=Re();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function Ae(){return Re().indexOf("MSAppHost/")>=0}function We(){return!K()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ft(){return"object"==typeof indexedDB}function X(){return new Promise((V,G)=>{try{let q=!0;const we="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(we);te.onsuccess=()=>{te.result.close(),q||self.indexedDB.deleteDatabase(we),V(!0)},te.onupgradeneeded=()=>{q=!1},te.onerror=()=>{var Ge;G((null===(Ge=te.error)||void 0===Ge?void 0:Ge.message)||"")}}catch(q){G(q)}})}function ge(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Fe extends Error{constructor(G,q,we){super(q),this.code=G,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,Fe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,de.prototype.create)}}class de{constructor(G,q,we){this.service=G,this.serviceName=q,this.errors=we}create(G,...q){const we=q[0]||{},te=`${this.service}/${G}`,Ge=this.errors[G],vt=Ge?function xt(V,G){return V.replace(Ht,(q,we)=>{const te=G[we];return null!=te?String(te):`<${we}?>`})}(Ge,we):"Error";return new Fe(te,`${this.serviceName}: ${vt} (${te}).`,we)}}const Ht=/\{\$([^}]+)}/g;function ci(V,G){return Object.prototype.hasOwnProperty.call(V,G)}function Cn(V){for(const G in V)if(Object.prototype.hasOwnProperty.call(V,G))return!1;return!0}function Gt(V,G){if(V===G)return!0;const q=Object.keys(V),we=Object.keys(G);for(const te of q){if(!we.includes(te))return!1;const Ge=V[te],vt=G[te];if(mn(Ge)&&mn(vt)){if(!Gt(Ge,vt))return!1}else if(Ge!==vt)return!1}for(const te of we)if(!q.includes(te))return!1;return!0}function mn(V){return null!==V&&"object"==typeof V}function Ls(V){const G=[];for(const[q,we]of Object.entries(V))Array.isArray(we)?we.forEach(te=>{G.push(encodeURIComponent(q)+"="+encodeURIComponent(te))}):G.push(encodeURIComponent(q)+"="+encodeURIComponent(we));return G.length?"&"+G.join("&"):""}function $r(V){const G={};return V.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[te,Ge]=we.split("=");G[decodeURIComponent(te)]=decodeURIComponent(Ge)}}),G}function Yi(V){const G=V.indexOf("?");if(!G)return"";const q=V.indexOf("#",G);return V.substring(G,q>0?q:void 0)}function rr(V,G){const q=new Je(V,G);return q.subscribe.bind(q)}class Je{constructor(G,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{G(this)}).catch(we=>{this.error(we)})}next(G){this.forEachObserver(q=>{q.next(G)})}error(G){this.forEachObserver(q=>{q.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,q,we){let te;if(void 0===G&&void 0===q&&void 0===we)throw new Error("Missing Observer.");te=function Zt(V,G){if("object"!=typeof V||null===V)return!1;for(const q of G)if(q in V&&"function"==typeof V[q])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:q,complete:we},void 0===te.next&&(te.next=Un),void 0===te.error&&(te.error=Un),void 0===te.complete&&(te.complete=Un);const Ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch(vt){}}),this.observers.push(te),Ge}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,G)}sendOne(G,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{q(this.observers[G])}catch(we){"undefined"!=typeof console&&console.error&&console.error(we)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Un(){}function gt(V,G=1e3,q=2){const we=G*Math.pow(q,V),te=Math.round(.5*we*(Math.random()-.5)*2);return Math.min(144e5,we+te)}function Qi(V){return V&&V._delegate?V._delegate:V}},1096:(st,Ce,P)=>{"use strict";var f=P(5e3);let J=null;function N(){return J}const se=new f.OlP("DocumentToken");let ue=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function ce(){return(0,f.LFG)(j)}()},providedIn:"platform"}),n})();const H=new f.OlP("Location Initialized");let j=(()=>{class n extends ue{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,s){ee()?this._history.pushState(t,r,s):this.location.hash=s}replaceState(t,r,s){ee()?this._history.replaceState(t,r,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(se))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function Be(){return new j((0,f.LFG)(se))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function Ie(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Re(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ue(n){return n&&"?"!==n[0]?"?"+n:n}let K=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function ne(n){const e=(0,f.LFG)(se).location;return new Te((0,f.LFG)(ue),e&&e.origin||"")}()},providedIn:"root"}),n})();const ye=new f.OlP("appBaseHref");let Te=(()=>{class n extends K{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ie(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ue(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,u){const l=this.prepareExternalUrl(s+Ue(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,s,u){const l=this.prepareExternalUrl(s+Ue(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,s;null===(s=(r=this._platformLocation).historyGo)||void 0===s||s.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ue),f.LFG(ye,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),_e=(()=>{class n extends K{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ie(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,u){let l=this.prepareExternalUrl(s+Ue(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,s,u){let l=this.prepareExternalUrl(s+Ue(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,s;null===(s=(r=this._platformLocation).historyGo)||void 0===s||s.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ue),f.LFG(ye,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),$e=(()=>{class n{constructor(t,r){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const s=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Re(We(s)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ue(r))}normalize(t){return n.stripTrailingSlash(function tt(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,We(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._platformStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ue(r)),s)}replaceState(t,r="",s=null){this._platformStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ue(r)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,s;null===(s=(r=this._platformStrategy).historyGo)||void 0===s||s.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return n.normalizeQueryParams=Ue,n.joinWithSlash=Ie,n.stripTrailingSlash=Re,n.\u0275fac=function(t){return new(t||n)(f.LFG(K),f.LFG(ue))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function Ae(){return new $e((0,f.LFG)(K),(0,f.LFG)(ue))}()},providedIn:"root"}),n})();function We(n){return n.replace(/\/index.html$/,"")}var ge=(()=>((ge=ge||{})[ge.Zero=0]="Zero",ge[ge.One=1]="One",ge[ge.Two=2]="Two",ge[ge.Few=3]="Few",ge[ge.Many=4]="Many",ge[ge.Other=5]="Other",ge))();const Yi=f.kL8;class Wt{}let An=(()=>{class n extends Wt{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Yi(r||this.locale)(t)){case ge.Zero:return"zero";case ge.One:return"one";case ge.Two:return"two";case ge.Few:return"few";case ge.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.soG))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Ds=(()=>{class n{constructor(t,r,s,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=s,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,f.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,f.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class ki{constructor(e,t,r,s){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sn=(()=>{class n{constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,u,l)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new ki(s.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,l),yo(m,s)}});for(let s=0,u=r.length;s<u;s++){const m=r.get(s).context;m.index=s,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{yo(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function yo(n,e){n.context.$implicit=e.item}let xr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new an,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){bl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){bl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class an{constructor(){this.$implicit=null,this.ngIf=null}}function bl(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,f.AaK)(e)}'.`)}let oc=(()=>{class n{constructor(t,r,s){this._ngEl=t,this._differs=r,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[s,u]=t.split(".");null!=(r=null!=r&&u?`${r}${u}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,s,r):this._renderer.removeStyle(this._ngEl.nativeElement,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(f.aQg),f.Y36(f.Qsj))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),ca=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[{provide:Wt,useClass:An}]}),n})();const xl="browser";function la(n){return"server"===n}let dc=(()=>{class n{}return n.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new Rl((0,f.LFG)(se),window)}),n})();class Rl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Is(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Jt(this.window.history)||Jt(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Jt(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Eo extends class wh extends class fe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ie(n){J||(J=n)}(new Eo)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Rn(){return Gn=Gn||document.querySelector("base"),Gn?Gn.getAttribute("href"):null}();return null==t?null:function bo(n){Xi=Xi||document.createElement("a"),Xi.setAttribute("href",n);const e=Xi.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Gn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function mo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Xi,Gn=null;const Ni=new f.OlP("TRANSITION_ID"),qn=[{provide:f.ip1,useFactory:function Or(n,e,t){return()=>{t.get(f.CZH).donePromise.then(()=>{const r=N(),s=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<s.length;u++)r.remove(s[u])})}},deps:[Ni,se,f.zs3],multi:!0}];class Pi{static init(){(0,f.VLi)(new Pi)}addToWindow(e){f.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new Error("Could not find testability for element.");return u},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(r=>{const s=f.dqk.getAllAngularTestabilities();let u=s.length,l=!1;const m=function(E){l=l||E,u--,0==u&&r(l)};s.forEach(function(E){E.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const s=e.getTestability(t);return null!=s?s:r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let hc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Rr=new f.OlP("EventManagerPlugins");let Ts=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}addGlobalEventListener(t,r,s){return this._findPluginFor(r).addGlobalEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const s=this._plugins;for(let u=0;u<s.length;u++){const l=s[u];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Rr),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class wo{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const s=N().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,r)}}let mt=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),r.add(s))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Qn=(()=>{class n extends mt{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,s){t.forEach(u=>{const l=this._doc.createElement("style");l.textContent=u,s.push(r.appendChild(l))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(da),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,s)=>{this._addStylesToHost(t,s,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(da))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(se))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function da(n){N().remove(n)}const ha={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Do=/%COMP%/g;function cn(n,e,t){for(let r=0;r<e.length;r++){let s=e[r];Array.isArray(s)?cn(n,s,t):(s=s.replace(Do,n),t.push(s))}return t}function qs(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Nr=(()=>{class n{constructor(t,r,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new es(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case f.ifc.Emulated:{let s=this.rendererByCompId.get(r.id);return s||(s=new iu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,s)),s.applyToHost(t),s}case 1:case f.ifc.ShadowDom:return new Io(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const s=cn(r.id,r.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ts),f.LFG(Qn),f.LFG(f.AFp))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class es{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ha[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const u=ha[s];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=ha[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(t,r,s&f.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&f.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,qs(r)):this.eventManager.addEventListener(e,t,qs(r))}}class iu extends es{constructor(e,t,r,s){super(e),this.component=r;const u=cn(s+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function Pt(n){return"_ngcontent-%COMP%".replace(Do,n)}(s+"-"+r.id),this.hostAttr=function tu(n){return"_nghost-%COMP%".replace(Do,n)}(s+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Io extends es{constructor(e,t,r,s){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=cn(s.id,s.styles,[]);for(let l=0;l<u.length;l++){const m=document.createElement("style");m.textContent=u[l],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let fa=(()=>{class n extends wo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(se))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const zn=["alt","control","meta","shift"],su={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ts={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},yi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Pl=(()=>{class n extends wo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const u=n._normalizeKey(r.pop());let l="";if(zn.forEach(E=>{const C=r.indexOf(E);C>-1&&(r.splice(C,1),l+=E+".")}),l+=u,0!=r.length||0===u.length)return null;const m={};return m.domEventName=s,m.fullKey=l,m}static getEventFullKey(t){let r="",s=function To(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ts.hasOwnProperty(e)&&(e=ts[e]))}return su[e]||e}(t);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),zn.forEach(u=>{u!=s&&yi[u](t)&&(r+=u+".")}),r+=s,r}static eventCallback(t,r,s){return u=>{n.getEventFullKey(u)===t&&s.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(se))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const ma=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:xl},{provide:f.g9A,useValue:function ou(){Eo.makeCurrent(),Pi.init()},multi:!0},{provide:se,useFactory:function Ao(){return(0,f.RDi)(document),document},deps:[]}]),ya=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function pa(){return new f.qLn},deps:[]},{provide:Rr,useClass:fa,multi:!0,deps:[se,f.R0b,f.Lbi]},{provide:Rr,useClass:Pl,multi:!0,deps:[se]},{provide:Nr,useClass:Nr,deps:[Ts,Qn,f.AFp]},{provide:f.FYo,useExisting:Nr},{provide:mt,useExisting:Qn},{provide:Qn,useClass:Qn,deps:[se]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:Ts,useClass:Ts,deps:[Rr,f.R0b]},{provide:class un{},useClass:hc,deps:[]}];let au=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:f.AFp,useValue:t.appId},{provide:Ni,useExisting:f.AFp},qn]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(n,12))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:ya,imports:[ca,f.hGG]}),n})();"undefined"!=typeof window&&window;var gn=P(8996),yr=P(8306);const{isArray:sr}=Array,{getPrototypeOf:Ah,prototype:Sh,keys:Da}=Object;function Hl(n){if(1===n.length){const e=n[0];if(sr(e))return{args:e,keys:null};if(function Ca(n){return n&&"object"==typeof n&&Ah(n)===Sh}(e)){const t=Da(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Mo=P(8421),Fi=P(7669),Xn=P(5403),bt=P(4004);const{isArray:Ia}=Array;function Gl(n){return(0,bt.U)(e=>function _c(n,e){return Ia(e)?n(...e):n(e)}(n,e))}function xo(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}let ko=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n}),n})(),Pr=(()=>{class n extends ko{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();const Fr=new f.OlP("NgValueAccessor"),Li={provide:Fr,useExisting:(0,f.Gpc)(()=>Ro),multi:!0},bc=new f.OlP("CompositionEventMode");let Ro=(()=>{class n extends ko{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ec(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(bc,8))},n.\u0275dir=f.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[f._Bn([Li]),f.qOj]}),n})();const qt=new f.OlP("NgValidators"),Vi=new f.OlP("NgAsyncValidators");function Ws(n){return null!=n}function Fo(n){const e=(0,f.QGY)(n)?(0,gn.D)(n):n;return(0,f.CqO)(e),e}function ql(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function tn(n,e){return e.map(t=>t(n))}function Dc(n){return n.map(e=>function pu(n){return!n.validate}(e)?e:t=>e.validate(t))}function Wl(n){return null!=n?function zl(n){if(!n)return null;const e=n.filter(Ws);return 0==e.length?null:function(t){return ql(tn(t,e))}}(Dc(n)):null}function xh(n){return null!=n?function Kl(n){if(!n)return null;const e=n.filter(Ws);return 0==e.length?null:function(t){return function vc(...n){const e=(0,Fi.jO)(n),{args:t,keys:r}=Hl(n),s=new yr.y(u=>{const{length:l}=t;if(!l)return void u.complete();const m=new Array(l);let E=l,C=l;for(let M=0;M<l;M++){let R=!1;(0,Mo.Xf)(t[M]).subscribe(new Xn.Q(u,U=>{R||(R=!0,C--),m[M]=U},()=>E--,void 0,()=>{(!E||!R)&&(C||u.next(r?xo(r,m):m),u.complete())}))}});return e?s.pipe(Gl(e)):s}(tn(t,e).map(Fo)).pipe((0,bt.U)(ql))}}(Dc(n)):null}function Cc(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function wn(n){return n?Array.isArray(n)?n:[n]:[]}function Sa(n,e){return Array.isArray(n)?n.includes(e):n===e}function _i(n,e){const t=wn(e);return wn(n).forEach(s=>{Sa(t,s)||t.push(s)}),t}function kh(n,e){return wn(e).filter(t=>!Sa(n,t))}class Yl{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Wl(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Pn extends Yl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hn extends Yl{get formDirective(){return null}get path(){return null}}let Tc=(()=>{class n extends class Ic{constructor(e){this._cd=e}is(e){var t,r,s;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(s=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===s?void 0:s[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Pn,2))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[f.qOj]}),n})();function _u(n,e){(function Qs(n,e){const t=function Ms(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Cc(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Zl(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Cc(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();ka(e._rawValidators,s),ka(e._rawAsyncValidators,s)})(n,e),e.valueAccessor.writeValue(n.value),function Fh(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&D(n,e)})}(n,e),function I(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Sc(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&D(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Oa(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ka(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function D(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Kt(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const nn="VALID",Bi="INVALID",vr="PENDING",os="DISABLED";function ji(n){return(Mc(n)?n.validators:n)||null}function Uo(n){return Array.isArray(n)?Wl(n):n||null}function vu(n,e){return(Mc(e)?e.asyncValidators:n)||null}function Jl(n){return Array.isArray(n)?xh(n):n||null}function Mc(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Bo=n=>n instanceof xc;function ay(n){return(n=>n instanceof Up)(n)?n.value:n.getRawValue()}function Lh(n,e){const t=Bo(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new f.vHH(1e3,"");if(!r[e])throw new f.vHH(1001,"")}function Xl(n,e){Bo(n),n._forEachChild((r,s)=>{if(void 0===e[s])throw new f.vHH(1002,"")})}class Vp{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Uo(this._rawValidators),this._composedAsyncValidatorFn=Jl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===nn}get invalid(){return this.status===Bi}get pending(){return this.status==vr}get disabled(){return this.status===os}get enabled(){return this.status!==os}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Uo(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Jl(e)}addValidators(e){this.setValidators(_i(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_i(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(kh(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(kh(e,this._rawAsyncValidators))}hasValidator(e){return Sa(this._rawValidators,e)}hasAsyncValidator(e){return Sa(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=vr,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=os,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=nn,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nn||this.status===vr)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?os:nn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=vr,this._hasOwnPendingAsyncValidator=!0;const t=Fo(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function vi(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(s=>{r=Bo(r)?r.controls.hasOwnProperty(s)?r.controls[s]:null:(n=>n instanceof uy)(r)&&r.at(s)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?os:this.errors?Bi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vr)?vr:this._anyControlsHaveStatus(Bi)?Bi:nn}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Mc(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Up extends Vp{constructor(e=null,t,r){super(ji(t),vu(r,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Kt(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Kt(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class xc extends Vp{constructor(e,t,r){super(ji(t),vu(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Xl(this,e),Object.keys(e).forEach(r=>{Lh(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=ay(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,u)=>{r=t(r,s,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class uy extends Vp{constructor(e,t,r){super(ji(t),vu(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Xl(this,e),e.forEach((r,s)=>{Lh(this,s),this.at(s).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,s)=>{this.at(s)&&this.at(s).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>ay(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Uh={provide:Pn,useExisting:(0,f.Gpc)(()=>Bh)},sd=(()=>Promise.resolve(null))();let Bh=(()=>{class n extends Pn{constructor(t,r,s,u){super(),this.control=new Up,this._registered=!1,this.update=new f.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function Ut(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(u=>{u.constructor===Ro?t=u:function Ke(n){return Object.getPrototypeOf(n.constructor)===Pr}(u)?r=u:s=u}),s||r||t||null}(0,u)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function Me(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function _r(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){_u(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){sd.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,s=""===r||r&&"false"!==r;sd.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(hn,9),f.Y36(qt,10),f.Y36(Vi,10),f.Y36(Fr,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([Uh]),f.qOj,f.TTD]}),n})(),$o=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const kc=new f.OlP("NgModelWithFormControlWarning");let Zh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[$o]]}),n})(),bu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[Zh]}),n})(),Lr=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:kc,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[Zh]}),n})();function xn(n){return null!=n&&"false"!=`${n}`}function Ho(n,e=0){return function Yh(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Xs(n){return n instanceof f.SBq?n.nativeElement:n}let Lc,ng=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();try{Lc="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Lc=!1}let Vc,ef,hd=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function kr(n){return n===xl}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Lc)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.Lbi))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();function Xh(n){return function Iy(){if(null==Vc&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Vc=!0}))}finally{Vc=Vc||!1}return Vc}()?n:!!n.capture}function Du(n){return n.composedPath?n.composedPath()[0]:n.target}var kn=P(7579);class bi extends kn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Ct(...n){const e=(0,Fi.yG)(n);return(0,gn.D)(n,e)}var qr=P(4482);function qo(n,e){return(0,qr.e)((t,r)=>{let s=0;t.subscribe(new Xn.Q(r,u=>n.call(e,u,s++)&&r.next(u)))})}var jc=P(4671);function Ny(n,e=jc.y){return n=null!=n?n:Py,(0,qr.e)((t,r)=>{let s,u=!0;t.subscribe(new Xn.Q(r,l=>{const m=e(l);(u||!n(s,m))&&(u=!1,s=m,r.next(l))}))})}function Py(n,e){return n===e}var dC=P(5032);function Vy(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function p0(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const EC=new f.OlP("cdk-input-modality-detector-options"),bC={ignoreKeys:[18,17,224,91,16]},vd=Xh({passive:!0,capture:!0});let g0=(()=>{class n{constructor(t,r,s,u){this._platform=t,this._mostRecentTarget=null,this._modality=new bi(null),this._lastTouchMs=0,this._onKeydown=l=>{var m,E;(null===(E=null===(m=this._options)||void 0===m?void 0:m.ignoreKeys)||void 0===E?void 0:E.some(C=>C===l.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Du(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Vy(l)?"keyboard":"mouse"),this._mostRecentTarget=Du(l))},this._onTouchstart=l=>{p0(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Du(l))},this._options=Object.assign(Object.assign({},bC),u),this.modalityDetected=this._modality.pipe(function n0(n){return qo((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(Ny()),t.isBrowser&&r.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,vd),s.addEventListener("mousedown",this._onMousedown,vd),s.addEventListener("touchstart",this._onTouchstart,vd)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,vd),document.removeEventListener("mousedown",this._onMousedown,vd),document.removeEventListener("touchstart",this._onTouchstart,vd))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(hd),f.LFG(f.R0b),f.LFG(se),f.LFG(EC,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zo=new f.OlP("cdk-focus-monitor-default-options"),Ed=Xh({passive:!0,capture:!0});let IC=(()=>{class n{constructor(t,r,s,u,l){this._ngZone=t,this._platform=r,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new kn.x,this._rootNodeFocusAndBlurListener=m=>{const E=Du(m),C="focus"===m.type?this._onFocus:this._onBlur;for(let M=E;M;M=M.parentElement)C.call(this,m,M)},this._document=u,this._detectionMode=(null==l?void 0:l.detectionMode)||0}monitor(t,r=!1){const s=Xs(t);if(!this._platform.isBrowser||1!==s.nodeType)return Ct(null);const u=function Ei(n){if(function pd(){if(null==ef){const n="undefined"!=typeof document?document.head:null;ef=!(!n||!n.createShadowRoot&&!n.attachShadow)}return ef}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(s)||this._getDocument(),l=this._elementInfo.get(s);if(l)return r&&(l.checkChildren=!0),l.subject;const m={checkChildren:r,subject:new kn.x,rootNode:u};return this._elementInfo.set(s,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(t){const r=Xs(t),s=this._elementInfo.get(r);s&&(s.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(s))}focusVia(t,r,s){const u=Xs(t);u===this._getDocument().activeElement?this._getClosestElementsInfo(u).forEach(([m,E])=>this._originChanged(m,r,E)):(this._setOrigin(r),"function"==typeof u.focus&&u.focus(s))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const s=this._elementInfo.get(r),u=Du(t);!s||!s.checkChildren&&r!==u||this._originChanged(r,this._getFocusOrigin(u),s)}_onBlur(t,r){const s=this._elementInfo.get(r);!s||s.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(s.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,s=this._rootNodeFocusListenerCount.get(r)||0;s||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ed),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ed)}),this._rootNodeFocusListenerCount.set(r,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(function Mu(n){return(0,qr.e)((e,t)=>{(0,Mo.Xf)(n).subscribe(new Xn.Q(t,()=>t.complete(),dC.Z)),!t.closed&&e.subscribe(t)})}(this._stopInputModalityDetector)).subscribe(u=>{this._setOrigin(u,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const s=this._rootNodeFocusListenerCount.get(r);s>1?this._rootNodeFocusListenerCount.set(r,s-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ed),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ed),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,s){this._setClasses(t,r),this._emitOrigin(s.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((s,u)=>{(u===t||s.checkChildren&&u.contains(t))&&r.push([u,s])}),r}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.R0b),f.LFG(hd),f.LFG(g0),f.LFG(se,8),f.LFG(zo,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TC="cdk-high-contrast-black-on-white",By="cdk-high-contrast-white-on-black",jy="cdk-high-contrast-active";let AC=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,s=r&&r.getComputedStyle?r.getComputedStyle(t):null,u=(s&&s.backgroundColor||"").replace(/ /g,"");switch(t.remove(),u){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(jy),t.remove(TC),t.remove(By),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(jy),t.add(TC)):2===r&&(t.add(jy),t.add(By))}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(hd),f.LFG(se))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class yg{}const La="*";function _g(n,e=null){return{type:2,steps:n,options:e}}function vg(n){return{type:6,styles:n,offset:null}}function Hy(n){Promise.resolve(null).then(n)}class $c{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Hy(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Gy{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,s=0;const u=this.players.length;0==u?Hy(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==u&&this._onFinish()}),l.onDestroy(()=>{++r==u&&this._onDestroy()}),l.onStart(()=>{++s==u&&this._onStart()})}),this.totalTime=this.players.reduce((l,m)=>Math.max(l,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const s=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(s)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function hf(){return"undefined"!=typeof window&&void 0!==window.document}function qy(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function xu(n){switch(n.length){case 0:return new $c;case 1:return n[0];default:return new Gy(n)}}function OC(n,e,t,r,s={},u={}){const l=[],m=[];let E=-1,C=null;if(r.forEach(M=>{const R=M.offset,U=R==E,z=U&&C||{};Object.keys(M).forEach(Q=>{let ve=Q,Pe=M[Q];if("offset"!==Q)switch(ve=e.normalizePropertyName(ve,l),Pe){case"!":Pe=s[Q];break;case La:Pe=u[Q];break;default:Pe=e.normalizeStyleValue(Q,ve,Pe,l)}z[ve]=Pe}),U||m.push(z),C=z,E=R}),l.length){const M="\n - ";throw new Error(`Unable to animate due to the following errors:${M}${l.join(M)}`)}return m}function ff(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Eg(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Eg(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Eg(t,"destroy",n)))}}function Eg(n,e,t){const r=t.totalTime,u=pf(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),l=n._data;return null!=l&&(u._data=l),u}function pf(n,e,t,r,s="",u=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:s,totalTime:u,disabled:!!l}}function zr(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function _0(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let gf=(n,e)=>!1,zy=(n,e,t)=>[];(qy()||"undefined"!=typeof Element)&&(gf=hf()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),zy=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Hc=null,bg=!1;function Wy(n){Hc||(Hc=function NC(){return"undefined"!=typeof document?document.body:null}()||{},bg=!!Hc.style&&"WebkitAppearance"in Hc.style);let e=!0;return Hc.style&&!function v0(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Hc.style,!e&&bg&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Hc.style)),e}const wg=gf,ku=zy;function Ky(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let E0=(()=>{class n{validateStyleProperty(t){return Wy(t)}matchesElement(t,r){return!1}containsElement(t,r){return wg(t,r)}query(t,r,s){return ku(t,r,s)}computeStyle(t,r,s){return s||""}animate(t,r,s,u,l,m=[],E){return new $c(s,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Zy=(()=>{class n{}return n.NOOP=new E0,n})();const Yy="ng-enter",Dg="ng-leave",wi="ng-trigger",wd=".ng-trigger",Qy="ng-animating",Cg=".ng-animating";function Ou(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Ig(parseFloat(e[1]),e[2])}function Ig(n,e){return"s"===e?1e3*n:n}function Tg(n,e,t){return n.hasOwnProperty("duration")?n:function FC(n,e,t){let s,u=0,l="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};s=Ig(parseFloat(m[1]),m[2]);const E=m[3];null!=E&&(u=Ig(parseFloat(E),m[4]));const C=m[5];C&&(l=C)}else s=n;if(!t){let m=!1,E=e.length;s<0&&(e.push("Duration values below 0 are not allowed for this animation step."),m=!0),u<0&&(e.push("Delay values below 0 are not allowed for this animation step."),m=!0),m&&e.splice(E,0,`The provided timing value "${n}" is invalid.`)}return{duration:s,delay:u,easing:l}}(n,e,t)}function Dd(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Va(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Dd(n,t);return t}function LC(n,e,t){return t?e+":"+t+";":""}function Jy(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=LC(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=LC(0,ex(t),n.style[t]));n.setAttribute("style",e)}function Wo(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const s=us(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[s]),n.style[s]=e[r]}),qy()&&Jy(n))}function Gc(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=us(t);n.style[r]=""}),qy()&&Jy(n))}function Ag(n){return Array.isArray(n)?1==n.length?n[0]:_g(n):n}const mf=new RegExp("{{\\s*(.+?)\\s*}}","g");function D0(n){let e=[];if("string"==typeof n){let t;for(;t=mf.exec(n);)e.push(t[1]);mf.lastIndex=0}return e}function yf(n,e,t){const r=n.toString(),s=r.replace(mf,(u,l)=>{let m=e[l];return e.hasOwnProperty(l)||(t.push(`Please provide a value for the animation param ${l}`),m=""),m.toString()});return s==r?n:s}function _f(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const XM=/-+([a-z0-9])/g;function us(n){return n.replace(XM,(...e)=>e[1].toUpperCase())}function ex(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function VC(n,e){return 0===n||0===e}function Xy(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let u=e[0],l=[];if(r.forEach(m=>{u.hasOwnProperty(m)||l.push(m),u[m]=t[m]}),l.length)for(var s=1;s<e.length;s++){let m=e[s];l.forEach(function(E){m[E]=Sg(n,E)})}}return e}function $i(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Sg(n,e){return window.getComputedStyle(n)[e]}function tx(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function C0(n,e,t){if(":"==n[0]){const E=function e_(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof E)return void e.push(E);n=E}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const s=r[1],u=r[2],l=r[3];e.push(I0(s,l));"<"==u[0]&&!("*"==s&&"*"==l)&&e.push(I0(l,s))}(r,t,e)):t.push(n),t}const xg=new Set(["true","1"]),Cd=new Set(["false","0"]);function I0(n,e){const t=xg.has(n)||Cd.has(n),r=xg.has(e)||Cd.has(e);return(s,u)=>{let l="*"==n||n==s,m="*"==e||e==u;return!l&&t&&"boolean"==typeof s&&(l=s?xg.has(n):Cd.has(n)),!m&&r&&"boolean"==typeof u&&(m=u?xg.has(e):Cd.has(e)),l&&m}}const UC=new RegExp("s*:selfs*,?","g");function t_(n,e,t){return new BC(n).build(e,t)}class BC{constructor(e){this._driver=e}build(e,t){const r=new jC(t);return this._resetContextStyleTimingState(r),$i(this,Ag(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,s=t.depCount=0;const u=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const E=m,C=E.name;C.toString().split(/\s*,\s*/).forEach(M=>{E.name=M,u.push(this.visitState(E,t))}),E.name=C}else if(1==m.type){const E=this.visitTransition(m,t);r+=E.queryCount,s+=E.depCount,l.push(E)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:u,transitions:l,queryCount:r,depCount:s,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,l=s||{};if(r.styles.forEach(m=>{if(Og(m)){const E=m;Object.keys(E).forEach(C=>{D0(E[C]).forEach(M=>{l.hasOwnProperty(M)||u.add(M)})})}}),u.size){const m=_f(u.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${m.join(", ")}`)}}return{type:0,name:e.name,style:r,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=$i(this,Ag(e.animation),t);return{type:1,matchers:tx(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ua(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>$i(this,r,t)),options:Ua(e.options)}}visitGroup(e,t){const r=t.currentTime;let s=0;const u=e.steps.map(l=>{t.currentTime=r;const m=$i(this,l,t);return s=Math.max(s,t.currentTime),m});return t.currentTime=s,{type:3,steps:u,options:Ua(e.options)}}visitAnimate(e,t){const r=function $C(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return Os(Tg(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=Os(0,0,"");return u.dynamic=!0,u.strValue=r,u}return t=t||Tg(r,e),Os(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let s,u=e.styles?e.styles:vg({});if(5==u.type)s=this.visitKeyframes(u,t);else{let l=e.styles,m=!1;if(!l){m=!0;const C={};r.easing&&(C.easing=r.easing),l=vg(C)}t.currentTime+=r.duration+r.delay;const E=this.visitStyle(l,t);E.isEmptyStep=m,s=E}return t.currentAnimateTimings=null,{type:4,timings:r,style:s,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(l=>{"string"==typeof l?l==La?r.push(l):t.errors.push(`The provided style string value ${l} is not allowed.`):r.push(l)}):r.push(e.styles);let s=!1,u=null;return r.forEach(l=>{if(Og(l)){const m=l,E=m.easing;if(E&&(u=E,delete m.easing),!s)for(let C in m)if(m[C].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let s=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&Object.keys(l).forEach(m=>{if(!this._driver.validateStyleProperty(m))return void t.errors.push(`The provided animation property "${m}" is not a supported CSS property for animations`);const E=t.collectedStyles[t.currentQuerySelector],C=E[m];let M=!0;C&&(u!=s&&u>=C.startTime&&s<=C.endTime&&(t.errors.push(`The CSS property "${m}" that exists between the times of "${C.startTime}ms" and "${C.endTime}ms" is also being animated in a parallel animation between the times of "${u}ms" and "${s}ms"`),M=!1),u=C.startTime),M&&(E[m]={startTime:u,endTime:s}),t.options&&function JM(n,e,t){const r=e.params||{},s=D0(n);s.length&&s.forEach(u=>{r.hasOwnProperty(u)||t.push(`Unable to resolve the local animation param ${u} in the given list of values`)})}(l[m],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let u=0;const l=[];let m=!1,E=!1,C=0;const M=e.steps.map(at=>{const Et=this._makeStyleAst(at,t);let Lt=null!=Et.offset?Et.offset:function vf(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Og(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Og(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Et.styles),ht=0;return null!=Lt&&(u++,ht=Et.offset=Lt),E=E||ht<0||ht>1,m=m||ht<C,C=ht,l.push(ht),Et});E&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),m&&t.errors.push("Please ensure that all keyframe offsets are in order");const R=e.steps.length;let U=0;u>0&&u<R?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==u&&(U=1/(R-1));const z=R-1,Q=t.currentTime,ve=t.currentAnimateTimings,Pe=ve.duration;return M.forEach((at,Et)=>{const Lt=U>0?Et==z?1:U*Et:l[Et],ht=Lt*Pe;t.currentTime=Q+ve.delay+ht,ve.duration=ht,this._validateStyleAst(at,t),at.offset=Lt,r.styles.push(at)}),r}visitReference(e,t){return{type:8,animation:$i(this,Ag(e.animation),t),options:Ua(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ua(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ua(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;const[u,l]=function kg(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(UC,"")),n=n.replace(/@\*/g,wd).replace(/@\w+/g,t=>wd+"-"+t.substr(1)).replace(/:animating/g,Cg),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,zr(t.collectedStyles,t.currentQuerySelector,{});const m=$i(this,Ag(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:s.limit||0,optional:!!s.optional,includeSelf:l,animation:m,originalSelector:e.selector,options:Ua(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Tg(e.timings,t.errors,!0);return{type:12,animation:$i(this,Ag(e.animation),t),timings:r,options:null}}}class jC{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Og(n){return!Array.isArray(n)&&"object"==typeof n}function Ua(n){return n?(n=Dd(n)).params&&(n.params=function Id(n){return n?Dd(n):null}(n.params)):n={},n}function Os(n,e,t){return{duration:n,delay:e,easing:t}}function qc(n,e,t,r,s,u,l=null,m=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:s,delay:u,totalTime:s+u,easing:l,subTimeline:m}}class Er{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Rs=new RegExp(":enter","g"),Td=new RegExp(":leave","g");function Ru(n,e,t,r,s,u={},l={},m,E,C=[]){return(new Ad).buildKeyframes(n,e,t,r,s,u,l,m,E,C)}class Ad{buildKeyframes(e,t,r,s,u,l,m,E,C,M=[]){C=C||new Er;const R=new Nu(e,t,C,s,u,M,[]);R.options=E,R.currentTimeline.setStyles([l],null,R.errors,E),$i(this,r,R);const U=R.timelines.filter(z=>z.containsAnimation());if(Object.keys(m).length){let z;for(let Q=U.length-1;Q>=0;Q--){const ve=U[Q];if(ve.element===t){z=ve;break}}z&&!z.allowOnlyTimelineStyles()&&z.setStyles([m],null,R.errors,E)}return U.length?U.map(z=>z.buildKeyframes()):[qc(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const s=t.createSubContext(e.options),u=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,s,s.options);u!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const l=null!=r.duration?Ou(r.duration):null,m=null!=r.delay?Ou(r.delay):null;return 0!==l&&e.forEach(E=>{const C=t.appendInstructionToTimeline(E,l,m);u=Math.max(u,C.duration+C.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),$i(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let s=t;const u=e.options;if(u&&(u.params||u.delay)&&(s=t.createSubContext(u),s.transformIntoNewTimeline(),null!=u.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=Ba);const l=Ou(u.delay);s.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>$i(this,l,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>r&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let s=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?Ou(e.options.delay):0;e.steps.forEach(l=>{const m=t.createSubContext(e.options);u&&m.delayNextStep(u),$i(this,l,m),s=Math.max(s,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Tg(t.params?yf(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),s.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,s=t.currentAnimateTimings;!s&&r.getCurrentStyleProperties().length&&r.forwardFrame();const u=s&&s.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,s=t.currentTimeline.duration,u=r.duration,m=t.createSubContext().currentTimeline;m.easing=r.easing,e.styles.forEach(E=>{m.forwardTime((E.offset||0)*u),m.setStyles(E.styles,E.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(s+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,s=e.options||{},u=s.delay?Ou(s.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ba);let l=r;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=m.length;let E=null;m.forEach((C,M)=>{t.currentQueryIndex=M;const R=t.createSubContext(e.options,C);u&&R.delayNextStep(u),C===t.element&&(E=R.currentTimeline),$i(this,e.animation,R),R.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,R.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),E&&(t.currentTimeline.mergeTimelineCollectedStyles(E),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,s=t.currentTimeline,u=e.timings,l=Math.abs(u.duration),m=l*(t.currentQueryTotal-1);let E=l*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":E=m-E;break;case"full":E=r.currentStaggerTime}const M=t.currentTimeline;E&&M.delayNextStep(E);const R=M.currentTime;$i(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=s.currentTime-R+(s.startTime-r.currentTimeline.startTime)}}const Ba={};class Nu{constructor(e,t,r,s,u,l,m,E){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=s,this._leaveClassName=u,this.errors=l,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ba,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=E||new ja(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let s=this.options;null!=r.duration&&(s.duration=Ou(r.duration)),null!=r.delay&&(s.delay=Ou(r.delay));const u=r.params;if(u){let l=s.params;l||(l=this.options.params={}),Object.keys(u).forEach(m=>{(!t||!l.hasOwnProperty(m))&&(l[m]=yf(u[m],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(s=>{r[s]=t[s]})}}return e}createSubContext(e=null,t,r){const s=t||this.element,u=new Nu(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=Ba,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const s={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},u=new Sd(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(u),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,s,u,l){let m=[];if(s&&m.push(this.element),e.length>0){e=(e=e.replace(Rs,"."+this._enterClassName)).replace(Td,"."+this._leaveClassName);let C=this._driver.query(this.element,e,1!=r);0!==r&&(C=r<0?C.slice(C.length+r,C.length):C.slice(0,r)),m.push(...C)}return!u&&0==m.length&&l.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),m}}class ja{constructor(e,t,r,s){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new ja(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||La,this._currentKeyframe[t]=La}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,s){t&&(this._previousKeyframe.easing=t);const u=s&&s.params||{},l=function Md(n,e){const t={};let r;return n.forEach(s=>{"*"===s?(r=r||Object.keys(e),r.forEach(u=>{t[u]=La})):Va(s,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(l).forEach(m=>{const E=yf(l[m],u,r);this._pendingStyles[m]=E,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:La),this._updateStyle(m,E)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],s=e._styleSummary[t];(!r||s.time>r.time)&&this._updateStyle(t,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((m,E)=>{const C=Va(m,!0);Object.keys(C).forEach(M=>{const R=C[M];"!"==R?e.add(M):R==La&&t.add(M)}),r||(C.offset=E/this.duration),s.push(C)});const u=e.size?_f(e.values()):[],l=t.size?_f(t.values()):[];if(r){const m=s[0],E=Dd(m);m.offset=0,E.offset=1,s=[m,E]}return qc(this.element,s,u,l,this.duration,this.startTime,this.easing,!1)}}class Sd extends ja{constructor(e,t,r,s,u,l,m=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=s,this.postStyleProps=u,this._stretchStartingKeyframe=m,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],l=r+t,m=t/l,E=Va(e[0],!1);E.offset=0,u.push(E);const C=Va(e[0],!1);C.offset=Wc(m),u.push(C);const M=e.length-1;for(let R=1;R<=M;R++){let U=Va(e[R],!1);U.offset=Wc((t+U.offset*r)/l),u.push(U)}r=l,t=0,s="",e=u}return qc(this.element,e,this.preStyleProps,this.postStyleProps,r,t,s,!0)}}function Wc(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Ng{}class S0 extends Ng{normalizePropertyName(e,t){return us(e)}normalizeStyleValue(e,t,r,s){let u="";const l=r.toString().trim();if(M0[t]&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&s.push(`Please provide a CSS unit value for ${e}:${r}`)}return l+u}}const M0=(()=>function x0(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function r_(n,e,t,r,s,u,l,m,E,C,M,R,U){return{type:0,element:n,triggerName:e,isRemovalTransition:s,fromState:t,fromStyles:u,toState:r,toStyles:l,timelines:m,queriedElements:E,preStyleProps:C,postStyleProps:M,totalTime:R,errors:U}}const Pg={};class i_{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,s){return function qC(n,e,t,r,s){return n.some(u=>u(e,t,r,s))}(this.ast.matchers,e,t,r,s)}buildStyles(e,t,r){const s=this._stateStyles["*"],u=this._stateStyles[e],l=s?s.buildStyles(t,r):{};return u?u.buildStyles(t,r):l}build(e,t,r,s,u,l,m,E,C,M){const R=[],U=this.ast.options&&this.ast.options.params||Pg,Q=this.buildStyles(r,m&&m.params||Pg,R),ve=E&&E.params||Pg,Pe=this.buildStyles(s,ve,R),at=new Set,Et=new Map,Lt=new Map,ht="void"===s,ln={params:Object.assign(Object.assign({},U),ve)},pr=M?[]:Ru(e,t,this.ast.animation,u,l,Q,Pe,ln,C,R);let jr=0;if(pr.forEach(vl=>{jr=Math.max(vl.duration+vl.delay,jr)}),R.length)return r_(t,this._triggerName,r,s,ht,Q,Pe,[],[],Et,Lt,jr,R);pr.forEach(vl=>{const El=vl.element,e1=zr(Et,El,{});vl.preStyleProps.forEach(Tp=>e1[Tp]=!0);const OE=zr(Lt,El,{});vl.postStyleProps.forEach(Tp=>OE[Tp]=!0),El!==t&&at.add(El)});const _l=_f(at.values());return r_(t,this._triggerName,r,s,ht,Q,Pe,pr,_l,Et,Lt,jr)}}class k0{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},s=Dd(this.defaultParams);return Object.keys(e).forEach(u=>{const l=e[u];null!=l&&(s[u]=l)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const l=u;Object.keys(l).forEach(m=>{let E=l[m];E.length>1&&(E=yf(E,s,t));const C=this.normalizer.normalizePropertyName(m,t);E=this.normalizer.normalizeStyleValue(m,C,E,t),r[C]=E})}}),r}}class O0{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(s=>{this.states[s.name]=new k0(s.style,s.options&&s.options.params||{},r)}),N0(this.states,"true","1"),N0(this.states,"false","0"),t.transitions.forEach(s=>{this.transitionFactories.push(new i_(e,s,this.states))}),this.fallbackTransition=function R0(n,e,t){return new i_(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,s){return this.transitionFactories.find(l=>l.match(e,t,r,s))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function N0(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const WC=new Er;class P0{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],s=t_(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=s}_buildPlayer(e,t,r){const s=e.element,u=OC(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(s,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const s=[],u=this._animations[e];let l;const m=new Map;if(u?(l=Ru(this._driver,t,u,Yy,Dg,{},{},r,WC,s),l.forEach(M=>{const R=zr(m,M.element,{});M.postStyleProps.forEach(U=>R[U]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),l=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);m.forEach((M,R)=>{Object.keys(M).forEach(U=>{M[U]=this._driver.computeStyle(R,U,La)})});const C=xu(l.map(M=>{const R=m.get(M.element);return this._buildPlayer(M,{},R)}));return this._playersById[e]=C,C.onDestroy(()=>this.destroy(e)),this.players.push(C),C}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,s){const u=pf(t,"","","");return ff(this._getPlayer(e),r,u,s),()=>{}}command(e,t,r,s){if("register"==r)return void this.register(e,s[0]);if("create"==r)return void this.create(e,t,s[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e)}}}const F0="ng-animate-queued",s_="ng-animate-disabled",o_=[],Fg={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},YC={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},io="__ng_removed";class V0{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function QC(n){return null!=n?n:null}(r?e.value:e),r){const u=Dd(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(s=>{null==r[s]&&(r[s]=t[s])})}}}const Lg="void",a_=new V0(Lg);class U0{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,cs(t,this._hostClassName)}listen(e,t,r,s){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function JC(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const u=zr(this._elementListeners,e,[]),l={name:t,phase:r,callback:s};u.push(l);const m=zr(this._engine.statesByElement,e,{});return m.hasOwnProperty(t)||(cs(e,wi),cs(e,wi+"-"+t),m[t]=a_),()=>{this._engine.afterFlush(()=>{const E=u.indexOf(l);E>=0&&u.splice(E,1),this._triggers[t]||delete m[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,s=!0){const u=this._getTrigger(t),l=new u_(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(cs(e,wi),cs(e,wi+"-"+t),this._engine.statesByElement.set(e,m={}));let E=m[t];const C=new V0(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&E&&C.absorbOptions(E.options),m[t]=C,E||(E=a_),C.value!==Lg&&E.value===C.value){if(!function tI(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let s=0;s<t.length;s++){const u=t[s];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(E.params,C.params)){const ve=[],Pe=u.matchStyles(E.value,E.params,ve),at=u.matchStyles(C.value,C.params,ve);ve.length?this._engine.reportError(ve):this._engine.afterFlush(()=>{Gc(e,Pe),Wo(e,at)})}return}const U=zr(this._engine.playersByElement,e,[]);U.forEach(ve=>{ve.namespaceId==this.id&&ve.triggerName==t&&ve.queued&&ve.destroy()});let z=u.matchTransition(E.value,C.value,e,C.params),Q=!1;if(!z){if(!s)return;z=u.fallbackTransition,Q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:z,fromState:E,toState:C,player:l,isFallbackTransition:Q}),Q||(cs(e,F0),l.onStart(()=>{kd(e,F0)})),l.onDone(()=>{let ve=this.players.indexOf(l);ve>=0&&this.players.splice(ve,1);const Pe=this._engine.playersByElement.get(e);if(Pe){let at=Pe.indexOf(l);at>=0&&Pe.splice(at,1)}}),this.players.push(l),U.push(l),l}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(s=>s.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,wd,!0);r.forEach(s=>{if(s[io])return;const u=this._engine.fetchNamespacesByElement(s);u.size?u.forEach(l=>l.triggerLeaveAnimation(s,t,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(e,t,r,s){const u=this._engine.statesByElement.get(e),l=new Map;if(u){const m=[];if(Object.keys(u).forEach(E=>{if(l.set(E,u[E].value),this._triggers[E]){const C=this.trigger(e,E,Lg,s);C&&m.push(C)}}),m.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&xu(m).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const s=new Set;t.forEach(u=>{const l=u.name;if(s.has(l))return;s.add(l);const E=this._triggers[l].fallbackTransition,C=r[l]||a_,M=new V0(Lg),R=new u_(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:E,fromState:C,toState:M,player:R,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)s=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[io];(!u||u===Fg)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){cs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const s=r.player;if(s.destroyed)return;const u=r.element,l=this._elementListeners.get(u);l&&l.forEach(m=>{if(m.name==r.triggerName){const E=pf(u,r.triggerName,r.fromState.value,r.toState.value);E._data=e,ff(r.player,m.phase,E,m.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(r)}),this._queue=[],t.sort((r,s)=>{const u=r.transition.ast.depCount,l=s.transition.ast.depCount;return 0==u||0==l?u-l:this._engine.driver.containsElement(r.element,s.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class rx{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new U0(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let s=!1;for(let u=r;u>=0;u--)if(this.driver.containsElement(this._namespaceList[u].hostElement,t)){this._namespaceList.splice(u+1,0,e),s=!0;break}s||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let s=this._namespaceLookup[e];s&&s.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const s=this._namespaceList.indexOf(r);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const s=Object.keys(r);for(let u=0;u<s.length;u++){const l=r[s[u]].namespaceId;if(l){const m=this._fetchNamespace(l);m&&t.add(m)}}}return t}trigger(e,t,r,s){if(Ef(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,s),!0}return!1}insertNode(e,t,r,s){if(!Ef(t))return;const u=t[io];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),cs(e,s_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),kd(e,s_))}removeNode(e,t,r,s){if(Ef(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,s):this.markElementAsRemoved(e,t,!1,s),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,s)}}else this._onRemovalComplete(t,s)}markElementAsRemoved(e,t,r,s,u){this.collectedLeaveElements.push(t),t[io]={namespaceId:e,setForRemoval:s,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,s,u){return Ef(t)?this._fetchNamespace(e).listen(t,r,s,u):()=>{}}_buildInstruction(e,t,r,s,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,s,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,wd,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Cg,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return xu(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[io];if(r&&r.setForRemoval){if(e[io]=Fg,r.namespaceId){this.destroyInnerAnimations(e);const s=this._fetchNamespace(r.namespaceId);s&&s.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(s_))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,s)=>this._balanceNamespaceList(r,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)cs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let s=0;s<r.length;s++)r[s]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?xu(t).onDone(()=>{r.forEach(s=>s())}):r.forEach(s=>s())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new Er,s=[],u=new Map,l=[],m=new Map,E=new Map,C=new Map,M=new Set;this.disabledNodes.forEach(ot=>{M.add(ot);const Dt=this.driver.query(ot,".ng-animate-queued",!0);for(let Tt=0;Tt<Dt.length;Tt++)M.add(Dt[Tt])});const R=this.bodyNode,U=Array.from(this.statesByElement.keys()),z=B0(U,this.collectedEnterElements),Q=new Map;let ve=0;z.forEach((ot,Dt)=>{const Tt=Yy+ve++;Q.set(Dt,Tt),ot.forEach(sn=>cs(sn,Tt))});const Pe=[],at=new Set,Et=new Set;for(let ot=0;ot<this.collectedLeaveElements.length;ot++){const Dt=this.collectedLeaveElements[ot],Tt=Dt[io];Tt&&Tt.setForRemoval&&(Pe.push(Dt),at.add(Dt),Tt.hasAnimation?this.driver.query(Dt,".ng-star-inserted",!0).forEach(sn=>at.add(sn)):Et.add(Dt))}const Lt=new Map,ht=B0(U,Array.from(at));ht.forEach((ot,Dt)=>{const Tt=Dg+ve++;Lt.set(Dt,Tt),ot.forEach(sn=>cs(sn,Tt))}),e.push(()=>{z.forEach((ot,Dt)=>{const Tt=Q.get(Dt);ot.forEach(sn=>kd(sn,Tt))}),ht.forEach((ot,Dt)=>{const Tt=Lt.get(Dt);ot.forEach(sn=>kd(sn,Tt))}),Pe.forEach(ot=>{this.processLeaveNode(ot)})});const ln=[],pr=[];for(let ot=this._namespaceList.length-1;ot>=0;ot--)this._namespaceList[ot].drainQueuedTransitions(t).forEach(Tt=>{const sn=Tt.player,ui=Tt.element;if(ln.push(sn),this.collectedEnterElements.length){const Es=ui[io];if(Es&&Es.setForMove){if(Es.previousTriggersValues&&Es.previousTriggersValues.has(Tt.triggerName)){const Ap=Es.previousTriggersValues.get(Tt.triggerName),_h=this.statesByElement.get(Tt.element);_h&&_h[Tt.triggerName]&&(_h[Tt.triggerName].value=Ap)}return void sn.destroy()}}const nc=!R||!this.driver.containsElement(R,ui),po=Lt.get(ui),yh=Q.get(ui),nr=this._buildInstruction(Tt,r,yh,po,nc);if(nr.errors&&nr.errors.length)return void pr.push(nr);if(nc)return sn.onStart(()=>Gc(ui,nr.fromStyles)),sn.onDestroy(()=>Wo(ui,nr.toStyles)),void s.push(sn);if(Tt.isFallbackTransition)return sn.onStart(()=>Gc(ui,nr.fromStyles)),sn.onDestroy(()=>Wo(ui,nr.toStyles)),void s.push(sn);const r1=[];nr.timelines.forEach(Es=>{Es.stretchStartingKeyframe=!0,this.disabledNodes.has(Es.element)||r1.push(Es)}),nr.timelines=r1,r.append(ui,nr.timelines),l.push({instruction:nr,player:sn,element:ui}),nr.queriedElements.forEach(Es=>zr(m,Es,[]).push(sn)),nr.preStyleProps.forEach((Es,Ap)=>{const _h=Object.keys(Es);if(_h.length){let Sp=E.get(Ap);Sp||E.set(Ap,Sp=new Set),_h.forEach(hM=>Sp.add(hM))}}),nr.postStyleProps.forEach((Es,Ap)=>{const _h=Object.keys(Es);let Sp=C.get(Ap);Sp||C.set(Ap,Sp=new Set),_h.forEach(hM=>Sp.add(hM))})});if(pr.length){const ot=[];pr.forEach(Dt=>{ot.push(`@${Dt.triggerName} has failed due to:\n`),Dt.errors.forEach(Tt=>ot.push(`- ${Tt}\n`))}),ln.forEach(Dt=>Dt.destroy()),this.reportError(ot)}const jr=new Map,_l=new Map;l.forEach(ot=>{const Dt=ot.element;r.has(Dt)&&(_l.set(Dt,Dt),this._beforeAnimationBuild(ot.player.namespaceId,ot.instruction,jr))}),s.forEach(ot=>{const Dt=ot.element;this._getPreviousPlayers(Dt,!1,ot.namespaceId,ot.triggerName,null).forEach(sn=>{zr(jr,Dt,[]).push(sn),sn.destroy()})});const vl=Pe.filter(ot=>l_(ot,E,C)),El=new Map;bf(El,this.driver,Et,C,La).forEach(ot=>{l_(ot,E,C)&&vl.push(ot)});const OE=new Map;z.forEach((ot,Dt)=>{bf(OE,this.driver,new Set(ot),E,"!")}),vl.forEach(ot=>{const Dt=El.get(ot),Tt=OE.get(ot);El.set(ot,Object.assign(Object.assign({},Dt),Tt))});const Tp=[],t1=[],n1={};l.forEach(ot=>{const{element:Dt,player:Tt,instruction:sn}=ot;if(r.has(Dt)){if(M.has(Dt))return Tt.onDestroy(()=>Wo(Dt,sn.toStyles)),Tt.disabled=!0,Tt.overrideTotalTime(sn.totalTime),void s.push(Tt);let ui=n1;if(_l.size>1){let po=Dt;const yh=[];for(;po=po.parentNode;){const nr=_l.get(po);if(nr){ui=nr;break}yh.push(po)}yh.forEach(nr=>_l.set(nr,ui))}const nc=this._buildAnimation(Tt.namespaceId,sn,jr,u,OE,El);if(Tt.setRealPlayer(nc),ui===n1)Tp.push(Tt);else{const po=this.playersByElement.get(ui);po&&po.length&&(Tt.parentPlayer=xu(po)),s.push(Tt)}}else Gc(Dt,sn.fromStyles),Tt.onDestroy(()=>Wo(Dt,sn.toStyles)),t1.push(Tt),M.has(Dt)&&s.push(Tt)}),t1.forEach(ot=>{const Dt=u.get(ot.element);if(Dt&&Dt.length){const Tt=xu(Dt);ot.setRealPlayer(Tt)}}),s.forEach(ot=>{ot.parentPlayer?ot.syncPlayerEvents(ot.parentPlayer):ot.destroy()});for(let ot=0;ot<Pe.length;ot++){const Dt=Pe[ot],Tt=Dt[io];if(kd(Dt,Dg),Tt&&Tt.hasAnimation)continue;let sn=[];if(m.size){let nc=m.get(Dt);nc&&nc.length&&sn.push(...nc);let po=this.driver.query(Dt,Cg,!0);for(let yh=0;yh<po.length;yh++){let nr=m.get(po[yh]);nr&&nr.length&&sn.push(...nr)}}const ui=sn.filter(nc=>!nc.destroyed);ui.length?XC(this,Dt,ui):this.processLeaveNode(Dt)}return Pe.length=0,Tp.forEach(ot=>{this.players.push(ot),ot.onDone(()=>{ot.destroy();const Dt=this.players.indexOf(ot);this.players.splice(Dt,1)}),ot.play()}),Tp}elementContainsData(e,t){let r=!1;const s=t[io];return s&&s.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,s,u){let l=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(l=m)}else{const m=this.playersByElement.get(e);if(m){const E=!u||u==Lg;m.forEach(C=>{C.queued||!E&&C.triggerName!=s||l.push(C)})}}return(r||s)&&(l=l.filter(m=>!(r&&r!=m.namespaceId||s&&s!=m.triggerName))),l}_beforeAnimationBuild(e,t,r){const u=t.element,l=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const E of t.timelines){const C=E.element,M=C!==u,R=zr(r,C,[]);this._getPreviousPlayers(C,M,l,m,t.toState).forEach(z=>{const Q=z.getRealPlayer();Q.beforeDestroy&&Q.beforeDestroy(),z.destroy(),R.push(z)})}Gc(u,t.fromStyles)}_buildAnimation(e,t,r,s,u,l){const m=t.triggerName,E=t.element,C=[],M=new Set,R=new Set,U=t.timelines.map(Q=>{const ve=Q.element;M.add(ve);const Pe=ve[io];if(Pe&&Pe.removedBeforeQueried)return new $c(Q.duration,Q.delay);const at=ve!==E,Et=function eI(n){const e=[];return j0(n,e),e}((r.get(ve)||o_).map(jr=>jr.getRealPlayer())).filter(jr=>!!jr.element&&jr.element===ve),Lt=u.get(ve),ht=l.get(ve),ln=OC(0,this._normalizer,0,Q.keyframes,Lt,ht),pr=this._buildPlayer(Q,ln,Et);if(Q.subTimeline&&s&&R.add(ve),at){const jr=new u_(e,m,ve);jr.setRealPlayer(pr),C.push(jr)}return pr});C.forEach(Q=>{zr(this.playersByQueriedElement,Q.element,[]).push(Q),Q.onDone(()=>function xd(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const s=r.indexOf(t);r.splice(s,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const s=r.indexOf(t);r.splice(s,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,Q.element,Q))}),M.forEach(Q=>cs(Q,Qy));const z=xu(U);return z.onDestroy(()=>{M.forEach(Q=>kd(Q,Qy)),Wo(E,t.toStyles)}),R.forEach(Q=>{zr(s,Q,[]).push(z)}),z}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new $c(e.duration,e.delay)}}class u_{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new $c,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>ff(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){zr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ef(n){return n&&1===n.nodeType}function c_(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function bf(n,e,t,r,s){const u=[];t.forEach(E=>u.push(c_(E)));const l=[];r.forEach((E,C)=>{const M={};E.forEach(R=>{const U=M[R]=e.computeStyle(C,R,s);(!U||0==U.length)&&(C[io]=YC,l.push(C))}),n.set(C,M)});let m=0;return t.forEach(E=>c_(E,u[m++])),l}function B0(n,e){const t=new Map;if(n.forEach(m=>t.set(m,[])),0==e.length)return t;const s=new Set(e),u=new Map;function l(m){if(!m)return 1;let E=u.get(m);if(E)return E;const C=m.parentNode;return E=t.has(C)?C:s.has(C)?1:l(C),u.set(m,E),E}return e.forEach(m=>{const E=l(m);1!==E&&t.get(E).push(m)}),t}function cs(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function kd(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function XC(n,e,t){xu(t).onDone(()=>n.processLeaveNode(e))}function j0(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Gy?j0(r.players,e):e.push(r)}}function l_(n,e,t){const r=t.get(n);if(!r)return!1;let s=e.get(n);return s?r.forEach(u=>s.add(u)):e.set(n,r),t.delete(n),!0}class Vg{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,u)=>{},this._transitionEngine=new rx(e,t,r),this._timelineEngine=new P0(e,t,r),this._transitionEngine.onRemovalComplete=(s,u)=>this.onRemovalComplete(s,u)}registerTrigger(e,t,r,s,u){const l=e+"-"+s;let m=this._triggerCache[l];if(!m){const E=[],C=t_(this._driver,u,E);if(E.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${E.join("\n - ")}`);m=function zC(n,e,t){return new O0(n,e,t)}(s,C,this._normalizer),this._triggerCache[l]=m}this._transitionEngine.registerTrigger(t,s,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,s){this._transitionEngine.insertNode(e,t,r,s)}onRemove(e,t,r,s){this._transitionEngine.removeNode(e,t,s||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,s){if("@"==r.charAt(0)){const[u,l]=_0(r);this._timelineEngine.command(u,t,l,s)}else this._transitionEngine.trigger(e,t,r,s)}listen(e,t,r,s,u){if("@"==r.charAt(0)){const[l,m]=_0(r);return this._timelineEngine.listen(l,t,m,u)}return this._transitionEngine.listen(e,t,r,s,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function d_(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=wf(e[0]),e.length>1&&(r=wf(e[e.length-1]))):e&&(t=wf(e)),t||r?new $0(n,t,r):null}let $0=(()=>{class n{constructor(t,r,s){this._element=t,this._startStyles=r,this._endStyles=s,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&Wo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Wo(this._element,this._initialStyles),this._endStyles&&(Wo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Gc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Gc(this._element,this._endStyles),this._endStyles=null),Wo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function wf(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const s=t[r];ix(s)&&(e=e||{},e[s]=n[s])}return e}function ix(n){return"display"===n||"position"===n}const H0="animation",nI="animationend";class G0{constructor(e,t,r,s,u,l,m){this._element=e,this._name=t,this._duration=r,this._delay=s,this._easing=u,this._fillMode=l,this._onDoneFn=m,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=E=>this._handleCallback(E)}apply(){(function f_(n,e){const t=m_(n,"").trim();let r=0;t.length&&(r=function q0(n,e){let t=0;for(let r=0;r<n.length;r++)n.charAt(r)===e&&t++;return t}(t,",")+1,e=`${t}, ${e}`),g_(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),p_(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Ug(this._element,this._name,"paused")}resume(){Ug(this._element,this._name,"running")}setPosition(e){const t=Bg(this._element,this._name);this._position=e*this._duration,g_(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),p_(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function rI(n,e){const r=m_(n,"").split(","),s=Cf(r,e);s>=0&&(r.splice(s,1),g_(n,"",r.join(",")))}(this._element,this._name))}}function Ug(n,e,t){g_(n,"PlayState",t,Bg(n,e))}function Bg(n,e){const t=m_(n,"");return t.indexOf(",")>0?Cf(t.split(","),e):Cf([t],e)}function Cf(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function p_(n,e,t){t?n.removeEventListener(nI,e):n.addEventListener(nI,e)}function g_(n,e,t,r){const s=H0+e;if(null!=r){const u=n.style[s];if(u.length){const l=u.split(",");l[r]=t,t=l.join(",")}}n.style[s]=t}function m_(n,e){return n.style[H0+e]||""}class y_{constructor(e,t,r,s,u,l,m,E){this.element=e,this.keyframes=t,this.animationName=r,this._duration=s,this._delay=u,this._finalStyles=m,this._specialStyles=E,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=l||"linear",this.totalTime=s+u,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new G0(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:Sg(this.element,r))})}this.currentSnapshot=e}}class __ extends $c{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=Ky(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class jg{constructor(){this._count=0}validateStyleProperty(e){return Wy(e)}matchesElement(e,t){return!1}containsElement(e,t){return wg(e,t)}query(e,t,r){return ku(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(m=>Ky(m));let s=`@keyframes ${t} {\n`,u="";r.forEach(m=>{u=" ";const E=parseFloat(m.offset);s+=`${u}${100*E}% {\n`,u+=" ",Object.keys(m).forEach(C=>{const M=m[C];switch(C){case"offset":return;case"easing":return void(M&&(s+=`${u}animation-timing-function: ${M};\n`));default:return void(s+=`${u}${C}: ${M};\n`)}}),s+=`${u}}\n`}),s+="}\n";const l=document.createElement("style");return l.textContent=s,l}animate(e,t,r,s,u,l=[],m){const E=l.filter(Pe=>Pe instanceof y_),C={};VC(r,s)&&E.forEach(Pe=>{let at=Pe.currentSnapshot;Object.keys(at).forEach(Et=>C[Et]=at[Et])});const M=function sI(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(s=>{"offset"==s||"easing"==s||(e[s]=r[s])})}),e}(t=Xy(e,t,C));if(0==r)return new __(e,M);const R="gen_css_kf_"+this._count++,U=this.buildKeyframeElement(e,R,t);(function K0(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(U);const Q=d_(e,t),ve=new y_(e,t,R,r,s,u,M,Q);return ve.onDestroy(()=>function Z0(n){n.parentNode.removeChild(n)}(U)),ve}}class b_{constructor(e,t,r,s){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:Sg(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class oI{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(w_().toString()),this._cssKeyframesDriver=new jg}validateStyleProperty(e){return Wy(e)}matchesElement(e,t){return!1}containsElement(e,t){return wg(e,t)}query(e,t,r){return ku(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,s,u,l=[],m){if(!m&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,s,u,l);const M={duration:r,delay:s,fill:0==s?"both":"forwards"};u&&(M.easing=u);const R={},U=l.filter(Q=>Q instanceof b_);VC(r,s)&&U.forEach(Q=>{let ve=Q.currentSnapshot;Object.keys(ve).forEach(Pe=>R[Pe]=ve[Pe])});const z=d_(e,t=Xy(e,t=t.map(Q=>Va(Q,!1)),R));return new b_(e,t,M,z)}}function w_(){return hf()&&Element.prototype.animate||{}}let J0=(()=>{class n extends yg{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(t)?_g(t):t;return C_(this._renderer,null,r,"register",[s]),new D_(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(se))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class D_ extends class SC{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new X0(this._id,e,t||{},this._renderer)}}class X0{constructor(e,t,r,s){this.id=e,this.element=t,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return C_(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function C_(n,e,t,r,s){return n.setProperty(e,`@@${t}:${r}`,s)}const I_="@.disabled";let eb=(()=>{class n{constructor(t,r,s){this.delegate=t,this.engine=r,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,l)=>{const m=null==l?void 0:l.parentNode(u);m&&l.removeChild(m,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let M=this._rendererCache.get(u);return M||(M=new T_("",u,this.engine),this._rendererCache.set(u,M)),M}const l=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const E=M=>{Array.isArray(M)?M.forEach(E):this.engine.registerTrigger(l,m,t,M.name,M)};return r.data.animation.forEach(E),new tb(this,m,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,s){t>=0&&t<this._microtaskId?this._zone.run(()=>r(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[l,m]=u;l(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(Vg),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class T_{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,s=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,s)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,s){this.delegate.setAttribute(e,t,r,s)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,s){this.delegate.setStyle(e,t,r,s)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==I_?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class tb extends T_{constructor(e,t,r,s){super(t,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==I_?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const s=function nb(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.substr(1),l="";return"@"!=u.charAt(0)&&([u,l]=function sx(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(u)),this.engine.listen(this.namespaceId,s,u,l,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(e,t,r)}}let aI=(()=>{class n extends Vg{constructor(t,r,s){super(t.body,r,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(se),f.LFG(Zy),f.LFG(Ng))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Wn=new f.OlP("AnimationModuleType"),A_=[{provide:yg,useClass:J0},{provide:Ng,useFactory:function rb(){return new S0}},{provide:Vg,useClass:aI},{provide:f.FYo,useFactory:function cI(n,e,t){return new eb(n,e,t)},deps:[Nr,Vg,f.R0b]}],ib=[{provide:Zy,useFactory:function uI(){return function Q0(){return"function"==typeof w_()}()?new oI:new jg}},{provide:Wn,useValue:"BrowserAnimations"},...A_],lI=[{provide:Zy,useClass:E0},{provide:Wn,useValue:"NoopAnimations"},...A_];let sb=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?lI:ib}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:ib,imports:[au]}),n})();const ob=new f.OlP("mat-sanity-checks",{providedIn:"root",factory:function lx(){return!0}});let Od=(()=>{class n{constructor(t,r,s){this._sanityChecks=r,this._document=s,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function Cu(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(AC),f.LFG(ob,8),f.LFG(se))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[ng],ng]}),n})();function Ko(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=xn(e)}}}function so(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function oo(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=xn(e)}}}function ab(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Ho(t):this.defaultTabIndex}}}class lb{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const x_={enterDuration:225,exitDuration:150},Hg=Xh({passive:!0}),k_=["mousedown","touchstart"],O_=["mouseup","mouseleave","touchend","touchcancel"];class hb{constructor(e,t,r,s){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=Xs(r))}fadeInRipple(e,t,r={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),u=Object.assign(Object.assign({},x_),r.animation);r.centered&&(e=s.left+s.width/2,t=s.top+s.height/2);const l=r.radius||function bI(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),s=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+s*s)}(e,t,s),m=e-s.left,E=t-s.top,C=u.enterDuration,M=document.createElement("div");M.classList.add("mat-ripple-element"),M.style.left=m-l+"px",M.style.top=E-l+"px",M.style.height=2*l+"px",M.style.width=2*l+"px",null!=r.color&&(M.style.backgroundColor=r.color),M.style.transitionDuration=`${C}ms`,this._containerElement.appendChild(M),function fb(n){window.getComputedStyle(n).getPropertyValue("opacity")}(M),M.style.transform="scale(1)";const R=new lb(this,M,r);return R.state=0,this._activeRipples.add(R),r.persistent||(this._mostRecentTransientRipple=R),this._runTimeoutOutsideZone(()=>{const U=R===this._mostRecentTransientRipple;R.state=1,!r.persistent&&(!U||!this._isPointerDown)&&R.fadeOut()},C),R}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,s=Object.assign(Object.assign({},x_),e.config.animation);r.style.transitionDuration=`${s.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},s.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Xs(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(k_))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(O_),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=Vy(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!p0(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,Hg)})})}_removeTriggerEvents(){this._triggerElement&&(k_.forEach(e=>{this._triggerElement.removeEventListener(e,this,Hg)}),this._pointerUpEventsRegistered&&O_.forEach(e=>{this._triggerElement.removeEventListener(e,this,Hg)}))}}const wI=new f.OlP("mat-ripple-global-options");let pb=(()=>{class n{constructor(t,r,s,u,l){this._elementRef=t,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=u||{},this._rippleRenderer=new hb(this,r,t,s)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,s){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(hd),f.Y36(wI,8),f.Y36(Wn,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&f.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),DI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[Od,fd],Od]}),n})();var R_=P(4986);let N_=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mb=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=Xs(t);return new yr.y(s=>{const l=this._observeElement(r).subscribe(s);return()=>{l.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new kn.x,s=this._mutationObserverFactory.create(u=>r.next(u));s&&s.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:s,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:s}=this._observedElements.get(t);r&&r.disconnect(),s.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(N_))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yb=(()=>{class n{constructor(t,r,s){this._contentObserver=t,this._elementRef=r,this._ngZone=s,this.event=new f.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=xn(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Ho(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(function gb(n,e=R_.z){return(0,qr.e)((t,r)=>{let s=null,u=null,l=null;const m=()=>{if(s){s.unsubscribe(),s=null;const C=u;u=null,r.next(C)}};function E(){const C=l+n,M=e.now();if(M<C)return s=this.schedule(void 0,C-M),void r.add(s);m()}t.subscribe(new Xn.Q(r,C=>{u=C,l=e.now(),s||(s=e.schedule(E,n),r.add(s))},()=>{m(),r.complete()},void 0,()=>{u=s=null}))})}(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(mb),f.Y36(f.SBq),f.Y36(f.R0b))},n.\u0275dir=f.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),_b=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[N_]}),n})();const vb=["input"],Eb=function(n){return{enterDuration:n}},P_=["*"],bb=new f.OlP("mat-checkbox-default-options",{providedIn:"root",factory:Pu});function Pu(){return{color:"accent",clickAction:"check-indeterminate"}}let II=0;const wb=Pu(),Rd={provide:Fr,useExisting:(0,f.Gpc)(()=>TI),multi:!0};class Rx{}const F_=ab(so(oo(Ko(class{constructor(n){this._elementRef=n}}))));let TI=(()=>{class n extends F_{constructor(t,r,s,u,l,m,E){super(t),this._changeDetectorRef=r,this._focusMonitor=s,this._ngZone=u,this._animationMode=m,this._options=E,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++II,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new f.vpe,this.indeterminateChange=new f.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||wb,this.color=this.defaultColor=this._options.color||wb.color,this.tabIndex=parseInt(l)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=xn(t)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const r=xn(t);r!==this.disabled&&(this._disabled=r,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const r=t!=this._indeterminate;this._indeterminate=xn(t),r&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let r=this._currentCheckState,s=this._elementRef.nativeElement;if(r!==t&&(this._currentAnimationClass.length>0&&s.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(r,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){s.classList.add(this._currentAnimationClass);const u=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{s.classList.remove(u)},1e3)})}}_emitChangeEvent(){const t=new Rx;t.source=this,t.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(t),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked}_onInputClick(t){var r;const s=null===(r=this._options)||void 0===r?void 0:r.clickAction;t.stopPropagation(),this.disabled||"noop"===s?!this.disabled&&"noop"===s&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==s&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(t,r){t?this._focusMonitor.focusVia(this._inputElement,t,r):this._inputElement.nativeElement.focus(r)}_onInteractionEvent(t){t.stopPropagation()}_getAnimationClassForCheckStateTransition(t,r){if("NoopAnimations"===this._animationMode)return"";let s="";switch(t){case 0:if(1===r)s="unchecked-checked";else{if(3!=r)return"";s="unchecked-indeterminate"}break;case 2:s=1===r?"unchecked-checked":"unchecked-indeterminate";break;case 1:s=2===r?"checked-unchecked":"checked-indeterminate";break;case 3:s=1===r?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${s}`}_syncIndeterminate(t){const r=this._inputElement;r&&(r.nativeElement.indeterminate=t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(f.sBO),f.Y36(IC),f.Y36(f.R0b),f.$8M("tabindex"),f.Y36(Wn,8),f.Y36(bb,8))},n.\u0275cmp=f.Xpm({type:n,selectors:[["mat-checkbox"]],viewQuery:function(t,r){if(1&t&&(f.Gf(vb,5),f.Gf(pb,5)),2&t){let s;f.iGM(s=f.CRH())&&(r._inputElement=s.first),f.iGM(s=f.CRH())&&(r.ripple=s.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(t,r){2&t&&(f.Ikx("id",r.id),f.uIk("tabindex",null),f.ekj("mat-checkbox-indeterminate",r.indeterminate)("mat-checkbox-checked",r.checked)("mat-checkbox-disabled",r.disabled)("mat-checkbox-label-before","before"==r.labelPosition)("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[f._Bn([Rd]),f.qOj],ngContentSelectors:P_,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,r){if(1&t&&(f.F$t(),f.TgZ(0,"label",0,1),f.TgZ(2,"span",2),f.TgZ(3,"input",3,4),f.NdJ("change",function(u){return r._onInteractionEvent(u)})("click",function(u){return r._onInputClick(u)}),f.qZA(),f.TgZ(5,"span",5),f._UZ(6,"span",6),f.qZA(),f._UZ(7,"span",7),f.TgZ(8,"span",8),f.O4$(),f.TgZ(9,"svg",9),f._UZ(10,"path",10),f.qZA(),f.kcU(),f._UZ(11,"span",11),f.qZA(),f.qZA(),f.TgZ(12,"span",12,13),f.NdJ("cdkObserveContent",function(){return r._onLabelTextChange()}),f.TgZ(14,"span",14),f._uU(15,"\xa0"),f.qZA(),f.Hsn(16),f.qZA(),f.qZA()),2&t){const s=f.MAs(1),u=f.MAs(13);f.uIk("for",r.inputId),f.xp6(2),f.ekj("mat-checkbox-inner-container-no-side-margin",!u.textContent||!u.textContent.trim()),f.xp6(1),f.Q6J("id",r.inputId)("required",r.required)("checked",r.checked)("disabled",r.disabled)("tabIndex",r.tabIndex),f.uIk("value",r.value)("name",r.name)("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-checked",r._getAriaChecked())("aria-describedby",r.ariaDescribedby),f.xp6(2),f.Q6J("matRippleTrigger",s)("matRippleDisabled",r._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",f.VKq(19,Eb,"NoopAnimations"===r._animationMode?0:150))}},directives:[pb,yb],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),n})(),AI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})(),yt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[DI,Od,_b,AI],Od,AI]}),n})(),SI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[ca,bu,Lr,yt],bu,Lr,yt]}),n})();const Ib_firebaseConfig={apiKey:"AIzaSyA8OgPse8YBYj9mXrtwuvX2quC7ytZ_Xzc",authDomain:"todolistmonbile.firebaseapp.com",projectId:"todolistmonbile",storageBucket:"todolistmonbile.appspot.com",messagingSenderId:"310645029706",appId:"1:310645029706:web:e32bc4fdc018dbd7991fb3",measurementId:"G-2R7992HL29"};var ao=P(2011),cr=P(5813),Gg=P(8189);function Nd(...n){return function qg(){return(0,Gg.J)(1)}()((0,gn.D)(n,(0,Fi.yG)(n)))}function Dn(...n){const e=(0,Fi.yG)(n);return(0,qr.e)((t,r)=>{(e?Nd(n,t,e):Nd(n,t)).subscribe(r)})}function Tb(){return(0,qr.e)((n,e)=>{let t,r=!1;n.subscribe(new Xn.Q(e,s=>{const u=t;t=s,r&&e.next([u,s]),r=!0}))})}function Ab(n,e,t,r,s){return(u,l)=>{let m=t,E=e,C=0;u.subscribe(new Xn.Q(l,M=>{const R=C++;E=m?n(E,M,R):(m=!0,M),r&&l.next(E)},s&&(()=>{m&&l.next(E),l.complete()})))}}function Af(n,e){return(0,qr.e)(Ab(n,e,arguments.length>=2,!0))}P(5735);var Qe,Sb=P(3942),me=P(5861),Fu=P(9681),Sf=P(4859),Lu=P(1877),jt=P(2090),MI="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ls={},L_=L_||{},St=MI||self;function Zc(){}function zg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Pd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var V_="closure_uid_"+(1e9*Math.random()>>>0),Mf=0;function xf(n,e,t){return n.call.apply(n.bind,arguments)}function xI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function Wr(n,e,t){return(Wr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xf:xI).apply(null,arguments)}function Wg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ur(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,s,u){for(var l=Array(arguments.length-2),m=2;m<arguments.length;m++)l[m-2]=arguments[m];return e.prototype[s].apply(r,l)}}function Ha(){this.s=this.s,this.o=this.o}var kI={};Ha.prototype.s=!1,Ha.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Mb(n){return Object.prototype.hasOwnProperty.call(n,V_)&&n[V_]||(n[V_]=++Mf)}(this);delete kI[n]}},Ha.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const U_=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},kb=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,s="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in s&&e.call(t,s[u],u,n)};function RI(n){return Array.prototype.concat.apply([],arguments)}function Ob(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function B_(n){return/^[\s\xa0]*$/.test(n)}var Di,NI=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ti(n,e){return-1!=n.indexOf(e)}function Fd(n,e){return n<e?-1:n>e?1:0}e:{var Rb=St.navigator;if(Rb){var j_=Rb.userAgent;if(j_){Di=j_;break e}}Di=""}function Yc(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Nb(n){const e={};for(const t in n)e[t]=n[t];return e}var Pb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fb(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let u=0;u<Pb.length;u++)t=Pb[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function $_(n){return $_[" "](n),n}$_[" "]=Zc;var kf,n,Lb=ti(Di,"Opera"),Ld=ti(Di,"Trident")||ti(Di,"MSIE"),Vb=ti(Di,"Edge"),Vu=Vb||Ld,Ub=ti(Di,"Gecko")&&!(ti(Di.toLowerCase(),"webkit")&&!ti(Di,"Edge"))&&!(ti(Di,"Trident")||ti(Di,"MSIE"))&&!ti(Di,"Edge"),Bb=ti(Di.toLowerCase(),"webkit")&&!ti(Di,"Edge");function jb(){var n=St.document;return n?n.documentMode:void 0}e:{var H_="",Kg=(n=Di,Ub?/rv:([^\);]+)(\)|;)/.exec(n):Vb?/Edge\/([\d\.]+)/.exec(n):Ld?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Bb?/WebKit\/(\S+)/.exec(n):Lb?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Kg&&(H_=Kg?Kg[1]:""),Ld){var G_=jb();if(null!=G_&&G_>parseFloat(H_)){kf=String(G_);break e}}kf=H_}var q_={};var LI=St.document&&Ld&&(jb()||parseInt(kf,10))||void 0,VI=function(){if(!St.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{St.addEventListener("test",Zc,e),St.removeEventListener("test",Zc,e)}catch(t){}return n}();function ni(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Qc(n,e){if(ni.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Ub){e:{try{$_(e.nodeName);var s=!0;break e}catch(u){}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:UI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Qc.Z.h.call(this)}}ni.prototype.h=function(){this.defaultPrevented=!0},Ur(Qc,ni);var UI={2:"touch",3:"pen",4:"mouse"};Qc.prototype.h=function(){Qc.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Vd="closure_listenable_"+(1e6*Math.random()|0),BI=0;function jI(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=s,this.key=++BI,this.ca=this.fa=!1}function Yg(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Qg(n){this.src=n,this.g={},this.h=0}function W_(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],s=U_(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(Yg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function K_(n,e,t,r){for(var s=0;s<n.length;++s){var u=n[s];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return s}return-1}Qg.prototype.add=function(n,e,t,r,s){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=K_(n,e,r,s);return-1<l?(e=n[l],t||(e.fa=!1)):((e=new jI(e,this.src,u,!!r,s)).fa=t,n.push(e)),e};var Z_="closure_lm_"+(1e6*Math.random()|0),Y_={};function Q_(n,e,t,r,s){if(r&&r.once)return $b(n,e,t,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Q_(n,e[u],t,r,s);return null}return t=Jg(t),n&&n[Vd]?n.N(e,t,Pd(r)?!!r.capture:!!r,s):J_(n,e,t,!1,r,s)}function J_(n,e,t,r,s,u){if(!e)throw Error("Invalid event type");var l=Pd(s)?!!s.capture:!!s,m=Of(n);if(m||(n[Z_]=m=new Qg(n)),(t=m.add(e,t,r,l,u)).proxy)return t;if(r=function $I(){var e=HI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)VI||(s=l),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(Hb(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function $b(n,e,t,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)$b(n,e[u],t,r,s);return null}return t=Jg(t),n&&n[Vd]?n.O(e,t,Pd(r)?!!r.capture:!!r,s):J_(n,e,t,!0,r,s)}function X_(n,e,t,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)X_(n,e[u],t,r,s);else r=Pd(r)?!!r.capture:!!r,t=Jg(t),n&&n[Vd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=K_(u=n.g[e],t,r,s))&&(Yg(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Of(n))&&(e=n.g[e.toString()],n=-1,e&&(n=K_(e,t,r,s)),(t=-1<n?e[n]:null)&&ev(t))}function ev(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Vd])W_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Hb(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Of(e))?(W_(t,n),0==t.h&&(t.src=null,e[Z_]=null)):Yg(n)}}}function Hb(n){return n in Y_?Y_[n]:Y_[n]="on"+n}function HI(n,e){if(n.ca)n=!0;else{e=new Qc(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&ev(n),n=t.call(r,e)}return n}function Of(n){return(n=n[Z_])instanceof Qg?n:null}var Rf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jg(n){return"function"==typeof n?n:(n[Rf]||(n[Rf]=function(e){return n.handleEvent(e)}),n[Rf])}function lr(){Ha.call(this),this.i=new Qg(this),this.P=this,this.I=null}function Kr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ni(e,n);else if(e instanceof ni)e.target=e.target||n;else{var s=e;Fb(e=new ni(r,n),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];s=Xg(l,r,!0,e)&&s}if(s=Xg(l=e.g=n,r,!0,e)&&s,s=Xg(l,r,!1,e)&&s,t)for(u=0;u<t.length;u++)s=Xg(l=e.g=t[u],r,!1,e)&&s}function Xg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.ca&&l.capture==t){var m=l.listener,E=l.ia||l.src;l.fa&&W_(n.i,l),s=!1!==m.call(E,r)&&s}}return s&&!r.defaultPrevented}Ur(lr,Ha),lr.prototype[Vd]=!0,lr.prototype.removeEventListener=function(n,e,t,r){X_(this,n,e,t,r)},lr.prototype.M=function(){if(lr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Yg(t[r]);delete n.g[e],n.h--}}this.I=null},lr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},lr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Nf=St.JSON.stringify;function GI(){var n=Kb;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Wb,qb=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new zb,n=>n.reset());class zb{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function qI(n){St.setTimeout(()=>{throw n},0)}function em(n,e){Wb||function zI(){var n=St.Promise.resolve(void 0);Wb=function(){n.then(Ud)}}(),Jc||(Wb(),Jc=!0),Kb.add(n,e)}var Jc=!1,Kb=new class Gb{constructor(){this.h=this.g=null}add(e,t){const r=qb.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Ud(){for(var n;n=GI();){try{n.h.call(n.g)}catch(t){qI(t)}var e=qb;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Jc=!1}function Uu(n,e){lr.call(this),this.h=n||1,this.g=e||St,this.j=Wr(this.kb,this),this.l=Date.now()}function tv(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Zb(n,e,t){if("function"==typeof n)t&&(n=Wr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Wr(n.handleEvent,n)}return 2147483647<Number(e)?-1:St.setTimeout(n,e||0)}function nv(n){n.g=Zb(()=>{n.g=null,n.i&&(n.i=!1,nv(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ur(Uu,lr),(Qe=Uu.prototype).da=!1,Qe.S=null,Qe.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Kr(this,"tick"),this.da&&(tv(this),this.start()))}},Qe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qe.M=function(){Uu.Z.M.call(this),tv(this),delete this.g};class WI extends Ha{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nv(this)}M(){super.M(),this.g&&(St.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pf(n){Ha.call(this),this.h=n,this.g={}}Ur(Pf,Ha);var Yb=[];function Qb(n,e,t,r){Array.isArray(t)||(t&&(Yb[0]=t.toString()),t=Yb);for(var s=0;s<t.length;s++){var u=Q_(e,t[s],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function rv(n){Yc(n.g,function(e,t){this.g.hasOwnProperty(t)&&ev(e)},n),n.g={}}function Ff(){this.g=!0}function Zo(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Jb(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<s.length;l++)s[l]=""}}}return Nf(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}Pf.prototype.M=function(){Pf.Z.M.call(this),rv(this)},Pf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ff.prototype.Aa=function(){this.g=!1},Ff.prototype.info=function(){};var Bu={},Xb=null;function nm(){return Xb=Xb||new lr}function ew(n){ni.call(this,Bu.Ma,n)}function Xc(n){const e=nm();Kr(e,new ew(e,n))}function tw(n,e){ni.call(this,Bu.STAT_EVENT,n),this.stat=e}function Hi(n){const e=nm();Kr(e,new tw(e,n))}function nw(n,e){ni.call(this,Bu.Na,n),this.size=e}function Lf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return St.setTimeout(function(){n()},e)}Bu.Ma="serverreachability",Ur(ew,ni),Bu.STAT_EVENT="statevent",Ur(tw,ni),Bu.Na="timingevent",Ur(nw,ni);var Ga={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},sv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ju(){}function ov(){}ju.prototype.h=null;var iw,Vf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function rw(){ni.call(this,"d")}function rm(){ni.call(this,"c")}function Uf(){}function el(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Pf(this),this.P=sw,this.W=new Uu(n=Vu?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new av}function av(){this.i=null,this.g="",this.h=!1}Ur(rw,ni),Ur(rm,ni),Ur(Uf,ju),Uf.prototype.g=function(){return new XMLHttpRequest},Uf.prototype.i=function(){return{}},iw=new Uf;var sw=45e3,uv={},im={};function cv(n,e,t){n.K=1,n.v=Gu(ds(e)),n.s=t,n.U=!0,ow(n,null)}function ow(n,e){n.F=Date.now(),Bf(n),n.A=ds(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),cm(t.h,"t",r),n.C=0,t=n.l.H,n.h=new av,n.g=Tv(n.l,t?e:null,!n.s),0<n.O&&(n.L=new WI(Wr(n.Ia,n,n.g),n.O)),Qb(n.V,n.g,"readystatechange",n.gb),e=n.H?Nb(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Xc(1),function iv(n,e,t,r,s,u){n.info(function(){if(n.g)if(u)for(var l="",m=u.split("&"),E=0;E<m.length;E++){var C=m[E].split("=");if(1<C.length){var M=C[0];C=C[1];var R=M.split("_");l=2<=R.length&&"type"==R[1]?l+(M+"=")+C+"&":l+(M+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.X,n.s)}function aw(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function uw(n,e,t){let s,r=!0;for(;!n.I&&n.C<t.length;){if(s=YI(n,t),s==im){4==e&&(n.o=4,Hi(14),r=!1),Zo(n.j,n.m,null,"[Incomplete Response]");break}if(s==uv){n.o=4,Hi(15),Zo(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Zo(n.j,n.m,s,null),sm(n,s)}aw(n)&&s!=im&&s!=uv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Hi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Dv(e),e.L=!0,Hi(11))):(Zo(n.j,n.m,t,"[Invalid Chunked Response]"),$u(n),jd(n))}function YI(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?im:(t=Number(e.substring(t,r)),isNaN(t)?uv:(r+=1)+t>e.length?im:(e=e.substr(r,t),n.C=r+t,e))}function Bf(n){n.Y=Date.now()+n.P,Bd(n,n.P)}function Bd(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Lf(Wr(n.eb,n),e)}function jf(n){n.B&&(St.clearTimeout(n.B),n.B=null)}function jd(n){0==n.l.G||n.I||Aw(n.l,n)}function $u(n){jf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,tv(n.W),rv(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function sm(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||fv(t.i,n)))if(t.I=n.N,!n.J&&fv(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(C){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0])e:if(t.u)t.ta=s[1],0<t.ta-t.U&&37500>s[2]&&t.N&&0==t.A&&!t.v&&(t.v=Lf(Wr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Wf(t),nl(t)}ym(t),Hi(18)}if(1>=_w(t.i)&&t.ka){try{t.ka()}catch(C){}t.ka=void 0}}else Ku(t,11)}else if((n.J||t.g==n)&&Wf(t),!B_(e))for(s=t.Ca.g.parse(e),e=0;e<s.length;e++){let C=s[e];if(t.U=C[0],C=C[1],2==t.G)if("c"==C[0]){t.J=C[1],t.la=C[2];const M=C[3];null!=M&&(t.ma=M,t.h.info("VER="+t.ma));const R=C[4];null!=R&&(t.za=R,t.h.info("SVER="+t.za));const U=C[5];null!=U&&"number"==typeof U&&0<U&&(t.K=r=1.5*U,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const z=n.g;if(z){const Q=z.g?z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Q){var u=r.i;!u.g&&(ti(Q,"spdy")||ti(Q,"quic")||ti(Q,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(dm(u,u.h),u.h=null))}if(r.D){const ve=z.g?z.g.getResponseHeader("X-HTTP-Session-Id"):null;ve&&(r.sa=ve,En(r.F,r.D,ve))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var l=n;if((r=t).oa=Iv(r,r.H?r.la:null,r.W),l.J){hm(r.i,l);var m=l,E=r.K;E&&m.setTimeout(E),m.B&&(jf(m),Bf(m)),r.g=l}else wv(r);0<t.l.length&&Kd(t)}else"stop"!=C[0]&&"close"!=C[0]||Ku(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?Ku(t,7):mm(t):"noop"!=C[0]&&t.j&&t.j.wa(C),t.A=0)}Xc(4)}catch(C){}}function om(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(zg(n)||"string"==typeof n)kb(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(zg(n)||"string"==typeof n){t=[];for(var r=n.length,s=0;s<r;s++)t.push(s)}else for(s in t=[],r=0,n)t[r++]=s;r=function cw(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(zg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length;for(var u=0;u<s;u++)e.call(void 0,r[u],t&&t[u],n)}}function $d(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof $d)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function lv(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Hu(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var s={};for(t=e=0;e<n.g.length;)Hu(s,r=n.g[e])||(n.g[t++]=r,s[r]=1),e++;n.g.length=t}}function Hu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Qe=el.prototype).setTimeout=function(n){this.P=n},Qe.gb=function(n){n=n.target;const e=this.L;e&&3==Qo(n)?e.l():this.Ia(n)},Qe.Ia=function(n){try{if(n==this.g)e:{const M=Qo(this.g);var e=this.g.Da();const R=this.g.ba();if(!(3>M)&&(3!=M||Vu||this.g&&(this.h.h||this.g.ga()||qf(this.g)))){this.I||4!=M||7==e||Xc(8==e||0>=R?3:2),jf(this);var t=this.g.ba();this.N=t;t:if(aw(this)){var r=qf(this.g);n="";var s=r.length,u=4==Qo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){$u(this),jd(this);var l="";break t}this.h.i=new St.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=200==t,function tm(n,e,t,r,s,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.X,M,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,E=this.g;if((m=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B_(m)){var C=m;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,Hi(12),$u(this),jd(this);break e}Zo(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,sm(this,t)}this.U?(uw(this,M,l),Vu&&this.i&&3==M&&(Qb(this.V,this.W,"tick",this.fb),this.W.start())):(Zo(this.j,this.m,l,null),sm(this,l)),4==M&&$u(this),this.i&&!this.I&&(4==M?Aw(this.l,this):(this.i=!1,Bf(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Hi(12)):(this.o=0,Hi(13)),$u(this),jd(this)}}}catch(M){}},Qe.fb=function(){if(this.g){var n=Qo(this.g),e=this.g.ga();this.C<e.length&&(jf(this),uw(this,n,e),this.i&&4!=n&&Bf(this))}},Qe.cancel=function(){this.I=!0,$u(this)},Qe.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function KI(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Xc(3),Hi(17)),$u(this),this.o=2,jd(this)):Bd(this,this.Y-n)},(Qe=$d.prototype).R=function(){lv(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Qe.T=function(){return lv(this),this.g.concat()},Qe.get=function(n,e){return Hu(this.h,n)?this.h[n]:e},Qe.set=function(n,e){Hu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Qe.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var s=t[r],u=this.get(s);n.call(e,u,s,this)}};var lw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function tl(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof tl){this.g=void 0!==e?e:n.g,am(this,n.j),this.s=n.s,Hd(this,n.i),hs(this,n.m),this.l=n.l,e=n.h;var t=new Gd;t.i=e.i,e.g&&(t.g=new $d(e.g),t.h=e.h),dw(this,t),this.o=n.o}else n&&(t=String(n).match(lw))?(this.g=!!e,am(this,t[1]||"",!0),this.s=$f(t[2]||""),Hd(this,t[3]||"",!0),hs(this,t[4]),this.l=$f(t[5]||"",!0),dw(this,t[6]||"",!0),this.o=$f(t[7]||"")):(this.g=!!e,this.h=new Gd(null,this.g))}function ds(n){return new tl(n)}function am(n,e,t){n.j=t?$f(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Hd(n,e,t){n.i=t?$f(e,!0):e}function hs(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function dw(n,e,t){e instanceof Gd?(n.h=e,function mw(n,e){e&&!n.j&&(zu(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(gw(this,r),cm(this,s,t))},n)),n.j=e}(n.h,n.g)):(t||(e=qu(e,pw)),n.h=new Gd(e,n.g))}function En(n,e,t){n.h.set(e,t)}function Gu(n){return En(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function $f(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function qu(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,um),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function um(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}tl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(qu(e,hw,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(qu(e,hw,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(qu(t,"/"==t.charAt(0)?fw:eT,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",qu(t,dv)),n.join("")};var hw=/[#\/\?@]/g,eT=/[#\?:]/g,fw=/[#\?]/g,pw=/[#\?@]/g,dv=/#/g;function Gd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function zu(n){n.g||(n.g=new $d,n.h=0,n.i&&function QI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var u=n[t].substring(0,r);s=n[t].substring(r+1)}else u=n[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function gw(n,e){zu(n),e=Wu(n,e),Hu(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Hu((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&lv(n)))}function tT(n,e){return zu(n),e=Wu(n,e),Hu(n.g.h,e)}function cm(n,e,t){gw(n,e),0<t.length&&(n.i=null,n.g.set(Wu(n,e),Ob(t)),n.h+=t.length)}function Wu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function lm(n){this.l=n||nT,n=St.PerformanceNavigationTiming?0<(n=St.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(St.g&&St.g.Ea&&St.g.Ea()&&St.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Qe=Gd.prototype).add=function(n,e){zu(this),this.i=null,n=Wu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Qe.forEach=function(n,e){zu(this),this.g.forEach(function(t,r){kb(t,function(s){n.call(e,s,r,this)},this)},this)},Qe.T=function(){zu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var s=n[r],u=0;u<s.length;u++)t.push(e[r]);return t},Qe.R=function(n){zu(this);var e=[];if("string"==typeof n)tT(this,n)&&(e=RI(e,this.g.get(Wu(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=RI(e,n[t])}return e},Qe.set=function(n,e){return zu(this),this.i=null,tT(this,n=Wu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Qe.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],s=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var l=s;""!==r[u]&&(l+="="+encodeURIComponent(String(r[u]))),n.push(l)}}return this.i=n.join("&")};var nT=10;function yw(n){return!!n.h||!!n.g&&n.g.size>=n.j}function _w(n){return n.h?1:n.g?n.g.size:0}function fv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function dm(n,e){n.g?n.g.add(e):n.h=e}function hm(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function pv(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Ob(n.i)}function fm(){}function vw(){this.g=new fm}function Ew(n,e,t){const r=t||"";try{om(n,function(s,u){let l=s;Pd(s)&&(l=Nf(s)),e.push(r+u+"="+encodeURIComponent(l))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function Hf(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch(u){}}function qd(n){this.l=n.$b||null,this.j=n.ib||!1}function pm(n,e){lr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=gm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lm.prototype.cancel=function(){if(this.i=pv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},fm.prototype.stringify=function(n){return St.JSON.stringify(n,void 0)},fm.prototype.parse=function(n){return St.JSON.parse(n,void 0)},Ur(qd,ju),qd.prototype.g=function(){return new pm(this.l,this.j)},qd.prototype.i=function(n){return function(){return n}}({}),Ur(pm,lr);var gm=0;function bw(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function br(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Yo(n)}function Yo(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Qe=pm.prototype).open=function(n,e){if(this.readyState!=gm)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Yo(this)},Qe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||St).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,br(this)),this.readyState=gm},Qe.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Yo(this)),this.g&&(this.readyState=3,Yo(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==St.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bw(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Qe.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?br(this):Yo(this),3==this.readyState&&bw(this)}},Qe.Ua=function(n){this.g&&(this.response=this.responseText=n,br(this))},Qe.Ta=function(n){this.g&&(this.response=n,br(this))},Qe.ha=function(){this.g&&br(this)},Qe.setRequestHeader=function(n,e){this.v.append(n,e)},Qe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Qe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(pm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var iT=St.JSON.parse;function dr(n){lr.call(this),this.headers=new $d,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=sT,this.K=this.L=!1}Ur(dr,lr);var sT="",Gf=/^https?$/i,oT=["POST","PUT"];function aT(n){return"content-type"==n.toLowerCase()}function mv(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ww(n),zd(n)}function ww(n){n.D||(n.D=!0,Kr(n,"complete"),Kr(n,"error"))}function Dw(n){if(n.h&&void 0!==L_&&(!n.C[1]||4!=Qo(n)||2!=n.ba()))if(n.v&&4==Qo(n))Zb(n.Fa,0,n);else if(Kr(n,"readystatechange"),4==Qo(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var s=String(n.H).match(lw)[1]||null;if(!s&&St.self&&St.self.location){var u=St.self.location.protocol;s=u.substr(0,u.length-1)}r=!Gf.test(s?s.toLowerCase():"")}t=r}if(t)Kr(n,"complete"),Kr(n,"success");else{n.m=6;try{var l=2<Qo(n)?n.g.statusText:""}catch(E){l=""}n.j=l+" ["+n.ba()+"]",ww(n)}}finally{zd(n)}}}function zd(n,e){if(n.g){yv(n);const t=n.g,r=n.C[0]?Zc:null;n.g=null,n.C=null,e||Kr(n,"ready");try{t.onreadystatechange=r}catch(s){}}}function yv(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(St.clearTimeout(n.A),n.A=null)}function Qo(n){return n.g?n.g.readyState:0}function qf(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case sT:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Cw(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function _v(n){let e="";return Yc(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):En(n,e,t))}function Wd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Iw(n){this.za=0,this.l=[],this.h=new Ff,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Wd("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Wd("baseRetryDelayMs",5e3,n),this.$a=Wd("retryDelaySeedMs",1e4,n),this.Ya=Wd("forwardChannelMaxRetries",2,n),this.ra=Wd("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new lm(n&&n.concurrentRequestLimit),this.Ca=new vw,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function mm(n){if(vv(n),3==n.G){var e=n.V++,t=ds(n.F);En(t,"SID",n.J),En(t,"RID",e),En(t,"TYPE","terminate"),zf(n,t),(e=new el(n,n.h,e,void 0)).K=2,e.v=Gu(ds(t)),t=!1,St.navigator&&St.navigator.sendBeacon&&(t=St.navigator.sendBeacon(e.v.toString(),"")),!t&&St.Image&&((new Image).src=e.v,t=!0),t||(e.g=Tv(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Bf(e)}Mw(n)}function nl(n){n.g&&(Dv(n),n.g.cancel(),n.g=null)}function vv(n){nl(n),n.u&&(St.clearTimeout(n.u),n.u=null),Wf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&St.clearTimeout(n.m),n.m=null)}function Ev(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Kd(n)}function Kd(n){yw(n.i)||n.m||(n.m=!0,em(n.Ha,n),n.C=0)}function uT(n,e){var t;t=e?e.m:n.V++;const r=ds(n.F);En(r,"SID",n.J),En(r,"RID",t),En(r,"AID",n.U),zf(n,r),n.o&&n.s&&Cw(r,n.o,n.s),t=new el(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Tw(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),dm(n.i,t),cv(t,r,e)}function zf(n,e){n.j&&om({},function(t,r){En(e,r,t)})}function Tw(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Wr(n.j.Oa,n.j,n):null;e:{var s=n.l;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=s[0].h,l.push("ofs="+u)):u=0:l.push("ofs="+u);let m=!0;for(let E=0;E<t;E++){let C=s[E].h;const M=s[E].g;if(C-=u,0>C)u=Math.max(0,s[E].h-100),m=!1;else try{Ew(M,l,"req"+C+"_")}catch(R){r&&r(M)}}if(m){r=l.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function wv(n){n.g||n.u||(n.Y=1,em(n.Ga,n),n.A=0)}function ym(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Lf(Wr(n.Ga,n),Sw(n,n.A)),n.A++,0))}function Dv(n){null!=n.B&&(St.clearTimeout(n.B),n.B=null)}function Cv(n){n.g=new el(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ds(n.oa);En(e,"RID","rpc"),En(e,"SID",n.J),En(e,"CI",n.N?"0":"1"),En(e,"AID",n.U),zf(n,e),En(e,"TYPE","xmlhttp"),n.o&&n.s&&Cw(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Gu(ds(e)),t.s=null,t.U=!0,ow(t,n)}function Wf(n){null!=n.v&&(St.clearTimeout(n.v),n.v=null)}function Aw(n,e){var t=null;if(n.g==e){Wf(n),Dv(n),n.g=null;var r=2}else{if(!fv(n.i,e))return;t=e.D,hm(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var s=n.C;Kr(r=nm(),new nw(r,t,e,s)),Kd(n)}else wv(n);else if(3==(s=e.o)||0==s&&0<n.I||!(1==r&&function bv(n,e){return!(_w(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Lf(Wr(n.Ha,n,e),Sw(n,n.C)),n.C++,0)))}(n,e)||2==r&&ym(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:Ku(n,5);break;case 4:Ku(n,10);break;case 3:Ku(n,6);break;default:Ku(n,2)}}function Sw(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ku(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Wr(n.jb,n);t||(t=new tl("//www.google.com/images/cleardot.gif"),St.location&&"http"==St.location.protocol||am(t,"https"),Gu(t)),function rT(n,e){const t=new Ff;if(St.Image){const r=new Image;r.onload=Wg(Hf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Wg(Hf,t,r,"TestLoadImage: error",!1,e),r.onabort=Wg(Hf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Wg(Hf,t,r,"TestLoadImage: timeout",!1,e),St.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Hi(2);n.G=0,n.j&&n.j.va(e),Mw(n),vv(n)}function Mw(n){n.G=0,n.I=-1,n.j&&((0!=pv(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Ob(n.l),n.l.length=0),n.j.ua())}function Iv(n,e,t){let r=function JI(n){return n instanceof tl?ds(n):new tl(n,void 0)}(t);if(""!=r.i)e&&Hd(r,e+"."+r.i),hs(r,r.m);else{const s=St.location;r=function XI(n,e,t,r){var s=new tl(null,void 0);return n&&am(s,n),e&&Hd(s,e),t&&hs(s,t),r&&(s.l=r),s}(s.protocol,e?e+"."+s.hostname:s.hostname,+s.port,t)}return n.aa&&Yc(n.aa,function(s,u){En(r,u,s)}),t=n.sa,(e=n.D)&&t&&En(r,e,t),En(r,"VER",n.ma),zf(n,r),r}function Tv(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new dr(t&&n.Ba&&!n.qa?new qd({ib:!0}):n.qa)).L=n.H,e}function Av(){}function Kf(){if(Ld&&!(10<=Number(LI)))throw Error("Environmental error: no available transport.")}function fs(n,e){lr.call(this),this.g=new Iw(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!B_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!B_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new rl(this)}function xw(n){rw.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function cT(){rm.call(this),this.status=1}function rl(n){this.g=n}(Qe=dr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():iw.g(),this.C=function ZI(n){return n.h||(n.h=n.i())}(this.u?this.u:iw),this.g.onreadystatechange=Wr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void mv(this,u)}n=t||"";const s=new $d(this.headers);r&&om(r,function(u,l){s.set(l,u)}),r=function OI(n){e:{var e=aT;const t=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<t;s++)if(s in r&&e.call(void 0,r[s],s,n)){e=s;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(s.T()),t=St.FormData&&n instanceof St.FormData,!(0<=U_(oT,e))||r||t||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(u,l){this.g.setRequestHeader(l,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{yv(this),0<this.B&&((this.K=function gv(n){return Ld&&function FI(){return function PI(n){var e=q_;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=NI(String(kf)).split("."),t=NI("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var s=e[l]||"",u=t[l]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;n=Fd(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||Fd(0==s[2].length,0==u[2].length)||Fd(s[2],u[2]),s=s[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wr(this.pa,this)):this.A=Zb(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){mv(this,u)}},Qe.pa=function(){void 0!==L_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kr(this,"timeout"),this.abort(8))},Qe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Kr(this,"complete"),Kr(this,"abort"),zd(this))},Qe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zd(this,!0)),dr.Z.M.call(this)},Qe.Fa=function(){this.s||(this.F||this.v||this.l?Dw(this):this.cb())},Qe.cb=function(){Dw(this)},Qe.ba=function(){try{return 2<Qo(this)?this.g.status:-1}catch(n){return-1}},Qe.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Qe.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),iT(e)}},Qe.Da=function(){return this.m},Qe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Qe=Iw.prototype).ma=8,Qe.G=1,Qe.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Qe.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const s=new el(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=Nb(u),Fb(u,this.P)):u=this.P),null===this.o&&(s.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Tw(this,s,e),En(t=ds(this.F),"RID",n),En(t,"CVER",22),this.D&&En(t,"X-HTTP-Session-Id",this.D),zf(this,t),this.o&&u&&Cw(t,this.o,u),dm(this.i,s),this.Ra&&En(t,"TYPE","init"),this.ja?(En(t,"$req",e),En(t,"SID","null"),s.$=!0,cv(s,t,null)):cv(s,t,e),this.G=2}}else 3==this.G&&(n?uT(this,n):0==this.l.length||yw(this.i)||uT(this))},Qe.Ga=function(){if(this.u=null,Cv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Lf(Wr(this.bb,this),n)}},Qe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Hi(10),nl(this),Cv(this))},Qe.ab=function(){null!=this.v&&(this.v=null,nl(this),ym(this),Hi(19))},Qe.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Hi(2)):(this.h.info("Failed to ping google.com"),Hi(1))},(Qe=Av.prototype).xa=function(){},Qe.wa=function(){},Qe.va=function(){},Qe.ua=function(){},Qe.Oa=function(){},Kf.prototype.g=function(n,e){return new fs(n,e)},Ur(fs,lr),fs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),em(Wr(n.hb,n,e))),Hi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Iv(n,null,n.W),Kd(n)},fs.prototype.close=function(){mm(this.g)},fs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Ev(this.g,e)}else this.v?((e={}).__data__=Nf(n),Ev(this.g,e)):Ev(this.g,n)},fs.prototype.M=function(){this.g.j=null,delete this.j,mm(this.g),delete this.g,fs.Z.M.call(this)},Ur(xw,rw),Ur(cT,rm),Ur(rl,Av),rl.prototype.xa=function(){Kr(this.g,"a")},rl.prototype.wa=function(n){Kr(this.g,new xw(n))},rl.prototype.va=function(n){Kr(this.g,new cT(n))},rl.prototype.ua=function(){Kr(this.g,"b")},Kf.prototype.createWebChannel=Kf.prototype.g,fs.prototype.send=fs.prototype.u,fs.prototype.open=fs.prototype.m,fs.prototype.close=fs.prototype.close,Ga.NO_ERROR=0,Ga.TIMEOUT=8,Ga.HTTP_ERROR=6,sv.COMPLETE="complete",ov.EventType=Vf,Vf.OPEN="a",Vf.CLOSE="b",Vf.ERROR="c",Vf.MESSAGE="d",lr.prototype.listen=lr.prototype.N,dr.prototype.listenOnce=dr.prototype.O,dr.prototype.getLastError=dr.prototype.La,dr.prototype.getLastErrorCode=dr.prototype.Da,dr.prototype.getStatus=dr.prototype.ba,dr.prototype.getResponseJson=dr.prototype.Qa,dr.prototype.getResponseText=dr.prototype.ga,dr.prototype.send=dr.prototype.ea;var Px=ls.createWebChannelTransport=function(){return new Kf},Fx=ls.getStatEventTarget=function(){return nm()},kw=ls.ErrorCode=Ga,Lx=ls.EventType=sv,Vx=ls.Event=Bu,lT=ls.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ux=ls.FetchXmlHttpFactory=qd,Sv=ls.WebChannel=ov,_m=ls.XhrIo=dr;const dT="@firebase/firestore";class wr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wr.UNAUTHENTICATED=new wr(null),wr.GOOGLE_CREDENTIALS=new wr("google-credentials-uid"),wr.FIRST_PARTY=new wr("first-party-uid"),wr.MOCK_USER=new wr("mock-user");let uo="9.6.3";const qa=new Lu.Yd("@firebase/firestore");function Mv(){return qa.logLevel}function Ve(n,...e){if(qa.logLevel<=Lu.in.DEBUG){const t=e.map(vm);qa.debug(`Firestore (${uo}): ${n}`,...t)}}function er(n,...e){if(qa.logLevel<=Lu.in.ERROR){const t=e.map(vm);qa.error(`Firestore (${uo}): ${n}`,...t)}}function Zd(n,...e){if(qa.logLevel<=Lu.in.WARN){const t=e.map(vm);qa.warn(`Firestore (${uo}): ${n}`,...t)}}function vm(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function dt(n="Unexpected state"){const e=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: `+n;throw er(e),new Error(e)}function It(n,e){n||dt()}function He(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends jt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ow{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wr.UNAUTHENTICATED))}shutdown(){}}class fT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Bx{constructor(e){this.t=e,this.currentUser=wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const u=C=>this.i!==s?(s=this.i,t(C)):Promise.resolve();let l=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Zr,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const C=l;e.enqueueRetryable((0,me.Z)(function*(){yield C.promise,yield u(r.currentUser)}))},E=C=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(C=>E(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?E(C):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Zr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(It("string"==typeof r.accessToken),new Ow(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return It(null===e||"string"==typeof e),new wr(e)}}class pT{constructor(e,t,r){this.type="FirstParty",this.user=wr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const s=e.auth.getAuthHeaderValueForFirstParty([]);s&&this.headers.set("Authorization",s),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class kv{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new pT(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ps{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=s=>{e.enqueueRetryable(()=>{return null!=(u=s).error&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`),t(u.token);var u})};const r=s=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?r(s):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(It("string"==typeof t.token),new Rw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ci{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.p(r),this.T=r=>t.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function gT(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Ci.I=-1;class Nw{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=gT(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<t&&(r+=e.charAt(s[u]%e.length))}return r}}function $t(n,e){return n<e?-1:n>e?1:0}function il(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function Ov(n){return n+"\0"}class Br{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Br.fromMillis(Date.now())}static fromDate(e){return Br.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Br(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$t(this.nanoseconds,e.nanoseconds):$t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mt(e)}static min(){return new Mt(new Br(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Rv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function sl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Pw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ol{constructor(e,t,r){void 0===t?t=0:t>e.length&&dt(),void 0===r?r=e.length-t:r>e.length-t&&dt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ol.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ol?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const u=e.get(s),l=t.get(s);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ft extends ol{construct(e,t,r){return new Ft(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Ft(t)}static emptyPath(){return new Ft([])}}const mT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ri extends ol{construct(e,t,r){return new ri(e,t,r)}static isValidIdentifier(e){return mT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ri.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ri(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const u=()=>{if(0===r.length)throw new Oe(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const m=e[s];if("\\"===m){if(s+1===e.length)throw new Oe(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[s+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new Oe(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,s+=2}else"`"===m?(l=!l,s++):"."!==m||l?(r+=m,s++):(u(),s++)}if(u(),l)throw new Oe(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ri(t)}static emptyPath(){return new ri([])}}class Yd{constructor(e){this.fields=e,e.sort(ri.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return il(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Dr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Dr(t)}static fromUint8Array(e){const t=function(r){let s="";for(let u=0;u<r.length;++u)s+=String.fromCharCode(r[u]);return s}(e);return new Dr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dr.EMPTY_BYTE_STRING=new Dr("");const yT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function za(n){if(It(!!n),"string"==typeof n){let e=0;const t=yT.exec(n);if(It(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hr(n.seconds),nanos:hr(n.nanos)}}function hr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Zf(n){return"string"==typeof n?Dr.fromBase64String(n):Dr.fromUint8Array(n)}function bm(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Nv(n){const e=n.mapValue.fields.__previous_value__;return bm(e)?Nv(e):e}function Yf(n){const e=za(n.mapValue.fields.__local_write_time__.timestampValue);return new Br(e.seconds,e.nanos)}function al(n){return null==n}function Qf(n){return 0===n&&1/n==-1/0}function Qd(n){return"number"==typeof n&&Number.isInteger(n)&&!Qf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class it{constructor(e){this.path=e}static fromPath(e){return new it(Ft.fromString(e))}static fromName(e){return new it(Ft.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Ft.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new it(new Ft(e.slice()))}}function Zu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bm(n)?4:10:dt()}function Jo(n,e){if(n===e)return!0;const t=Zu(n);if(t!==Zu(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Yf(n).isEqual(Yf(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const u=za(r.timestampValue),l=za(s.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Zf(n.bytesValue).isEqual(Zf(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return hr(r.geoPointValue.latitude)===hr(s.geoPointValue.latitude)&&hr(r.geoPointValue.longitude)===hr(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return hr(r.integerValue)===hr(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const u=hr(r.doubleValue),l=hr(s.doubleValue);return u===l?Qf(u)===Qf(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return il(n.arrayValue.values||[],e.arrayValue.values||[],Jo);case 10:return function(r,s){const u=r.mapValue.fields||{},l=s.mapValue.fields||{};if(Rv(u)!==Rv(l))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===l[m]||!Jo(u[m],l[m])))return!1;return!0}(n,e);default:return dt()}var s}function Jd(n,e){return void 0!==(n.values||[]).find(t=>Jo(t,e))}function ul(n,e){if(n===e)return 0;const t=Zu(n),r=Zu(e);if(t!==r)return $t(t,r);switch(t){case 0:return 0;case 1:return $t(n.booleanValue,e.booleanValue);case 2:return function(s,u){const l=hr(s.integerValue||s.doubleValue),m=hr(u.integerValue||u.doubleValue);return l<m?-1:l>m?1:l===m?0:isNaN(l)?isNaN(m)?0:-1:1}(n,e);case 3:return Lw(n.timestampValue,e.timestampValue);case 4:return Lw(Yf(n),Yf(e));case 5:return $t(n.stringValue,e.stringValue);case 6:return function(s,u){const l=Zf(s),m=Zf(u);return l.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const l=s.split("/"),m=u.split("/");for(let E=0;E<l.length&&E<m.length;E++){const C=$t(l[E],m[E]);if(0!==C)return C}return $t(l.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const l=$t(hr(s.latitude),hr(u.latitude));return 0!==l?l:$t(hr(s.longitude),hr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,u){const l=s.values||[],m=u.values||[];for(let E=0;E<l.length&&E<m.length;++E){const C=ul(l[E],m[E]);if(C)return C}return $t(l.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,u){const l=s.fields||{},m=Object.keys(l),E=u.fields||{},C=Object.keys(E);m.sort(),C.sort();for(let M=0;M<m.length&&M<C.length;++M){const R=$t(m[M],C[M]);if(0!==R)return R;const U=ul(l[m[M]],E[C[M]]);if(0!==U)return U}return $t(m.length,C.length)}(n.mapValue,e.mapValue);default:throw dt()}}function Lw(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return $t(n,e);const t=za(n),r=za(e),s=$t(t.seconds,r.seconds);return 0!==s?s:$t(t.nanos,r.nanos)}function Pv(n){return Vw(n)}function Vw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=za(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Zf(n.bytesValue).toBase64():"referenceValue"in n?it.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",u=!0;for(const l of r.values||[])u?u=!1:s+=",",s+=Vw(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const m of s)l?l=!1:u+=",",u+=`${m}:${Vw(r.fields[m])}`;return u+"}"}(n.mapValue):dt();var e}function Fv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function wm(n){return!!n&&"integerValue"in n}function Lv(n){return!!n&&"arrayValue"in n}function Uw(n){return!!n&&"nullValue"in n}function Bw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vv(n){return!!n&&"mapValue"in n}function Dm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return sl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Dm(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Dm(n.arrayValue.values[t]);return e}return Object.assign({},n)}class Ii{constructor(e){this.value=e}static empty(){return new Ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Vv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dm(t)}setAll(e){let t=ri.emptyPath(),r={},s=[];e.forEach((l,m)=>{if(!t.isImmediateParentOf(m)){const E=this.getFieldsMap(t);this.applyChanges(E,r,s),r={},s=[],t=m.popLast()}l?r[m.lastSegment()]=Dm(l):s.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,s)}delete(e){const t=this.field(e.popLast());Vv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Vv(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){sl(t,(s,u)=>e[s]=u);for(const s of r)delete e[s]}clone(){return new Ii(Dm(this.value))}}function _T(n){const e=[];return sl(n.fields,(t,r)=>{const s=new ri([t]);if(Vv(r)){const u=_T(r.mapValue).fields;if(0===u.length)e.push(s);else for(const l of u)e.push(s.child(l))}else e.push(s)}),new Yd(e)}class Fn{constructor(e,t,r,s,u){this.key=e,this.documentType=t,this.version=r,this.data=s,this.documentState=u}static newInvalidDocument(e){return new Fn(e,0,Mt.min(),Ii.empty(),0)}static newFoundDocument(e,t,r){return new Fn(e,1,t,r,0)}static newNoDocument(e,t){return new Fn(e,2,t,Ii.empty(),0)}static newUnknownDocument(e,t){return new Fn(e,3,t,Ii.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vT{constructor(e,t=null,r=[],s=[],u=null,l=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=u,this.startAt=l,this.endAt=m,this.R=null}}function Jf(n,e=null,t=[],r=[],s=null,u=null,l=null){return new vT(n,e,t,r,s,u,l)}function Xf(n){const e=He(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function Uv(n){return n.field.canonicalString()+n.op.toString()+Pv(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),al(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=$v(e.startAt)),e.endAt&&(t+="|ub:",t+=$v(e.endAt)),e.R=t}return e.R}function ep(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<n.orderBy.length;s++)if(!Gx(n.orderBy[s],e.orderBy[s]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let s=0;s<n.filters.length;s++)if((t=n.filters[s]).op!==(r=e.filters[s]).op||!t.field.isEqual(r.field)||!Jo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Hv(n.startAt,e.startAt)&&Hv(n.endAt,e.endAt)}function Xo(n){return it.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ii extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new Bv(e,t,r):"array-contains"===t?new jw(e,r):"in"===t?new $w(e,r):"not-in"===t?new $x(e,r):"array-contains-any"===t?new Hx(e,r):new ii(e,t,r)}static P(e,t,r){return"in"===t?new bT(e,r):new jv(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ul(t,this.value)):null!==t&&Zu(this.value)===Zu(t)&&this.v(ul(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Bv extends ii{constructor(e,t,r){super(e,t,r),this.key=it.fromName(r.referenceValue)}matches(e){const t=it.comparator(e.key,this.key);return this.v(t)}}class bT extends ii{constructor(e,t){super(e,"in",t),this.keys=Cm(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jv extends ii{constructor(e,t){super(e,"not-in",t),this.keys=Cm(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Cm(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>it.fromName(r.referenceValue))}class jw extends ii{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Lv(t)&&Jd(t.arrayValue,this.value)}}class $w extends ii{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Jd(this.value.arrayValue,t)}}class $x extends ii{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Jd(this.value.arrayValue,t)}}class Hx extends ii{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Lv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Jd(this.value.arrayValue,r))}}class Im{constructor(e,t){this.position=e,this.before=t}}function $v(n){return`${n.before?"b":"a"}:${n.position.map(e=>Pv(e)).join(",")}`}class tp{constructor(e,t="asc"){this.field=e,this.dir=t}}function Gx(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function wT(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const u=e[s],l=n.position[s];if(r=u.field.isKeyField()?it.comparator(it.fromName(l.referenceValue),t.key):ul(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function Hv(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Jo(n.position[t],e.position[t]))return!1;return!0}class Wa{constructor(e,t=null,r=[],s=[],u=null,l="F",m=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=u,this.limitType=l,this.startAt=m,this.endAt=E,this.S=null,this.D=null}}function Hw(n,e,t,r,s,u,l,m){return new Wa(n,e,t,r,s,u,l,m)}function Xd(n){return new Wa(n)}function Tm(n){return!al(n.limit)&&"F"===n.limitType}function np(n){return!al(n.limit)&&"L"===n.limitType}function Am(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Sm(n){for(const e of n.filters)if(e.V())return e.field;return null}function Gv(n){return null!==n.collectionGroup}function eh(n){const e=He(n);if(null===e.S){e.S=[];const t=Sm(e),r=Am(e);if(null!==t&&null===r)t.isKeyField()||e.S.push(new tp(t)),e.S.push(new tp(ri.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e.S.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new tp(ri.keyField(),u))}}}return e.S}function gs(n){const e=He(n);if(!e.D)if("F"===e.limitType)e.D=Jf(e.path,e.collectionGroup,eh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of eh(e))t.push(new tp(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Im(e.endAt.position,!e.endAt.before):null,s=e.startAt?new Im(e.startAt.position,!e.startAt.before):null;e.D=Jf(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e.D}function rp(n,e,t){return new Wa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Mm(n,e){return ep(gs(n),gs(e))&&n.limitType===e.limitType}function qv(n){return`${Xf(gs(n))}|lt:${n.limitType}`}function th(n){return`Query(target=${function ET(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Pv(r.value)}`;var r}).join(", ")}]`),al(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+$v(n.startAt)),n.endAt&&(e+=", endAt: "+$v(n.endAt)),`Target(${e})`}(gs(n))}; limitType=${n.limitType})`}function ip(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):it.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of t.explicitOrderBy)if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!wT(t.startAt,eh(t),r)||t.endAt&&wT(t.endAt,eh(t),r)));var t,r}function Gw(n){return(e,t)=>{let r=!1;for(const s of eh(n)){const u=DT(s,e,t);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function DT(n,e,t){const r=n.field.isKeyField()?it.comparator(e.key,t.key):function(s,u,l){const m=u.data.field(s),E=l.data.field(s);return null!==m&&null!==E?ul(m,E):dt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return dt()}}function qw(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qf(e)?"-0":e}}function CT(n){return{integerValue:""+n}}function zw(n,e){return Qd(e)?CT(e):qw(n,e)}class xm{constructor(){this._=void 0}}function IT(n,e,t){return n instanceof nh?function(r,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):n instanceof cl?Kw(n,e):n instanceof rh?AT(n,e):function(r,s){const u=Ww(r,s),l=ST(u)+ST(r.N);return wm(u)&&wm(r.N)?CT(l):qw(r.k,l)}(n,e)}function TT(n,e,t){return n instanceof cl?Kw(n,e):n instanceof rh?AT(n,e):t}function Ww(n,e){return n instanceof sp?wm(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class nh extends xm{}class cl extends xm{constructor(e){super(),this.elements=e}}function Kw(n,e){const t=MT(e);for(const r of n.elements)t.some(s=>Jo(s,r))||t.push(r);return{arrayValue:{values:t}}}class rh extends xm{constructor(e){super(),this.elements=e}}function AT(n,e){let t=MT(e);for(const r of n.elements)t=t.filter(s=>!Jo(s,r));return{arrayValue:{values:t}}}class sp extends xm{constructor(e,t){super(),this.k=e,this.N=t}}function ST(n){return hr(n.integerValue||n.doubleValue)}function MT(n){return Lv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class op{constructor(e,t){this.field=e,this.transform=t}}class zx{constructor(e,t){this.version=e,this.transformResults=t}}class Cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zv(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class i{}function o(n,e,t){n instanceof _?function(r,s,u){const l=r.value.clone(),m=S(r.fieldTransforms,s,u.transformResults);l.setAll(m),s.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof b?function(r,s,u){if(!zv(r.precondition,s))return void s.convertToUnknownDocument(u.version);const l=S(r.fieldTransforms,s,u.transformResults),m=s.data;m.setAll(w(r)),m.setAll(l),s.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function a(n,e,t){var s;n instanceof _?function(r,s,u){if(!zv(r.precondition,s))return;const l=r.value.clone(),m=k(r.fieldTransforms,u,s);l.setAll(m),s.convertToFoundDocument(g(s),l).setHasLocalMutations()}(n,e,t):n instanceof b?function(r,s,u){if(!zv(r.precondition,s))return;const l=k(r.fieldTransforms,u,s),m=s.data;m.setAll(w(r)),m.setAll(l),s.convertToFoundDocument(g(s),m).setHasLocalMutations()}(n,e,t):zv(n.precondition,s=e)&&s.convertToNoDocument(Mt.min())}function c(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),u=Ww(r.transform,s||null);null!=u&&(null==t&&(t=Ii.empty()),t.set(r.field,u))}return t||null}function d(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&il(t,r,(s,u)=>function qx(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof cl&&r instanceof cl||t instanceof rh&&r instanceof rh?il(t.elements,r.elements,Jo):t instanceof sp&&r instanceof sp?Jo(t.N,r.N):t instanceof nh&&r instanceof nh);var t,r}(s,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function g(n){return n.isFoundDocument()?n.version:Mt.min()}class _ extends i{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}}class b extends i{constructor(e,t,r,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=u,this.type=1}}function w(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function S(n,e,t){const r=new Map;It(n.length===t.length);for(let s=0;s<t.length;s++){const u=n[s],l=u.transform,m=e.data.field(u.field);r.set(u.field,TT(l,m,t[s]))}return r}function k(n,e,t){const r=new Map;for(const s of n){const u=s.transform,l=t.data.field(s.field);r.set(s.field,IT(u,l,e))}return r}class F extends i{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class $ extends i{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Y{constructor(e){this.count=e}}var oe,be;function je(n){switch(n){default:return dt();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function Ye(n){if(void 0===n)return er("GRPC error has no .code"),he.UNKNOWN;switch(n){case oe.OK:return he.OK;case oe.CANCELLED:return he.CANCELLED;case oe.UNKNOWN:return he.UNKNOWN;case oe.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case oe.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case oe.INTERNAL:return he.INTERNAL;case oe.UNAVAILABLE:return he.UNAVAILABLE;case oe.UNAUTHENTICATED:return he.UNAUTHENTICATED;case oe.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case oe.NOT_FOUND:return he.NOT_FOUND;case oe.ALREADY_EXISTS:return he.ALREADY_EXISTS;case oe.PERMISSION_DENIED:return he.PERMISSION_DENIED;case oe.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case oe.ABORTED:return he.ABORTED;case oe.OUT_OF_RANGE:return he.OUT_OF_RANGE;case oe.UNIMPLEMENTED:return he.UNIMPLEMENTED;case oe.DATA_LOSS:return he.DATA_LOSS;default:return dt()}}(be=oe||(oe={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";class pe{constructor(e,t){this.comparator=e,this.root=t||_t.EMPTY}insert(e,t){return new pe(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new pe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lt(this.root,e,this.comparator,!1)}getReverseIterator(){return new lt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lt(this.root,e,this.comparator,!0)}}class lt{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,t,r,s,u){this.key=e,this.value=t,this.color=null!=r?r:_t.RED,this.left=null!=s?s:_t.EMPTY,this.right=null!=u?u:_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,u){return new _t(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return _t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1,_t.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(n,e,t,r,s){return this}insert(n,e,t){return new _t(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wt{constructor(e){this.comparator=e,this.data=new pe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Gi(this.data.getIterator())}getIteratorFrom(e){return new Gi(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wt(this.comparator);return t.data=e,t}}class Gi{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const ll=new pe(it.comparator);function qi(){return ll}const Wv=new pe(it.comparator);function ap(){return Wv}const Kv=new pe(it.comparator);function km(){return Kv}const Zv=new wt(it.comparator);function rn(...n){let e=Zv;for(const t of n)e=e.add(t);return e}const Yv=new wt($t);function ih(){return Yv}class Qv{constructor(e,t,r,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Jv.createSynthesizedTargetChangeForCurrentChange(e,t)),new Qv(Mt.min(),r,ih(),qi(),rn())}}class Jv{constructor(e,t,r,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Jv(Dr.EMPTY_BYTE_STRING,t,rn(),rn(),rn())}}class Zw{constructor(e,t,r,s){this.$=e,this.removedTargetIds=t,this.key=r,this.O=s}}class Wx{constructor(e,t){this.targetId=e,this.M=t}}class Kx{constructor(e,t,r=Dr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Zx{constructor(){this.F=0,this.L=Qx(),this.B=Dr.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=rn(),t=rn(),r=rn();return this.L.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:dt()}}),new Jv(this.B,this.U,e,t,r)}H(){this.q=!1,this.L=Qx()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class C1{constructor(e){this.et=e,this.nt=new Map,this.st=qi(),this.it=Yx(),this.rt=new wt($t)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.ct(t,e.O):this.at(t,e.key,e.O);for(const t of e.removedTargetIds)this.at(t,e.key,e.O)}ut(e){this.forEachTarget(e,t=>{const r=this.ht(t);switch(e.state){case 0:this.lt(t)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(t);break;case 3:this.lt(t)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),r.W(e.resumeToken));break;default:dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((r,s)=>{this.lt(s)&&t(s)})}dt(e){const t=e.targetId,r=e.M.count,s=this.wt(t);if(s){const u=s.target;if(Xo(u))if(0===r){const l=new it(u.path);this.at(t,l,Fn.newNoDocument(l,Mt.min()))}else It(1===r);else this._t(t)!==r&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((u,l)=>{const m=this.wt(l);if(m){if(u.current&&Xo(m.target)){const E=new it(m.target.path);null!==this.st.get(E)||this.yt(l,E)||this.at(l,E,Fn.newNoDocument(E,e))}u.j&&(t.set(l,u.G()),u.H())}});let r=rn();this.it.forEach((u,l)=>{let m=!0;l.forEachWhile(E=>{const C=this.wt(E);return!C||2===C.purpose||(m=!1,!1)}),m&&(r=r.add(u))});const s=new Qv(e,t,this.rt,this.st,r);return this.st=qi(),this.it=Yx(),this.rt=new wt($t),s}ct(e,t){if(!this.lt(e))return;const r=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,r),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}at(e,t,r){if(!this.lt(e))return;const s=this.ht(e);this.yt(e,t)?s.J(t,1):s.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),r&&(this.st=this.st.insert(t,r))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new Zx,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new wt($t),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||Ve("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new Zx),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function Yx(){return new pe(it.comparator)}function Qx(){return new pe(it.comparator)}const I1={asc:"ASCENDING",desc:"DESCENDING"},T1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class A1{constructor(e,t){this.databaseId=e,this.C=t}}function Xv(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jx(n,e){return n.C?e.toBase64():e.toUint8Array()}function S1(n,e){return Xv(n,e.toTimestamp())}function si(n){return It(!!n),Mt.fromTimestamp(function(e){const t=za(e);return new Br(t.seconds,t.nanos)}(n))}function xT(n,e){return(t=n,new Ft(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Xx(n){const e=Ft.fromString(n);return It(dk(e)),e}function eE(n,e){return xT(n.databaseId,e.path)}function Yu(n,e){const t=Xx(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new it(tk(t))}function kT(n,e){return xT(n.databaseId,e)}function ek(n){const e=Xx(n);return 4===e.length?Ft.emptyPath():tk(e)}function tE(n){return new Ft(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tk(n){return It(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function nk(n,e,t){return{name:eE(n,e),fields:t.value.mapValue.fields}}function rk(n,e,t){const r=Yu(n,e.name),s=si(e.updateTime),u=new Ii({mapValue:{fields:e.fields}}),l=Fn.newFoundDocument(r,s,u);return t&&l.setHasCommittedMutations(),t?l.setHasCommittedMutations():l}function Yw(n,e){let t;if(e instanceof _)t={update:nk(n,e.key,e.value)};else if(e instanceof F)t={delete:eE(n,e.key)};else if(e instanceof b)t={update:nk(n,e.key,e.data),updateMask:L1(e.fieldMask)};else{if(!(e instanceof $))return dt();t={verify:eE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const l=u.transform;if(l instanceof nh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof cl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof rh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof sp)return{fieldPath:u.field.canonicalString(),increment:l.N};throw dt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:S1(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:dt()),t;var s}function ik(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Cr.updateTime(si(s.updateTime)):void 0!==s.exists?Cr.exists(s.exists):Cr.none():Cr.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(u,l){let m=null;"setToServerValue"in l?(It("REQUEST_TIME"===l.setToServerValue),m=new nh):"appendMissingElements"in l?m=new cl(l.appendMissingElements.values||[]):"removeAllFromArray"in l?m=new rh(l.removeAllFromArray.values||[]):"increment"in l?m=new sp(u,l.increment):dt();const E=ri.fromServerFormat(l.fieldPath);return new op(E,m)}(n,s)):[];var s;if(e.update){const s=Yu(n,e.update.name),u=new Ii({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Yd((e.updateMask.fieldPaths||[]).map(C=>ri.fromServerFormat(C)));return new b(s,u,l,t,r)}return new _(s,u,t,r)}if(e.delete){const s=Yu(n,e.delete);return new F(s,t)}if(e.verify){const s=Yu(n,e.verify);return new $(s,t)}return dt()}function sk(n,e){return{documents:[kT(n,e.path)]}}function ok(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=kT(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=kT(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(m){if(0===m.length)return;const E=m.map(C=>function(M){if("=="===M.op){if(Bw(M.value))return{unaryFilter:{field:Om(M.field),op:"IS_NAN"}};if(Uw(M.value))return{unaryFilter:{field:Om(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(Bw(M.value))return{unaryFilter:{field:Om(M.field),op:"IS_NOT_NAN"}};if(Uw(M.value))return{unaryFilter:{field:Om(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Om(M.field),op:N1(M.op),value:M.value}}}(C));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(e.filters);s&&(t.structuredQuery.where=s);const u=function(m){if(0!==m.length)return m.map(E=>{return{field:Om((C=E).field),direction:R1(C.dir)};var C})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=(E=e.limit,n.C||al(E)?E:{value:E});var E;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=ck(e.startAt)),e.endAt&&(t.structuredQuery.endAt=ck(e.endAt)),t}function ak(n){let e=ek(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){It(1===r);const M=t.from[0];M.allDescendants?s=M.collectionId:e=e.child(M.collectionId)}let u=[];t.where&&(u=uk(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(M=>{return new tp(Rm((R=M).field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let m=null;t.limit&&(m=function(M){let R;return R="object"==typeof M?M.value:M,al(R)?null:R}(t.limit));let E=null;t.startAt&&(E=lk(t.startAt));let C=null;return t.endAt&&(C=lk(t.endAt)),Hw(e,s,l,u,m,"F",E,C)}function uk(n){return n?void 0!==n.unaryFilter?[F1(n)]:void 0!==n.fieldFilter?[P1(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>uk(e)).reduce((e,t)=>e.concat(t)):dt():[]}function ck(n){return{before:n.before,values:n.position}}function lk(n){return new Im(n.values||[],!!n.before)}function R1(n){return I1[n]}function N1(n){return T1[n]}function Om(n){return{fieldPath:n.canonicalString()}}function Rm(n){return ri.fromServerFormat(n.fieldPath)}function P1(n){return ii.create(Rm(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(n.fieldFilter.op),n.fieldFilter.value)}function F1(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Rm(n.unaryFilter.field);return ii.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Rm(n.unaryFilter.field);return ii.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Rm(n.unaryFilter.field);return ii.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Rm(n.unaryFilter.field);return ii.create(s,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}function L1(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function dk(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ka(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=hk(e)),e=V1(n.get(t),e);return hk(e)}function V1(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const u=n.charAt(s);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function hk(n){return n+"\x01\x01"}function dl(n){const e=n.length;if(It(e>=2),2===e)return It("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Ft.emptyPath();const t=e-2,r=[];let s="";for(let u=0;u<e;){const l=n.indexOf("\x01",u);switch((l<0||l>t)&&dt(),n.charAt(l+1)){case"\x01":const m=n.substring(u,l);let E;0===s.length?E=m:(s+=m,E=s,s=""),r.push(E);break;case"\x10":s+=n.substring(u,l),s+="\0";break;case"\x11":s+=n.substring(u,l+1);break;default:dt()}u=l+2}return new Ft(r)}class U1{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class co{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}co.store="owner",co.key="owner";class sh{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}sh.store="mutationQueues",sh.keyPath="userId";class Ln{constructor(e,t,r,s,u){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=s,this.mutations=u}}Ln.store="mutations",Ln.keyPath="batchId",Ln.userMutationsIndex="userMutationsIndex",Ln.userMutationsKeyPath=["userId","batchId"];class zi{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Ka(t)]}static key(e,t,r){return[e,Ka(t),r]}}zi.store="documentMutations",zi.PLACEHOLDER=new zi;class B1{constructor(e,t){this.path=e,this.readTime=t}}class j1{constructor(e,t){this.path=e,this.version=t}}class fr{constructor(e,t,r,s,u,l){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=s,this.readTime=u,this.parentPath=l}}fr.store="remoteDocuments",fr.readTimeIndex="readTimeIndex",fr.readTimeIndexPath="readTime",fr.collectionReadTimeIndex="collectionReadTimeIndex",fr.collectionReadTimeIndexPath=["parentPath","readTime"];class Qu{constructor(e){this.byteSize=e}}Qu.store="remoteDocumentGlobal",Qu.key="remoteDocumentGlobalKey";class Ns{constructor(e,t,r,s,u,l,m){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=s,this.lastListenSequenceNumber=u,this.lastLimboFreeSnapshotVersion=l,this.query=m}}Ns.store="targets",Ns.keyPath="targetId",Ns.queryTargetsIndexName="queryTargetsIndex",Ns.queryTargetsKeyPath=["canonicalId","targetId"];class Ti{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}Ti.store="targetDocuments",Ti.keyPath=["targetId","path"],Ti.documentTargetsIndex="documentTargetsIndex",Ti.documentTargetsKeyPath=["path","targetId"];class lo{constructor(e,t,r,s){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=s}}lo.key="targetGlobalKey",lo.store="targetGlobal";class up{constructor(e,t){this.collectionId=e,this.parent=t}}up.store="collectionParents",up.keyPath=["collectionId","parent"];class hl{constructor(e,t,r,s){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=s}}hl.store="clientMetadata",hl.keyPath="clientId";class Nm{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}Nm.store="bundles",Nm.keyPath="bundleId";class Pm{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}Pm.store="namedQueries",Pm.keyPath="name";const $1=[sh.store,Ln.store,zi.store,fr.store,Ns.store,co.store,lo.store,Ti.store,hl.store,Qu.store,up.store,Nm.store,Pm.store],fk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ke((r,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ke?t:ke.resolve(t)}catch(t){return ke.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ke.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ke.reject(t)}static resolve(e){return new ke((t,r)=>{t(e)})}static reject(e){return new ke((t,r)=>{r(e)})}static waitFor(e){return new ke((t,r)=>{let s=0,u=0,l=!1;e.forEach(m=>{++s,m.next(()=>{++u,l&&u===s&&t()},E=>r(E))}),l=!0,u===s&&t()})}static or(e){let t=ke.resolve(!1);for(const r of e)t=t.next(s=>s?ke.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,u)=>{r.push(t.call(this,s,u))}),this.waitFor(r)}}class Qw{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new Zr,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new nE(e,t.error)):this.It.resolve()},this.transaction.onerror=r=>{const s=OT(r.target.error);this.It.reject(new nE(e,s))}}static open(e,t,r,s){try{return new Qw(t,e.transaction(s,r))}catch(u){throw new nE(t,u)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Ve("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new G1(t)}}class Za{constructor(e,t,r){this.name=e,this.version=t,this.Rt=r,12.2===Za.bt((0,jt.z$)())&&er("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ve("SimpleDb","Removing database:",e),lp(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!(0,jt.hl)())return!1;if(Za.vt())return!0;const e=(0,jt.z$)(),t=Za.bt(e),r=0<t&&t<10,s=Za.Vt(e),u=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static bt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Ct(e){var t=this;return(0,me.Z)(function*(){return t.db||(Ve("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,s)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=l=>{r(l.target.result)},u.onblocked=()=>{s(new nE(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=l=>{const m=l.target.error;s("VersionError"===m.name?new Oe(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Oe(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new nE(e,m))},u.onupgradeneeded=l=>{Ve("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.Rt.Nt(l.target.result,u.transaction,l.oldVersion,t.version).next(()=>{Ve("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=r=>t.kt(r)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,s){var u=this;return(0,me.Z)(function*(){const l="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.Ct(e);const E=Qw.open(u.db,e,l?"readonly":"readwrite",r),C=s(E).catch(M=>(E.abort(M),ke.reject(M))).toPromise();return C.catch(()=>{}),yield E.At,C}catch(E){const C="FirebaseError"!==E.name&&m<3;if(Ve("SimpleDb","Transaction failed with error:",E.message,"Retrying:",C),u.close(),!C)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class H1{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return lp(this.$t.delete())}}class nE extends Oe{constructor(e,t){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function cp(n){return"IndexedDbTransactionError"===n.name}class G1{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ve("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),lp(r)}add(e){return Ve("SimpleDb","ADD",this.store.name,e,e),lp(this.store.add(e))}get(e){return lp(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ve("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ve("SimpleDb","DELETE",this.store.name,e),lp(this.store.delete(e))}count(){return Ve("SimpleDb","COUNT",this.store.name),lp(this.store.count())}Bt(e,t){const r=this.cursor(this.options(e,t)),s=[];return this.Ut(r,(u,l)=>{s.push(l)}).next(()=>s)}qt(e,t){Ve("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Kt=!1;const s=this.cursor(r);return this.Ut(s,(u,l,m)=>m.delete())}jt(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.Ut(s,t)}Qt(e){const t=this.cursor({});return new ke((r,s)=>{t.onerror=u=>{const l=OT(u.target.error);s(l)},t.onsuccess=u=>{const l=u.target.result;l?e(l.primaryKey,l.value).next(m=>{m?l.continue():r()}):r()}})}Ut(e,t){const r=[];return new ke((s,u)=>{e.onerror=l=>{u(l.target.error)},e.onsuccess=l=>{const m=l.target.result;if(!m)return void s();const E=new H1(m),C=t(m.primaryKey,m.value,E);if(C instanceof ke){const M=C.catch(R=>(E.done(),ke.reject(R)));r.push(M)}E.isDone?s():null===E.Ft?m.continue():m.continue(E.Ft)}}).next(()=>ke.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Kt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function lp(n){return new ke((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const s=OT(r.target.error);t(s)}})}let gk=!1;function OT(n){const e=Za.bt((0,jt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return gk||(gk=!0,setTimeout(()=>{throw r},0)),r}}return n}class mk extends pk{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function Ps(n,e){const t=He(n);return Za.Dt(t.Wt,e)}class RT{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&o(u,e,r[s])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&a(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&a(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),s=r;this.applyToLocalView(s),r.isValidDocument()||s.convertToNoDocument(Mt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rn())}isEqual(e){return this.batchId===e.batchId&&il(this.mutations,e.mutations,(t,r)=>d(t,r))&&il(this.baseMutations,e.baseMutations,(t,r)=>d(t,r))}}class NT{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){It(e.mutations.length===r.length);let s=km();const u=e.mutations;for(let l=0;l<u.length;l++)s=s.insert(u[l].key,r[l].version);return new NT(e,t,r,s)}}class oh{constructor(e,t,r,s,u=Mt.min(),l=Mt.min(),m=Dr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=m}withSequenceNumber(e){return new oh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new oh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new oh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class yk{constructor(e){this.Gt=e}}function PT(n,e){if(e.document)return rk(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=it.fromSegments(e.noDocument.path),r=Lm(e.noDocument.readTime),s=Fn.newNoDocument(t,r);return e.hasCommittedMutations?s.setHasCommittedMutations():s}if(e.unknownDocument){const t=it.fromSegments(e.unknownDocument.path),r=Lm(e.unknownDocument.version);return Fn.newUnknownDocument(t,r)}return dt()}function _k(n,e,t){const r=FT(t),s=e.key.path.popLast().toArray();if(e.isFoundDocument()){const u={name:eE(m=n.Gt,(E=e).key),fields:E.data.value.mapValue.fields,updateTime:Xv(m,E.version.toTimestamp())};return new fr(null,null,u,e.hasCommittedMutations,r,s)}var m,E;if(e.isNoDocument()){const u=e.key.path.toArray(),l=Fm(e.version),m=e.hasCommittedMutations;return new fr(null,new B1(u,l),null,m,r,s)}if(e.isUnknownDocument()){const u=e.key.path.toArray(),l=Fm(e.version);return new fr(new j1(u,l),null,null,!0,r,s)}return dt()}function FT(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function vk(n){const e=new Br(n[0],n[1]);return Mt.fromTimestamp(e)}function Fm(n){const e=n.toTimestamp();return new U1(e.seconds,e.nanoseconds)}function Lm(n){const e=new Br(n.seconds,n.nanoseconds);return Mt.fromTimestamp(e)}function Vm(n,e){const t=(e.baseMutations||[]).map(u=>ik(n.Gt,u));for(let u=0;u<e.mutations.length-1;++u){const l=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(l.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>ik(n.Gt,u)),s=Br.fromMillis(e.localWriteTimeMs);return new RT(e.batchId,s,t,r)}function rE(n){const e=Lm(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Lm(n.lastLimboFreeSnapshotVersion):Mt.min();let r;var s;return void 0!==n.query.documents?(It(1===(s=n.query).documents.length),r=gs(Xd(ek(s.documents[0])))):r=gs(ak(n.query)),new oh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Dr.fromBase64String(n.resumeToken))}function Ek(n,e){const t=Fm(e.snapshotVersion),r=Fm(e.lastLimboFreeSnapshotVersion);let s;s=Xo(e.target)?sk(n.Gt,e.target):ok(n.Gt,e.target);const u=e.resumeToken.toBase64();return new Ns(e.targetId,Xf(e.target),t,u,e.sequenceNumber,r,s)}function LT(n){const e=ak({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?rp(e,e.limit,"L"):e}class q1{getBundleMetadata(e,t){return bk(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:Lm(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return bk(e).put({bundleId:(r=t).id,createTime:Fm(si(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return wk(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:LT(s.bundledQuery),readTime:Lm(s.readTime)};var s})}saveNamedQuery(e,t){return wk(e).put({name:(r=t).name,readTime:Fm(si(r.readTime)),bundledQuery:r.bundledQuery});var r}}function bk(n){return Ps(n,Nm.store)}function wk(n){return Ps(n,Pm.store)}class z1{constructor(){this.zt=new VT}addToCollectionParentIndex(e,t){return this.zt.add(t),ke.resolve()}getCollectionParents(e,t){return ke.resolve(this.zt.getEntries(t))}}class VT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new wt(Ft.comparator),u=!s.has(r);return this.index[t]=s.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new wt(Ft.comparator)).toArray()}}class W1{constructor(){this.Ht=new VT}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const u={collectionId:r,parent:Ka(s)};return Dk(e).put(u)}return ke.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[Ov(t),""],!1,!0);return Dk(e).Bt(s).next(u=>{for(const l of u){if(l.collectionId!==t)break;r.push(dl(l.parent))}return r})}}function Dk(n){return Ps(n,up.store)}const Ck={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Fs(e,Fs.DEFAULT_COLLECTION_PERCENTILE,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ik(n,e,t){const r=n.store(Ln.store),s=n.store(zi.store),u=[],l=IDBKeyRange.only(t.batchId);let m=0;const E=r.jt({range:l},(M,R,U)=>(m++,U.delete()));u.push(E.next(()=>{It(1===m)}));const C=[];for(const M of t.mutations){const R=zi.key(e,M.key.path,t.batchId);u.push(s.delete(R)),C.push(M.key)}return ke.waitFor(u).next(()=>C)}function Jw(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw dt();e=n.noDocument}return JSON.stringify(e).length}Fs.DEFAULT_COLLECTION_PERCENTILE=10,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fs.DEFAULT=new Fs(41943040,Fs.DEFAULT_COLLECTION_PERCENTILE,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fs.DISABLED=new Fs(-1,0,0);class UT{constructor(e,t,r,s){this.userId=e,this.k=t,this.Jt=r,this.referenceDelegate=s,this.Yt={}}static Xt(e,t,r,s){It(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new UT(u,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ah(e).jt({index:Ln.userMutationsIndex,range:r},(s,u,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const u=Um(e),l=ah(e);return l.add({}).next(m=>{It("number"==typeof m);const E=new RT(m,t,r,s),C=function(U,z,Q){const ve=Q.baseMutations.map(at=>Yw(U.Gt,at)),Pe=Q.mutations.map(at=>Yw(U.Gt,at));return new Ln(z,Q.batchId,Q.localWriteTime.toMillis(),ve,Pe)}(this.k,this.userId,E),M=[];let R=new wt((U,z)=>$t(U.canonicalString(),z.canonicalString()));for(const U of s){const z=zi.key(this.userId,U.key.path,m);R=R.add(U.key.path.popLast()),M.push(l.put(C)),M.push(u.put(z,zi.PLACEHOLDER))}return R.forEach(U=>{M.push(this.Jt.addToCollectionParentIndex(e,U))}),e.addOnCommittedListener(()=>{this.Yt[m]=E.keys()}),ke.waitFor(M).next(()=>E)})}lookupMutationBatch(e,t){return ah(e).get(t).next(r=>r?(It(r.userId===this.userId),Vm(this.k,r)):null)}Zt(e,t){return this.Yt[t]?ke.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.Yt[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return ah(e).jt({index:Ln.userMutationsIndex,range:s},(l,m,E)=>{m.userId===this.userId&&(It(m.batchId>=r),u=Vm(this.k,m)),E.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ah(e).jt({index:Ln.userMutationsIndex,range:t,reverse:!0},(s,u,l)=>{r=u.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ah(e).Bt(Ln.userMutationsIndex,t).next(r=>r.map(s=>Vm(this.k,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=zi.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(r),u=[];return Um(e).jt({range:s},(l,m,E)=>{const[C,M,R]=l,U=dl(M);if(C===this.userId&&t.path.isEqual(U))return ah(e).get(R).next(z=>{if(!z)throw dt();It(z.userId===this.userId),u.push(Vm(this.k,z))});E.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wt($t);const s=[];return t.forEach(u=>{const l=zi.prefixForPath(this.userId,u.path),m=IDBKeyRange.lowerBound(l),E=Um(e).jt({range:m},(C,M,R)=>{const[U,z,Q]=C,ve=dl(z);U===this.userId&&u.path.isEqual(ve)?r=r.add(Q):R.done()});s.push(E)}),ke.waitFor(s).next(()=>this.te(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,u=zi.prefixForPath(this.userId,r),l=IDBKeyRange.lowerBound(u);let m=new wt($t);return Um(e).jt({range:l},(E,C,M)=>{const[R,U,z]=E,Q=dl(U);R===this.userId&&r.isPrefixOf(Q)?Q.length===s&&(m=m.add(z)):M.done()}).next(()=>this.te(e,m))}te(e,t){const r=[],s=[];return t.forEach(u=>{s.push(ah(e).get(u).next(l=>{if(null===l)throw dt();It(l.userId===this.userId),r.push(Vm(this.k,l))}))}),ke.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return Ik(e.Wt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),ke.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ke.resolve();const r=IDBKeyRange.lowerBound(zi.prefixForUser(this.userId)),s=[];return Um(e).jt({range:r},(u,l,m)=>{if(u[0]===this.userId){const E=dl(u[1]);s.push(E)}else m.done()}).next(()=>{It(0===s.length)})})}containsKey(e,t){return Tk(e,this.userId,t)}ne(e){return Ak(e).get(this.userId).next(t=>t||new sh(this.userId,-1,""))}}function Tk(n,e,t){const r=zi.prefixForPath(e,t.path),s=r[1],u=IDBKeyRange.lowerBound(r);let l=!1;return Um(n).jt({range:u,Kt:!0},(m,E,C)=>{const[M,R,U]=m;M===e&&R===s&&(l=!0),C.done()}).next(()=>l)}function ah(n){return Ps(n,Ln.store)}function Um(n){return Ps(n,zi.store)}function Ak(n){return Ps(n,sh.store)}class dp{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new dp(0)}static re(){return new dp(-1)}}class K1{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const r=new dp(t.highestTargetId);return t.highestTargetId=r.next(),this.ce(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>Mt.fromTimestamp(new Br(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.oe(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.ce(e,s)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.oe(e).next(r=>(r.targetCount+=1,this.ue(t,r),this.ce(e,r))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Bm(e).delete(t.targetId)).next(()=>this.oe(e)).next(r=>(It(r.targetCount>0),r.targetCount-=1,this.ce(e,r)))}removeTargets(e,t,r){let s=0;const u=[];return Bm(e).jt((l,m)=>{const E=rE(m);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(s++,u.push(this.removeTargetData(e,E)))}).next(()=>ke.waitFor(u)).next(()=>s)}forEachTarget(e,t){return Bm(e).jt((r,s)=>{const u=rE(s);t(u)})}oe(e){return Sk(e).get(lo.key).next(t=>(It(null!==t),t))}ce(e,t){return Sk(e).put(lo.key,t)}ae(e,t){return Bm(e).put(Ek(this.k,t))}ue(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Xf(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Bm(e).jt({range:s,index:Ns.queryTargetsIndexName},(l,m,E)=>{const C=rE(m);ep(t,C.target)&&(u=C,E.done())}).next(()=>u)}addMatchingKeys(e,t,r){const s=[],u=uh(e);return t.forEach(l=>{const m=Ka(l.path);s.push(u.put(new Ti(r,m))),s.push(this.referenceDelegate.addReference(e,r,l))}),ke.waitFor(s)}removeMatchingKeys(e,t,r){const s=uh(e);return ke.forEach(t,u=>{const l=Ka(u.path);return ke.waitFor([s.delete([r,l]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=uh(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=uh(e);let u=rn();return s.jt({range:r,Kt:!0},(l,m,E)=>{const C=dl(l[1]),M=new it(C);u=u.add(M)}).next(()=>u)}containsKey(e,t){const r=Ka(t.path),s=IDBKeyRange.bound([r],[Ov(r)],!1,!0);let u=0;return uh(e).jt({index:Ti.documentTargetsIndex,Kt:!0,range:s},([l,m],E,C)=>{0!==l&&(u++,C.done())}).next(()=>u>0)}Et(e,t){return Bm(e).get(t).next(r=>r?rE(r):null)}}function Bm(n){return Ps(n,Ns.store)}function Sk(n){return Ps(n,lo.store)}function uh(n){return Ps(n,Ti.store)}function hp(n){return BT.apply(this,arguments)}function BT(){return BT=(0,me.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==fk)throw n;Ve("LocalStore","Unexpectedly lost primary lease")}),BT.apply(this,arguments)}function Mk([n,e],[t,r]){const s=$t(n,t);return 0===s?$t(e,r):s}class Z1{constructor(e){this.he=e,this.buffer=new wt(Mk),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Mk(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Y1{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const r=this.we?3e5:6e4;Ve("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,me.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(s){cp(s)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield hp(s)}yield t.me(e)}))}}class Q1{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ke.resolve(Ci.I);const r=new Z1(t);return this.ge.forEachTarget(e,s=>r.de(s.sequenceNumber)).next(()=>this.ge.pe(e,s=>r.de(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.ge.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),ke.resolve(Ck)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ck):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let r,s,u,l,m,E,C;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),s=this.params.maximumSequenceNumbersToCollect):s=R,l=Date.now(),this.nthSequenceNumber(e,s))).next(R=>(r=R,m=Date.now(),this.removeTargets(e,r,t))).next(R=>(u=R,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(C=Date.now(),Mv()<=Lu.in.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-M}ms\n\tDetermined least recently used ${s} in `+(m-l)+`ms\n\tRemoved ${u} targets in `+(E-m)+`ms\n\tRemoved ${R} documents in `+(C-E)+`ms\nTotal Duration: ${C-M}ms`),ke.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:R})))}}class J1{constructor(e,t){this.db=e,this.garbageCollector=new Q1(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Ee(e){let t=0;return this.pe(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(r,s)=>t(s))}addReference(e,t,r){return Xw(e,r)}removeReference(e,t,r){return Xw(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Xw(e,t)}Ae(e,t){return function(r,s){let u=!1;return Ak(r).Qt(l=>Tk(r,l,s).next(m=>(m&&(u=!0),ke.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let u=0;return this.Ie(e,(l,m)=>{if(m<=t){const E=this.Ae(e,l).next(C=>{if(!C)return u++,r.getEntry(e,l).next(()=>(r.removeEntry(l),uh(e).delete([0,Ka(l.path)])))});s.push(E)}}).next(()=>ke.waitFor(s)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Xw(e,t)}Ie(e,t){const r=uh(e);let s,u=Ci.I;return r.jt({index:Ti.documentTargetsIndex},([l,m],{path:E,sequenceNumber:C})=>{0===l?(u!==Ci.I&&t(new it(dl(s)),u),u=C,s=E):u=Ci.I}).next(()=>{u!==Ci.I&&t(new it(dl(s)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Xw(n,e){return uh(n).put((r=n.currentSequenceNumber,new Ti(0,Ka(e.path),r)));var r}class jm{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,u]of r)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s){for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),!0;return!1}forEach(e){sl(this.inner,(t,r)=>{for(const[s,u]of r)e(s,u)})}isEmpty(){return Pw(this.inner)}}class xk{constructor(){this.changes=new jm(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Mt.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Fn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ke.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class X1{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,r){return ch(e).put(eD(t),r)}removeEntry(e,t){const r=ch(e),s=eD(t);return r.delete(s)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Re(e,r)))}getEntry(e,t){return ch(e).get(eD(t)).next(r=>this.be(t,r))}Pe(e,t){return ch(e).get(eD(t)).next(r=>({document:this.be(t,r),size:Jw(r)}))}getEntries(e,t){let r=qi();return this.ve(e,t,(s,u)=>{const l=this.be(s,u);r=r.insert(s,l)}).next(()=>r)}Ve(e,t){let r=qi(),s=new pe(it.comparator);return this.ve(e,t,(u,l)=>{const m=this.be(u,l);r=r.insert(u,m),s=s.insert(u,Jw(l))}).next(()=>({documents:r,Se:s}))}ve(e,t,r){if(t.isEmpty())return ke.resolve();const s=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),u=t.getIterator();let l=u.getNext();return ch(e).jt({range:s},(m,E,C)=>{const M=it.fromSegments(m);for(;l&&it.comparator(l,M)<0;)r(l,null),l=u.getNext();l&&l.isEqual(M)&&(r(l,E),l=u.hasNext()?u.getNext():null),l?C.Lt(l.path.toArray()):C.done()}).next(()=>{for(;l;)r(l,null),l=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r){let s=qi();const u=t.path.length+1,l={};if(r.isEqual(Mt.min())){const m=t.path.toArray();l.range=IDBKeyRange.lowerBound(m)}else{const m=t.path.toArray(),E=FT(r);l.range=IDBKeyRange.lowerBound([m,E],!0),l.index=fr.collectionReadTimeIndex}return ch(e).jt(l,(m,E,C)=>{if(m.length!==u)return;const M=PT(this.k,E);t.path.isPrefixOf(M.key.path)?ip(t,M)&&(s=s.insert(M.key,M)):C.done()}).next(()=>s)}newChangeBuffer(e){return new eP(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return kk(e).get(Qu.key).next(t=>(It(!!t),t))}Re(e,t){return kk(e).put(Qu.key,t)}be(e,t){if(t){const r=PT(this.k,t);if(!r.isNoDocument()||!r.version.isEqual(Mt.min()))return r}return Fn.newInvalidDocument(e)}}class eP extends xk{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new jm(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new wt((u,l)=>$t(u.canonicalString(),l.canonicalString()));return this.changes.forEach((u,l)=>{const m=this.Ce.get(u);if(l.document.isValidDocument()){const E=_k(this.De.k,l.document,this.getReadTime(u));s=s.add(u.path.popLast()),r+=Jw(E)-m,t.push(this.De.addEntry(e,u,E))}else if(r-=m,this.trackRemovals){const E=_k(this.De.k,Fn.newNoDocument(u,Mt.min()),this.getReadTime(u));t.push(this.De.addEntry(e,u,E))}else t.push(this.De.removeEntry(e,u))}),s.forEach(u=>{t.push(this.De.Jt.addToCollectionParentIndex(e,u))}),t.push(this.De.updateMetadata(e,r)),ke.waitFor(t)}getFromCache(e,t){return this.De.Pe(e,t).next(r=>(this.Ce.set(t,r.size),r.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:r,Se:s})=>(s.forEach((u,l)=>{this.Ce.set(u,l)}),r))}}function kk(n){return Ps(n,Qu.store)}function ch(n){return Ps(n,fr.store)}function eD(n){return n.path.toArray()}class tP{constructor(e){this.k=e}Nt(e,t,r,s){It(r<s&&r>=0&&s<=11);const u=new Qw("createOrUpgrade",t);var m;r<1&&s>=1&&(e.createObjectStore(co.store),(m=e).createObjectStore(sh.store,{keyPath:sh.keyPath}),m.createObjectStore(Ln.store,{keyPath:Ln.keyPath,autoIncrement:!0}).createIndex(Ln.userMutationsIndex,Ln.userMutationsKeyPath,{unique:!0}),m.createObjectStore(zi.store),Ok(e),function(m){m.createObjectStore(fr.store)}(e));let l=ke.resolve();return r<3&&s>=3&&(0!==r&&(function(m){m.deleteObjectStore(Ti.store),m.deleteObjectStore(Ns.store),m.deleteObjectStore(lo.store)}(e),Ok(e)),l=l.next(()=>function(m){const E=m.store(lo.store),C=new lo(0,0,Mt.min().toTimestamp(),0);return E.put(lo.key,C)}(u))),r<4&&s>=4&&(0!==r&&(l=l.next(()=>function(m,E){return E.store(Ln.store).Bt().next(C=>{m.deleteObjectStore(Ln.store),m.createObjectStore(Ln.store,{keyPath:Ln.keyPath,autoIncrement:!0}).createIndex(Ln.userMutationsIndex,Ln.userMutationsKeyPath,{unique:!0});const M=E.store(Ln.store),R=C.map(U=>M.put(U));return ke.waitFor(R)})}(e,u))),l=l.next(()=>{!function(m){m.createObjectStore(hl.store,{keyPath:hl.keyPath})}(e)})),r<5&&s>=5&&(l=l.next(()=>this.Ne(u))),r<6&&s>=6&&(l=l.next(()=>(function(m){m.createObjectStore(Qu.store)}(e),this.ke(u)))),r<7&&s>=7&&(l=l.next(()=>this.xe(u))),r<8&&s>=8&&(l=l.next(()=>this.$e(e,u))),r<9&&s>=9&&(l=l.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(e),function(m){const E=m.objectStore(fr.store);E.createIndex(fr.readTimeIndex,fr.readTimeIndexPath,{unique:!1}),E.createIndex(fr.collectionReadTimeIndex,fr.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&s>=10&&(l=l.next(()=>this.Oe(u))),r<11&&s>=11&&(l=l.next(()=>{(function(m){m.createObjectStore(Nm.store,{keyPath:Nm.keyPath})})(e),function(m){m.createObjectStore(Pm.store,{keyPath:Pm.keyPath})}(e)})),l}ke(e){let t=0;return e.store(fr.store).jt((r,s)=>{t+=Jw(s)}).next(()=>{const r=new Qu(t);return e.store(Qu.store).put(Qu.key,r)})}Ne(e){const t=e.store(sh.store),r=e.store(Ln.store);return t.Bt().next(s=>ke.forEach(s,u=>{const l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.Bt(Ln.userMutationsIndex,l).next(m=>ke.forEach(m,E=>{It(E.userId===u.userId);const C=Vm(this.k,E);return Ik(e,u.userId,C).next(()=>{})}))}))}xe(e){const t=e.store(Ti.store),r=e.store(fr.store);return e.store(lo.store).get(lo.key).next(s=>{const u=[];return r.jt((l,m)=>{const E=new Ft(l),C=[0,Ka(E)];u.push(t.get(C).next(M=>M?ke.resolve():t.put(new Ti(0,Ka(E),s.highestListenSequenceNumber))))}).next(()=>ke.waitFor(u))})}$e(e,t){e.createObjectStore(up.store,{keyPath:up.keyPath});const r=t.store(up.store),s=new VT,u=l=>{if(s.add(l)){const m=l.lastSegment(),E=l.popLast();return r.put({collectionId:m,parent:Ka(E)})}};return t.store(fr.store).jt({Kt:!0},(l,m)=>{const E=new Ft(l);return u(E.popLast())}).next(()=>t.store(zi.store).jt({Kt:!0},([l,m,E],C)=>{const M=dl(m);return u(M.popLast())}))}Oe(e){const t=e.store(Ns.store);return t.jt((r,s)=>{const u=rE(s),l=Ek(this.k,u);return t.put(l)})}}function Ok(n){n.createObjectStore(Ti.store,{keyPath:Ti.keyPath}).createIndex(Ti.documentTargetsIndex,Ti.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Ns.store,{keyPath:Ns.keyPath}).createIndex(Ns.queryTargetsIndexName,Ns.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(lo.store)}const jT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $T{constructor(e,t,r,s,u,l,m,E,C,M){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Me=u,this.window=l,this.document=m,this.Fe=C,this.Le=M,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=R=>Promise.resolve(),!$T.Pt())throw new Oe(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new J1(this,s),this.Ge=t+"main",this.k=new yk(E),this.ze=new Za(this.Ge,11,new tP(this.k)),this.He=new K1(this.referenceDelegate,this.k),this.Jt=new W1,this.Je=new X1(this.k,this.Jt),this.Ye=new q1,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===M&&er("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(he.FAILED_PRECONDITION,jT);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new Ci(e,this.Fe)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var r=(0,me.Z)(function*(s){if(t.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,me.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((0,me.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>tD(e).put(new hl(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.cn(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(cp(e))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Me.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return iE(e).get(co.key).next(t=>ke.resolve(this.un(t)))}hn(e){return tD(e).delete(this.clientId)}ln(){var e=this;return(0,me.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=Ps(r,hl.store);return s.Bt().next(u=>{const l=e.dn(u,18e5),m=u.filter(E=>-1===l.indexOf(E));return ke.forEach(m,E=>s.delete(E.clientId)).next(()=>m)})}).catch(()=>[]);if(e.Xe)for(const r of t)e.Xe.removeItem(e.wn(r.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?ke.resolve(!0):iE(e).get(co.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Oe(he.FAILED_PRECONDITION,jT);return!1}}return!(!this.networkEnabled||!this.inForeground)||tD(e).Bt().next(r=>void 0===this.dn(r,5e3).find(s=>{if(this.clientId!==s.clientId){const l=!this.inForeground&&s.inForeground,m=this.networkEnabled===s.networkEnabled;if(!this.networkEnabled&&s.networkEnabled||l&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ve("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,me.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[co.store,hl.store],t=>{const r=new mk(t,Ci.I);return e.cn(r).next(()=>e.hn(r))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(r=>this.fn(r.updateTimeMs,t)&&!this._n(r.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>tD(e).Bt().next(t=>this.dn(t,18e5).map(r=>r.clientId)))}get started(){return this.Ue}getMutationQueue(e){return UT.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,r){let u;return Ve("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",$1,l=>(u=new mk(l,this.Be?this.Be.next():Ci.I),"readwrite-primary"===t?this.rn(u).next(m=>!!m||this.on(u)).next(m=>{if(!m)throw er(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new Oe(he.FAILED_PRECONDITION,fk);return r(u)}).next(m=>this.an(u).next(()=>m)):this.En(u).next(()=>r(u)))).then(l=>(u.raiseOnCommittedEvent(),l))}En(e){return iE(e).get(co.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(he.FAILED_PRECONDITION,jT)})}an(e){const t=new co(this.clientId,this.allowTabSynchronization,Date.now());return iE(e).put(co.key,t)}static Pt(){return Za.Pt()}cn(e){const t=iE(e);return t.get(co.key).next(r=>this.un(r)?(Ve("IndexedDbPersistence","Releasing primary lease."),t.delete(co.key)):ke.resolve())}fn(e,t){const r=Date.now();return!(e<r-t||e>r&&(er(`Detected an update time that is in the future: ${e} > ${r}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,jt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const r=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Ve("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return er("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){er("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function iE(n){return Ps(n,co.store)}function tD(n){return Ps(n,hl.store)}function HT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class nP{constructor(e,t){this.progress=e,this.In=t}}class Rk{constructor(e,t,r){this.Je=e,this.An=t,this.Jt=r}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.bn(e,t,r))}bn(e,t,r){return this.Je.getEntry(e,t).next(s=>{for(const u of r)u.applyToLocalView(s);return s})}Pn(e,t){e.forEach((r,s)=>{for(const u of t)u.applyToLocalView(s)})}vn(e,t){return this.Je.getEntries(e,t).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Pn(t,r))}getDocumentsMatchingQuery(e,t,r){return it.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.Sn(e,t.path):Gv(t)?this.Dn(e,t,r):this.Cn(e,t,r);var s}Sn(e,t){return this.Rn(e,new it(t)).next(r=>{let s=ap();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}Dn(e,t,r){const s=t.collectionGroup;let u=ap();return this.Jt.getCollectionParents(e,s).next(l=>ke.forEach(l,m=>{const E=(C=t,M=m.child(s),new Wa(M,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,M;return this.Cn(e,E,r).next(C=>{C.forEach((M,R)=>{u=u.insert(M,R)})})}).next(()=>u))}Cn(e,t,r){let s,u;return this.Je.getDocumentsMatchingQuery(e,t,r).next(l=>(s=l,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(l=>(u=l,this.Nn(e,u,s).next(m=>{s=m;for(const E of u)for(const C of E.mutations){const M=C.key;let R=s.get(M);null==R&&(R=Fn.newInvalidDocument(M),s=s.insert(M,R)),a(C,R,E.localWriteTime),R.isFoundDocument()||(s=s.remove(M))}}))).next(()=>(s.forEach((l,m)=>{ip(t,m)||(s=s.remove(l))}),s))}Nn(e,t,r){let s=rn();for(const l of t)for(const m of l.mutations)m instanceof b&&null===r.get(m.key)&&(s=s.add(m.key));let u=r;return this.Je.getEntries(e,s).next(l=>(l.forEach((m,E)=>{E.isFoundDocument()&&(u=u.insert(m,E))}),u))}}class GT{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.kn=r,this.xn=s}static $n(e,t){let r=rn(),s=rn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new GT(e,t.fromCache,r,s)}}class Nk{On(e){this.Mn=e}getDocumentsMatchingQuery(e,t,r,s){return 0===(u=t).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||r.isEqual(Mt.min())?this.Fn(e,t):this.Mn.vn(e,s).next(u=>{const l=this.Ln(t,u);return(Tm(t)||np(t))&&this.Bn(t.limitType,l,s,r)?this.Fn(e,t):(Mv()<=Lu.in.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),th(t)),this.Mn.getDocumentsMatchingQuery(e,t,r).next(m=>(l.forEach(E=>{m=m.insert(E.key,E)}),m)))});var u}Ln(e,t){let r=new wt(Gw(e));return t.forEach((s,u)=>{ip(e,u)&&(r=r.add(u))}),r}Bn(e,t,r,s){if(r.size!==t.size)return!0;const u="F"===e?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Fn(e,t){return Mv()<=Lu.in.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",th(t)),this.Mn.getDocumentsMatchingQuery(e,t,Mt.min())}}class rP{constructor(e,t,r,s){this.persistence=e,this.Un=t,this.k=s,this.qn=new pe($t),this.Kn=new jm(u=>Xf(u),ep),this.jn=Mt.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new Rk(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function Pk(n,e,t,r){return new rP(n,e,t,r)}function Fk(n,e){return qT.apply(this,arguments)}function qT(){return qT=(0,me.Z)(function*(n,e){const t=He(n);let r=t.An,s=t.Wn;const u=yield t.persistence.runTransaction("Handle user change","readonly",l=>{let m;return t.An.getAllMutationBatches(l).next(E=>(m=E,r=t.persistence.getMutationQueue(e),s=new Rk(t.Qn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(l))).next(E=>{const C=[],M=[];let R=rn();for(const U of m){C.push(U.batchId);for(const z of U.mutations)R=R.add(z.key)}for(const U of E){M.push(U.batchId);for(const z of U.mutations)R=R.add(z.key)}return s.vn(l,R).next(U=>({Gn:U,removedBatchIds:C,addedBatchIds:M}))})});return t.An=r,t.Wn=s,t.Un.On(t.Wn),u}),qT.apply(this,arguments)}function iP(n,e){const t=He(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),u=t.Qn.newChangeBuffer({trackRemovals:!0});return function(l,m,E,C){const M=E.batch,R=M.keys();let U=ke.resolve();return R.forEach(z=>{U=U.next(()=>C.getEntry(m,z)).next(Q=>{const ve=E.docVersions.get(z);It(null!==ve),Q.version.compareTo(ve)<0&&(M.applyToRemoteDocument(Q,E),Q.isValidDocument()&&C.addEntry(Q,E.commitVersion))})}),U.next(()=>l.An.removeMutationBatch(m,M))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.An.performConsistencyCheck(r)).next(()=>t.Wn.vn(r,s))})}function Lk(n){const e=He(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function sP(n,e){const t=He(n),r=e.snapshotVersion;let s=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Qn.newChangeBuffer({trackRemovals:!0});s=t.qn;const m=[];e.targetChanges.forEach((C,M)=>{const R=s.get(M);if(!R)return;m.push(t.He.removeMatchingKeys(u,C.removedDocuments,M).next(()=>t.He.addMatchingKeys(u,C.addedDocuments,M)));let U=R.withSequenceNumber(u.currentSequenceNumber);var z,Q,ve;e.targetMismatches.has(M)?U=U.withResumeToken(Dr.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):C.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(C.resumeToken,r)),s=s.insert(M,U),Q=U,ve=C,(0===(z=R).resumeToken.approximateByteSize()||Q.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8||ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0)&&m.push(t.He.updateTargetData(u,U))});let E=qi();if(e.documentUpdates.forEach((C,M)=>{e.resolvedLimboDocuments.has(C)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,C))}),m.push(Vk(u,l,e.documentUpdates,r,void 0).next(C=>{E=C})),!r.isEqual(Mt.min())){const C=t.He.getLastRemoteSnapshotVersion(u).next(M=>t.He.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(C)}return ke.waitFor(m).next(()=>l.apply(u)).next(()=>t.Wn.Vn(u,E)).next(()=>E)}).then(u=>(t.qn=s,u))}function Vk(n,e,t,r,s){let u=rn();return t.forEach(l=>u=u.add(l)),e.getEntries(n,u).next(l=>{let m=qi();return t.forEach((E,C)=>{const M=l.get(E),R=(null==s?void 0:s.get(E))||r;C.isNoDocument()&&C.version.isEqual(Mt.min())?(e.removeEntry(E,R),m=m.insert(E,C)):!M.isValidDocument()||C.version.compareTo(M.version)>0||0===C.version.compareTo(M.version)&&M.hasPendingWrites?(e.addEntry(C,R),m=m.insert(E,C)):Ve("LocalStore","Ignoring outdated watch update for ",E,". Current version:",M.version," Watch version:",C.version)}),m})}function oP(n,e){const t=He(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(r,e)))}function $m(n,e){const t=He(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.He.getTargetData(r,e).next(u=>u?(s=u,ke.resolve(s)):t.He.allocateTargetId(r).next(l=>(s=new oh(e,l,0,r.currentSequenceNumber),t.He.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.qn.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.qn=t.qn.insert(r.targetId,r),t.Kn.set(e,r.targetId)),r})}function Hm(n,e,t){return zT.apply(this,arguments)}function zT(){return zT=(0,me.Z)(function*(n,e,t){const r=He(n),s=r.qn.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!cp(l))throw l;Ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.qn=r.qn.remove(e),r.Kn.delete(s.target)}),zT.apply(this,arguments)}function nD(n,e,t){const r=He(n);let s=Mt.min(),u=rn();return r.persistence.runTransaction("Execute query","readonly",l=>function(m,E,C){const M=He(m),R=M.Kn.get(C);return void 0!==R?ke.resolve(M.qn.get(R)):M.He.getTargetData(E,C)}(r,l,gs(e)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(l,m.targetId).next(E=>{u=E})}).next(()=>r.Un.getDocumentsMatchingQuery(l,e,t?s:Mt.min(),t?u:rn())).next(m=>({documents:m,zn:u})))}function Uk(n,e){const t=He(n),r=He(t.He),s=t.qn.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(l=>l?l.target:null))}function Bk(n){const e=He(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,s,u){const l=He(r);let m=qi(),E=FT(u);const C=ch(s),M=IDBKeyRange.lowerBound(E,!0);return C.jt({index:fr.readTimeIndex,range:M},(R,U)=>{const z=PT(l.k,U);m=m.insert(z.key,z),E=U.readTime}).next(()=>({In:m,readTime:vk(E)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:r})=>(e.jn=r,t))}function WT(){return WT=(0,me.Z)(function*(n){const e=He(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const s=ch(r);let u=Mt.min();return s.jt({index:fr.readTimeIndex,reverse:!0},(l,m,E)=>{m.readTime&&(u=vk(m.readTime)),E.done()}).next(()=>u)}(t)).then(t=>{e.jn=t})}),WT.apply(this,arguments)}function KT(){return KT=(0,me.Z)(function*(n,e,t,r){const s=He(n);let u=rn(),l=qi(),m=km();for(const M of t){const R=e.Hn(M.metadata.name);M.document&&(u=u.add(R)),l=l.insert(R,e.Jn(M)),m=m.insert(R,e.Yn(M.metadata.readTime))}const E=s.Qn.newChangeBuffer({trackRemovals:!0}),C=yield $m(s,(M=r,gs(Xd(Ft.fromString(`__bundle__/docs/${M}`)))));var M;return s.persistence.runTransaction("Apply bundle documents","readwrite",M=>Vk(M,E,l,Mt.min(),m).next(R=>(E.apply(M),R)).next(R=>s.He.removeMatchingKeysForTargetId(M,C.targetId).next(()=>s.He.addMatchingKeys(M,u,C.targetId)).next(()=>s.Wn.Vn(M,R)).next(()=>R)))}),KT.apply(this,arguments)}function cP(n,e){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,me.Z)(function*(n,e,t=rn()){const r=yield $m(n,gs(LT(e.bundledQuery))),s=He(n);return s.persistence.runTransaction("Save named query","readwrite",u=>{const l=si(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return s.Ye.saveNamedQuery(u,e);const m=r.withResumeToken(Dr.EMPTY_BYTE_STRING,l);return s.qn=s.qn.insert(m.targetId,m),s.He.updateTargetData(u,m).next(()=>s.He.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>s.He.addMatchingKeys(u,t,r.targetId)).next(()=>s.Ye.saveNamedQuery(u,e))})}),ZT.apply(this,arguments)}class lP{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return ke.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var r;return this.Xn.set(t.id,{id:(r=t).id,version:r.version,createTime:si(r.createTime)}),ke.resolve()}getNamedQuery(e,t){return ke.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(r=t).name,query:LT(r.bundledQuery),readTime:si(r.readTime)}),ke.resolve();var r}}class YT{constructor(){this.ts=new wt(oi.es),this.ns=new wt(oi.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const r=new oi(e,t);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.os(new oi(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new it(new Ft([])),r=new oi(t,e),s=new oi(t,e+1),u=[];return this.ns.forEachInRange([r,s],l=>{this.os(l),u.push(l.key)}),u}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new it(new Ft([])),r=new oi(t,e),s=new oi(t,e+1);let u=rn();return this.ns.forEachInRange([r,s],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new oi(e,0),r=this.ts.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class oi{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return it.comparator(e.key,t.key)||$t(e.fs,t.fs)}static ss(e,t){return $t(e.fs,t.fs)||it.comparator(e.key,t.key)}}class dP{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new wt(oi.es)}checkEmpty(e){return ke.resolve(0===this.An.length)}addMutationBatch(e,t,r,s){const u=this.ds;this.ds++;const l=new RT(u,t,r,s);this.An.push(l);for(const m of s)this.ws=this.ws.add(new oi(m.key,u)),this.Jt.addToCollectionParentIndex(e,m.key.path.popLast());return ke.resolve(l)}lookupMutationBatch(e,t){return ke.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.gs(t+1),u=s<0?0:s;return ke.resolve(this.An.length>u?this.An[u]:null)}getHighestUnacknowledgedBatchId(){return ke.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return ke.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new oi(t,0),s=new oi(t,Number.POSITIVE_INFINITY),u=[];return this.ws.forEachInRange([r,s],l=>{const m=this._s(l.fs);u.push(m)}),ke.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wt($t);return t.forEach(s=>{const u=new oi(s,0),l=new oi(s,Number.POSITIVE_INFINITY);this.ws.forEachInRange([u,l],m=>{r=r.add(m.fs)})}),ke.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let u=r;it.isDocumentKey(u)||(u=u.child(""));const l=new oi(new it(u),0);let m=new wt($t);return this.ws.forEachWhile(E=>{const C=E.key.path;return!!r.isPrefixOf(C)&&(C.length===s&&(m=m.add(E.fs)),!0)},l),ke.resolve(this.ys(m))}ys(e){const t=[];return e.forEach(r=>{const s=this._s(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){It(0===this.ps(t.batchId,"removed")),this.An.shift();let r=this.ws;return ke.forEach(t.mutations,s=>{const u=new oi(s.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,t){const r=new oi(t,0),s=this.ws.firstAfterOrEqual(r);return ke.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return ke.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class hP{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new pe(it.comparator),this.size=0}addEntry(e,t,r){const s=t.key,u=this.docs.get(s),l=u?u.size:0,m=this.Ts(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:m,readTime:r}),this.size+=m-l,this.Jt.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ke.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(t))}getEntries(e,t){let r=qi();return t.forEach(s=>{const u=this.docs.get(s);r=r.insert(s,u?u.document.mutableCopy():Fn.newInvalidDocument(s))}),ke.resolve(r)}getDocumentsMatchingQuery(e,t,r){let s=qi();const u=new it(t.path.child("")),l=this.docs.getIteratorFrom(u);for(;l.hasNext();){const{key:m,value:{document:E,readTime:C}}=l.getNext();if(!t.path.isPrefixOf(m.path))break;C.compareTo(r)<=0||ip(t,E)&&(s=s.insert(E.key,E.mutableCopy()))}return ke.resolve(s)}Es(e,t){return ke.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new fP(this)}getSize(e){return ke.resolve(this.size)}}class fP extends xk{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.document.isValidDocument()?t.push(this.De.addEntry(e,s.document,this.getReadTime(r))):this.De.removeEntry(r)}),ke.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class pP{constructor(e){this.persistence=e,this.Is=new jm(t=>Xf(t),ep),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.As=0,this.Rs=new YT,this.targetCount=0,this.bs=dp.ie()}forEachTarget(e,t){return this.Is.forEach((r,s)=>t(s)),ke.resolve()}getLastRemoteSnapshotVersion(e){return ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ke.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),ke.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.As&&(this.As=t),ke.resolve()}ae(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new dp(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,ke.resolve()}updateTargetData(e,t){return this.ae(t),ke.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,ke.resolve()}removeTargets(e,t,r){let s=0;const u=[];return this.Is.forEach((l,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Is.delete(l),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)}),ke.waitFor(u).next(()=>s)}getTargetCount(e){return ke.resolve(this.targetCount)}getTargetData(e,t){const r=this.Is.get(t)||null;return ke.resolve(r)}addMatchingKeys(e,t,r){return this.Rs.rs(t,r),ke.resolve()}removeMatchingKeys(e,t,r){this.Rs.cs(t,r);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(l=>{u.push(s.markPotentiallyOrphaned(e,l))}),ke.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),ke.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Rs.ls(t);return ke.resolve(r)}containsKey(e,t){return ke.resolve(this.Rs.containsKey(t))}}class gP{constructor(e,t){this.Ps={},this.Be=new Ci(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new pP(this),this.Jt=new z1,this.Je=new hP(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new yk(t),this.Ye=new lP(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new dP(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,r){Ve("MemoryPersistence","Starting transaction:",e);const s=new mP(this.Be.next());return this.referenceDelegate.Vs(),r(s).next(u=>this.referenceDelegate.Ss(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Ds(e,t){return ke.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,t)))}}class mP extends pk{constructor(e){super(),this.currentSequenceNumber=e}}class QT{constructor(e){this.persistence=e,this.Cs=new YT,this.Ns=null}static ks(e){return new QT(e)}get xs(){if(this.Ns)return this.Ns;throw dt()}addReference(e,t,r){return this.Cs.addReference(r,t),this.xs.delete(r.toString()),ke.resolve()}removeReference(e,t,r){return this.Cs.removeReference(r,t),this.xs.add(r.toString()),ke.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),ke.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(s=>this.xs.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.xs.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ke.forEach(this.xs,r=>{const s=it.fromPath(r);return this.$s(e,s).next(u=>{u||t.removeEntry(s)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return ke.or([()=>ke.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function jk(n,e){return`firestore_clients_${n}_${e}`}function $k(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function JT(n,e){return`firestore_targets_${n}_${e}`}class rD{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static Os(e,t,r){const s=JSON.parse(r);let u,l="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return l&&s.error&&(l="string"==typeof s.error.message&&"string"==typeof s.error.code,l&&(u=new Oe(s.error.code,s.error.message))),l?new rD(e,t,s.state,u):(er("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sE{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Os(e,t){const r=JSON.parse(t);let s,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new Oe(r.error.code,r.error.message))),u?new sE(e,r.state,s):(er("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class iD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Os(e,t){const r=JSON.parse(t);let s="object"==typeof r&&r.activeTargetIds instanceof Array,u=ih();for(let l=0;s&&l<r.activeTargetIds.length;++l)s=Qd(r.activeTargetIds[l]),u=u.add(r.activeTargetIds[l]);return s?new iD(e,u):(er("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class XT{constructor(e,t){this.clientId=e,this.onlineState=t}static Os(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new XT(t.clientId,t.onlineState):(er("SharedClientState",`Failed to parse online state: ${e}`),null)}}class eA{constructor(){this.activeTargetIds=ih()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tA{constructor(e,t,r,s,u){this.window=e,this.Me=t,this.persistenceKey=r,this.Bs=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new pe($t),this.started=!1,this.js=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Qs=jk(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new eA),this.Gs=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(m){return`firestore_bundle_loaded_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,me.Z)(function*(){const t=yield e.syncEngine.Tn();for(const s of t){if(s===e.Bs)continue;const u=e.getItem(jk(e.persistenceKey,s));if(u){const l=iD.Os(s,u);l&&(e.Ks=e.Ks.insert(l.clientId,l))}}e.Xs();const r=e.storage.getItem(e.Js);if(r){const s=e.Zs(r);s&&e.ti(s)}for(const s of e.js)e.qs(s);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,r){this.ni(e,t,r),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(JT(this.persistenceKey,e));if(r){const s=sE.Os(e,r);s&&(t=s.state)}}return this.ii.Fs(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(JT(this.persistenceKey,e))}updateQueryState(e,t,r){this.ri(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.si(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ve("SharedClientState","READ",e,t),t}setItem(e,t){Ve("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ve("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ve("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Qs)return void er("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,me.Z)(function*(){if(t.started){if(null!==r.key)if(t.Gs.test(r.key)){if(null==r.newValue){const s=t.ai(r.key);return t.ui(s,null)}{const s=t.hi(r.key,r.newValue);if(s)return t.ui(s.clientId,s)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const s=t.li(r.key,r.newValue);if(s)return t.fi(s)}}else if(t.Hs.test(r.key)){if(null!==r.newValue){const s=t.di(r.key,r.newValue);if(s)return t.wi(s)}}else if(r.key===t.Js){if(null!==r.newValue){const s=t.Zs(r.newValue);if(s)return t.ti(s)}}else if(r.key===t.Ws){const s=function(u){let l=Ci.I;if(null!=u)try{const m=JSON.parse(u);It("number"==typeof m),l=m}catch(m){er("SharedClientState","Failed to read sequence number from WebStorage",m)}return l}(r.newValue);s!==Ci.I&&t.sequenceNumberHandler(s)}else if(r.key===t.Ys)return t.syncEngine._i()}else t.js.push(r)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,t,r){const s=new rD(this.currentUser,e,t,r),u=$k(this.persistenceKey,this.currentUser,e);this.setItem(u,s.Ms())}si(e){const t=$k(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,r){const s=JT(this.persistenceKey,e),u=new sE(e,t,r);this.setItem(s,u.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const r=this.ai(e);return iD.Os(r,t)}li(e,t){const r=this.zs.exec(e),s=Number(r[1]);return rD.Os(new wr(void 0!==r[2]?r[2]:null),s,t)}di(e,t){const r=this.Hs.exec(e),s=Number(r[1]);return sE.Os(s,t)}Zs(e){return XT.Os(e)}fi(e){var t=this;return(0,me.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);Ve("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const r=t?this.Ks.insert(e,t):this.Ks.remove(e),s=this.ei(this.Ks),u=this.ei(r),l=[],m=[];return u.forEach(E=>{s.has(E)||l.push(E)}),s.forEach(E=>{u.has(E)||m.push(E)}),this.syncEngine.yi(l,m).then(()=>{this.Ks=r})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=ih();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class Hk{constructor(){this.pi=new eA,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,t,r){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new eA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class yP{Ei(e){}shutdown(){}}class Gk{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const _P={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class vP{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class EP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,r,s,u){const l=this.Ui(e,t);Ve("RestConnection","Sending: ",l,r);const m={};return this.qi(m,s,u),this.Ki(e,l,m,r).then(E=>(Ve("RestConnection","Received: ",E),E),E=>{throw Zd("RestConnection",`${e} failed with error: `,E,"url: ",l,"request:",r),E})}ji(e,t,r,s,u){return this.Bi(e,t,r,s,u)}qi(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+uo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),r&&r.headers.forEach((s,u)=>e[u]=s)}Ui(e,t){return`${this.Fi}/v1/${t}:${_P[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,r,s){return new Promise((u,l)=>{const m=new _m;m.listenOnce(Lx.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case kw.NO_ERROR:const C=m.getResponseJson();Ve("Connection","XHR received:",JSON.stringify(C)),u(C);break;case kw.TIMEOUT:Ve("Connection",'RPC "'+e+'" timed out'),l(new Oe(he.DEADLINE_EXCEEDED,"Request time out"));break;case kw.HTTP_ERROR:const M=m.getStatus();if(Ve("Connection",'RPC "'+e+'" failed with status:',M,"response text:",m.getResponseText()),M>0){const R=m.getResponseJson().error;if(R&&R.status&&R.message){const U=function(z){const Q=z.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(Q)>=0?Q:he.UNKNOWN}(R.status);l(new Oe(U,R.message))}else l(new Oe(he.UNKNOWN,"Server responded with status "+m.getStatus()))}else l(new Oe(he.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{Ve("Connection",'RPC "'+e+'" completed.')}});const E=JSON.stringify(s);m.send(t,"POST",E,r,15)})}Qi(e,t,r){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Px(),l=Fx(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new Ux({})),this.qi(m.initMessageHeaders,t,r),(0,jt.uI)()||(0,jt.b$)()||(0,jt.d)()||(0,jt.w1)()||(0,jt.Mn)()||(0,jt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const E=s.join("");Ve("Connection","Creating WebChannel: "+E,m);const C=u.createWebChannel(E,m);let M=!1,R=!1;const U=new vP({Vi:Q=>{R?Ve("Connection","Not sending because WebChannel is closed:",Q):(M||(Ve("Connection","Opening WebChannel transport."),C.open(),M=!0),Ve("Connection","WebChannel sending:",Q),C.send(Q))},Si:()=>C.close()}),z=(Q,ve,Pe)=>{Q.listen(ve,at=>{try{Pe(at)}catch(Et){setTimeout(()=>{throw Et},0)}})};return z(C,Sv.EventType.OPEN,()=>{R||Ve("Connection","WebChannel transport opened.")}),z(C,Sv.EventType.CLOSE,()=>{R||(R=!0,Ve("Connection","WebChannel transport closed"),U.Oi())}),z(C,Sv.EventType.ERROR,Q=>{R||(R=!0,Zd("Connection","WebChannel transport errored:",Q),U.Oi(new Oe(he.UNAVAILABLE,"The operation could not be completed")))}),z(C,Sv.EventType.MESSAGE,Q=>{var ve;if(!R){const Pe=Q.data[0];It(!!Pe);const at=Pe,Et=at.error||(null===(ve=at[0])||void 0===ve?void 0:ve.error);if(Et){Ve("Connection","WebChannel received error:",Et);const Lt=Et.status;let ht=function(pr){const jr=oe[pr];if(void 0!==jr)return Ye(jr)}(Lt),ln=Et.message;void 0===ht&&(ht=he.INTERNAL,ln="Unknown error status: "+Lt+" with message "+Et.message),R=!0,U.Oi(new Oe(ht,ln)),C.close()}else Ve("Connection","WebChannel received:",Pe),U.Mi(Pe)}}),z(l,Vx.STAT_EVENT,Q=>{Q.stat===lT.PROXY?Ve("Connection","Detected buffering proxy"):Q.stat===lT.NOPROXY&&Ve("Connection","Detected no buffering proxy")}),setTimeout(()=>{U.$i()},0),U}}function qk(){return"undefined"!=typeof window?window:null}function sD(){return"undefined"!=typeof document?document:null}function oE(n){return new A1(n,!0)}class nA{constructor(e,t,r=1e3,s=1.5,u=6e4){this.Me=e,this.timerId=t,this.Wi=r,this.Gi=s,this.zi=u,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),s=Math.max(0,t-r);s>0&&Ve("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,s,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class zk{constructor(e,t,r,s,u,l,m,E){this.Me=e,this.nr=r,this.sr=s,this.ir=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=m,this.listener=E,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new nA(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,me.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,me.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,t){var r=this;return(0,me.Z)(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(er(t.toString()),er("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):t&&t.code===he.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.rr===t&&this.Ir(r,s)},r=>{e(()=>{const s=new Oe(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(s)})})}Ir(e,t){const r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{r(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(s=>{r(()=>this.Ar(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}dr(){var e=this;this.state=5,this.ur.Zi((0,me.Z)(function*(){e.state=0,e.start()}))}Ar(e){return Ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Me.enqueueAndForget(()=>this.rr===e?t():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bP extends zk{constructor(e,t,r,s,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.k=u}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function x1(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:dt(),s=e.targetChange.targetIds||[],u=function(E,C){return E.C?(It(void 0===C||"string"==typeof C),Dr.fromBase64String(C||"")):(It(void 0===C||C instanceof Uint8Array),Dr.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,m=l&&function(E){const C=void 0===E.code?he.UNKNOWN:Ye(E.code);return new Oe(C,E.message||"")}(l);t=new Kx(r,s,u,m||null)}else if("documentChange"in e){const r=e.documentChange,s=Yu(n,r.document.name),u=si(r.document.updateTime),l=new Ii({mapValue:{fields:r.document.fields}}),m=Fn.newFoundDocument(s,u,l);t=new Zw(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,s=Yu(n,r.document),u=r.readTime?si(r.readTime):Mt.min(),l=Fn.newNoDocument(s,u);t=new Zw([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,s=Yu(n,r.document);t=new Zw([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return dt();{const r=e.filter,u=new Y(r.count||0);t=new Wx(r.targetId,u)}}var E;return t}(this.k,e),r=function(s){if(!("targetChange"in s))return Mt.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?Mt.min():u.readTime?si(u.readTime):Mt.min()}(e);return this.listener.br(t,r)}Pr(e){const t={};t.database=tE(this.k),t.addTarget=function(s,u){let l;const m=u.target;return l=Xo(m)?{documents:sk(s,m)}:{query:ok(s,m)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?l.resumeToken=Jx(s,u.resumeToken):u.snapshotVersion.compareTo(Mt.min())>0&&(l.readTime=Xv(s,u.snapshotVersion.toTimestamp())),l}(this.k,e);const r=function O1(n,e){const t=function(r,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.gr(t)}vr(e){const t={};t.database=tE(this.k),t.removeTarget=e,this.gr(t)}}class wP extends zk{constructor(e,t,r,s,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.k=u,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(It(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function k1(n,e){return n&&n.length>0?(It(void 0!==e),n.map(t=>function(r,s){let u=si(r.updateTime?r.updateTime:s);return u.isEqual(Mt.min())&&(u=si(s)),new zx(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=si(e.commitTime);return this.listener.Cr(r,t)}return It(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=tE(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Yw(this.k,r))};this.gr(t)}}class DP extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=r,this.k=s,this.$r=!1}Or(){if(this.$r)throw new Oe(he.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.ir.Bi(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Oe(he.UNKNOWN,s.toString())})}ji(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.ir.ji(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Oe(he.UNKNOWN,s.toString())})}terminate(){this.$r=!0}}class CP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(er(t),this.Lr=!1):Ve("OnlineStateTracker",t)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class IP{constructor(e,t,r,s,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=u,this.Hr.Ei(m=>{r.enqueueAndForget((0,me.Z)(function*(){var E;lh(l)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,me.Z)(function*(C){const M=He(C);M.Gr.add(4),yield Gm(M),M.Jr.set("Unknown"),M.Gr.delete(4),yield aE(M)}),function(C){return E.apply(this,arguments)})(l))}))}),this.Jr=new CP(r,s)}}function aE(n){return rA.apply(this,arguments)}function rA(){return rA=(0,me.Z)(function*(n){if(lh(n))for(const e of n.zr)yield e(!0)}),rA.apply(this,arguments)}function Gm(n){return iA.apply(this,arguments)}function iA(){return iA=(0,me.Z)(function*(n){for(const e of n.zr)yield e(!1)}),iA.apply(this,arguments)}function oD(n,e){const t=He(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),aA(t)?oA(t):zm(t).lr()&&sA(t,e))}function uE(n,e){const t=He(n),r=zm(t);t.Wr.delete(e),r.lr()&&Wk(t,e),0===t.Wr.size&&(r.lr()?r._r():lh(t)&&t.Jr.set("Unknown"))}function sA(n,e){n.Yr.X(e.targetId),zm(n).Pr(e)}function Wk(n,e){n.Yr.X(e),zm(n).vr(e)}function oA(n){n.Yr=new C1({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),zm(n).start(),n.Jr.Br()}function aA(n){return lh(n)&&!zm(n).hr()&&n.Wr.size>0}function lh(n){return 0===He(n).Gr.size}function Kk(n){n.Yr=void 0}function TP(n){return uA.apply(this,arguments)}function uA(){return uA=(0,me.Z)(function*(n){n.Wr.forEach((e,t)=>{sA(n,e)})}),uA.apply(this,arguments)}function AP(n,e){return cA.apply(this,arguments)}function cA(){return cA=(0,me.Z)(function*(n,e){Kk(n),aA(n)?(n.Jr.Kr(e),oA(n)):n.Jr.set("Unknown")}),cA.apply(this,arguments)}function SP(n,e,t){return lA.apply(this,arguments)}function lA(){return lA=(0,me.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof Kx&&2===e.state&&e.cause)try{yield(r=(0,me.Z)(function*(s,u){const l=u.cause;for(const m of u.targetIds)s.Wr.has(m)&&(yield s.remoteSyncer.rejectListen(m,l),s.Wr.delete(m),s.Yr.removeTarget(m))}),function(s,u){return r.apply(this,arguments)})(n,e)}catch(r){Ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield aD(n,r)}else if(e instanceof Zw?n.Yr.ot(e):e instanceof Wx?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(Mt.min()))try{const r=yield Lk(n.localStore);t.compareTo(r)>=0&&(yield function(s,u){const l=s.Yr.gt(u);return l.targetChanges.forEach((m,E)=>{if(m.resumeToken.approximateByteSize()>0){const C=s.Wr.get(E);C&&s.Wr.set(E,C.withResumeToken(m.resumeToken,u))}}),l.targetMismatches.forEach(m=>{const E=s.Wr.get(m);if(!E)return;s.Wr.set(m,E.withResumeToken(Dr.EMPTY_BYTE_STRING,E.snapshotVersion)),Wk(s,m);const C=new oh(E.target,m,1,E.sequenceNumber);sA(s,C)}),s.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Ve("RemoteStore","Failed to raise snapshot:",r),yield aD(n,r)}var r}),lA.apply(this,arguments)}function aD(n,e,t){return dA.apply(this,arguments)}function dA(){return dA=(0,me.Z)(function*(n,e,t){if(!cp(e))throw e;n.Gr.add(1),yield Gm(n),n.Jr.set("Offline"),t||(t=()=>Lk(n.localStore)),n.asyncQueue.enqueueRetryable((0,me.Z)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield aE(n)}))}),dA.apply(this,arguments)}function Zk(n,e){return e().catch(t=>aD(n,t,e))}function qm(n){return hA.apply(this,arguments)}function hA(){return hA=(0,me.Z)(function*(n){const e=He(n),t=dh(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;MP(e);)try{const s=yield oP(e.localStore,r);if(null===s){0===e.Qr.length&&t._r();break}r=s.batchId,xP(e,s)}catch(s){yield aD(e,s)}Yk(e)&&Qk(e)}),hA.apply(this,arguments)}function MP(n){return lh(n)&&n.Qr.length<10}function xP(n,e){n.Qr.push(e);const t=dh(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function Yk(n){return lh(n)&&!dh(n).hr()&&n.Qr.length>0}function Qk(n){dh(n).start()}function kP(n){return fA.apply(this,arguments)}function fA(){return fA=(0,me.Z)(function*(n){dh(n).kr()}),fA.apply(this,arguments)}function OP(n){return pA.apply(this,arguments)}function pA(){return pA=(0,me.Z)(function*(n){const e=dh(n);for(const t of n.Qr)e.Dr(t.mutations)}),pA.apply(this,arguments)}function RP(n,e,t){return gA.apply(this,arguments)}function gA(){return gA=(0,me.Z)(function*(n,e,t){const r=n.Qr.shift(),s=NT.from(r,e,t);yield Zk(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield qm(n)}),gA.apply(this,arguments)}function NP(n,e){return mA.apply(this,arguments)}function mA(){return mA=(0,me.Z)(function*(n,e){var t;e&&dh(n).Sr&&(yield(t=(0,me.Z)(function*(r,s){if(je(u=s.code)&&u!==he.ABORTED){const l=r.Qr.shift();dh(r).wr(),yield Zk(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,s)),yield qm(r)}var u}),function(r,s){return t.apply(this,arguments)})(n,e)),Yk(n)&&Qk(n)}),mA.apply(this,arguments)}function yA(n,e){return _A.apply(this,arguments)}function _A(){return _A=(0,me.Z)(function*(n,e){const t=He(n);e?(t.Gr.delete(2),yield aE(t)):e||(t.Gr.add(2),yield Gm(t),t.Jr.set("Unknown"))}),_A.apply(this,arguments)}function zm(n){return n.Xr||(n.Xr=function(e,t,r){const s=He(e);return s.Or(),new bP(t,s.ir,s.authCredentials,s.appCheckCredentials,s.k,r)}(n.datastore,n.asyncQueue,{Di:TP.bind(null,n),Ni:AP.bind(null,n),br:SP.bind(null,n)}),n.zr.push(function(){var e=(0,me.Z)(function*(t){t?(n.Xr.wr(),aA(n)?oA(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),Kk(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function dh(n){return n.Zr||(n.Zr=function(e,t,r){const s=He(e);return s.Or(),new wP(t,s.ir,s.authCredentials,s.appCheckCredentials,s.k,r)}(n.datastore,n.asyncQueue,{Di:kP.bind(null,n),Ni:NP.bind(null,n),Nr:OP.bind(null,n),Cr:RP.bind(null,n)}),n.zr.push(function(){var e=(0,me.Z)(function*(t){t?(n.Zr.wr(),yield qm(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Ve("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class vA{constructor(e,t,r,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,s,u){const l=Date.now()+r,m=new vA(e,t,l,s,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wm(n,e){if(er("AsyncQueue",`${e}: ${n}`),cp(n))return new Oe(he.UNAVAILABLE,`${e}: ${n}`);throw n}class Km{constructor(e){this.comparator=e?(t,r)=>e(t,r)||it.comparator(t.key,r.key):(t,r)=>it.comparator(t.key,r.key),this.keyedMap=ap(),this.sortedSet=new pe(this.comparator)}static emptySet(e){return new Km(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Km)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Km;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Jk{constructor(){this.eo=new pe(it.comparator)}track(e){const t=e.doc.key,r=this.eo.get(t);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(t):1===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):dt():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,r)=>{e.push(r)}),e}}class Zm{constructor(e,t,r,s,u,l,m,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=m,this.excludesMetadataChanges=E}static fromInitialDocuments(e,t,r,s){const u=[];return t.forEach(l=>{u.push({type:0,doc:l})}),new Zm(e,t,Km.emptySet(t),u,r,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class PP{constructor(){this.so=void 0,this.listeners=[]}}class FP{constructor(){this.queries=new jm(e=>qv(e),Mm),this.onlineState="Unknown",this.io=new Set}}function EA(n,e){return bA.apply(this,arguments)}function bA(){return bA=(0,me.Z)(function*(n,e){const t=He(n),r=e.query;let s=!1,u=t.queries.get(r);if(u||(s=!0,u=new PP),s)try{u.so=yield t.onListen(r)}catch(l){const m=Wm(l,`Initialization of query '${th(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.ro(t.onlineState),u.so&&e.oo(u.so)&&CA(t)}),bA.apply(this,arguments)}function wA(n,e){return DA.apply(this,arguments)}function DA(){return DA=(0,me.Z)(function*(n,e){const t=He(n),r=e.query;let s=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),s=0===u.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),DA.apply(this,arguments)}function LP(n,e){const t=He(n);let r=!1;for(const s of e){const l=t.queries.get(s.query);if(l){for(const m of l.listeners)m.oo(s)&&(r=!0);l.so=s}}r&&CA(t)}function VP(n,e,t){const r=He(n),s=r.queries.get(e);if(s)for(const u of s.listeners)u.onError(t);r.queries.delete(e)}function CA(n){n.io.forEach(e=>{e.next()})}class IA{constructor(e,t,r){this.query=e,this.co=t,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new Zm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.ao?this.ho(e)&&(this.co.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=Zm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class UP{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class Xk{constructor(e){this.k=e}Hn(e){return Yu(this.k,e)}Jn(e){return e.metadata.exists?rk(this.k,e.document,!1):Fn.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return si(e)}}class BP{constructor(e,t,r){this.mo=e,this.localStore=t,this.k=r,this.queries=[],this.documents=[],this.progress=eO(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,r=new Xk(this.k);for(const s of e)if(s.metadata.queries){const u=r.Hn(s.metadata.name);for(const l of s.metadata.queries){const m=(t.get(l)||rn()).add(u);t.set(l,m)}}return t}complete(){var e=this;return(0,me.Z)(function*(){const t=yield function uP(n,e,t,r){return KT.apply(this,arguments)}(e.localStore,new Xk(e.k),e.documents,e.mo.id),r=e.po(e.documents);for(const s of e.queries)yield cP(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",new nP(Object.assign({},e.progress),t)})()}}function eO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class tO{constructor(e){this.key=e}}class nO{constructor(e){this.key=e}}class rO{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=rn(),this.mutatedKeys=rn(),this.Ao=Gw(e),this.Ro=new Km(this.Ao)}get bo(){return this.To}Po(e,t){const r=t?t.vo:new Jk,s=t?t.Ro:this.Ro;let u=t?t.mutatedKeys:this.mutatedKeys,l=s,m=!1;const E=Tm(this.query)&&s.size===this.query.limit?s.last():null,C=np(this.query)&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((M,R)=>{const U=s.get(M),z=ip(this.query,R)?R:null,Q=!!U&&this.mutatedKeys.has(U.key),ve=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let Pe=!1;U&&z?U.data.isEqual(z.data)?Q!==ve&&(r.track({type:3,doc:z}),Pe=!0):this.Vo(U,z)||(r.track({type:2,doc:z}),Pe=!0,(E&&this.Ao(z,E)>0||C&&this.Ao(z,C)<0)&&(m=!0)):!U&&z?(r.track({type:0,doc:z}),Pe=!0):U&&!z&&(r.track({type:1,doc:U}),Pe=!0,(E||C)&&(m=!0)),Pe&&(z?(l=l.add(z),u=ve?u.add(M):u.delete(M)):(l=l.delete(M),u=u.delete(M)))}),Tm(this.query)||np(this.query))for(;l.size>this.query.limit;){const M=Tm(this.query)?l.last():l.first();l=l.delete(M.key),u=u.delete(M.key),r.track({type:1,doc:M})}return{Ro:l,vo:r,Bn:m,mutatedKeys:u}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const u=e.vo.no();u.sort((C,M)=>function(R,U){const z=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return z(R)-z(U)}(C.type,M.type)||this.Ao(C.doc,M.doc)),this.So(r);const l=t?this.Do():[],m=0===this.Io.size&&this.current?1:0,E=m!==this.Eo;return this.Eo=m,0!==u.length||E?{snapshot:new Zm(this.query,e.Ro,s,u,e.mutatedKeys,0===m,E,!1),Co:l}:{Co:l}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Jk,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=rn(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const t=[];return e.forEach(r=>{this.Io.has(r)||t.push(new nO(r))}),this.Io.forEach(r=>{e.has(r)||t.push(new tO(r))}),t}ko(e){this.To=e.zn,this.Io=rn();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return Zm.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class jP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class $P{constructor(e){this.key=e,this.$o=!1}}class HP{constructor(e,t,r,s,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.Oo={},this.Mo=new jm(m=>qv(m),Mm),this.Fo=new Map,this.Lo=new Set,this.Bo=new pe(it.comparator),this.Uo=new Map,this.qo=new YT,this.Ko={},this.jo=new Map,this.Qo=dp.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function GP(n,e){return TA.apply(this,arguments)}function TA(){return TA=(0,me.Z)(function*(n,e){const t=ZA(n);let r,s;const u=t.Mo.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),s=u.view.xo();else{const l=yield $m(t.localStore,gs(e)),m=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,s=yield AA(t,e,r,"current"===m),t.isPrimaryClient&&oD(t.remoteStore,l)}return s}),TA.apply(this,arguments)}function AA(n,e,t,r){return SA.apply(this,arguments)}function SA(){return SA=(0,me.Z)(function*(n,e,t,r){n.Go=(M,R,U)=>{return(z=(0,me.Z)(function*(Q,ve,Pe,at){let Et=ve.view.Po(Pe);Et.Bn&&(Et=yield nD(Q.localStore,ve.query,!1).then(({documents:ln})=>ve.view.Po(ln,Et)));const Lt=at&&at.targetChanges.get(ve.targetId),ht=ve.view.applyChanges(Et,Q.isPrimaryClient,Lt);return VA(Q,ve.targetId,ht.Co),ht.snapshot}),function(Q,ve,Pe,at){return z.apply(this,arguments)})(n,M,R,U);var z};const s=yield nD(n.localStore,e,!0),u=new rO(e,s.zn),l=u.Po(s.documents),m=Jv.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),E=u.applyChanges(l,n.isPrimaryClient,m);VA(n,t,E.Co);const C=new jP(e,t,u);return n.Mo.set(e,C),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),E.snapshot}),SA.apply(this,arguments)}function qP(n,e){return MA.apply(this,arguments)}function MA(){return MA=(0,me.Z)(function*(n,e){const t=He(n),r=t.Mo.get(e),s=t.Fo.get(r.targetId);if(s.length>1)return t.Fo.set(r.targetId,s.filter(u=>!Mm(u,e))),void t.Mo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Hm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),uE(t.remoteStore,r.targetId),Ym(t,r.targetId)}).catch(hp))):(Ym(t,r.targetId),yield Hm(t.localStore,r.targetId,!0))}),MA.apply(this,arguments)}function xA(){return xA=(0,me.Z)(function*(n,e,t){const r=YA(n);try{const s=yield function(u,l){const m=He(u),E=Br.now(),C=l.reduce((R,U)=>R.add(U.key),rn());let M;return m.persistence.runTransaction("Locally write mutations","readwrite",R=>m.Wn.vn(R,C).next(U=>{M=U;const z=[];for(const Q of l){const ve=c(Q,M.get(Q.key));null!=ve&&z.push(new b(Q.key,ve,_T(ve.value.mapValue),Cr.exists(!0)))}return m.An.addMutationBatch(R,E,z,l)})).then(R=>(R.applyToLocalDocumentSet(M),{batchId:R.batchId,changes:M}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,l,m){let E=u.Ko[u.currentUser.toKey()];E||(E=new pe($t)),E=E.insert(l,m),u.Ko[u.currentUser.toKey()]=E}(r,s.batchId,t),yield fl(r,s.changes),yield qm(r.remoteStore)}catch(s){const u=Wm(s,"Failed to persist write");t.reject(u)}}),xA.apply(this,arguments)}function iO(n,e){return kA.apply(this,arguments)}function kA(){return kA=(0,me.Z)(function*(n,e){const t=He(n);try{const r=yield sP(t.localStore,e);e.targetChanges.forEach((s,u)=>{const l=t.Uo.get(u);l&&(It(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.$o=!0:s.modifiedDocuments.size>0?It(l.$o):s.removedDocuments.size>0&&(It(l.$o),l.$o=!1))}),yield fl(t,r,e)}catch(r){yield hp(r)}}),kA.apply(this,arguments)}function sO(n,e,t){const r=He(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.Mo.forEach((u,l)=>{const m=l.view.ro(e);m.snapshot&&s.push(m.snapshot)}),function(u,l){const m=He(u);m.onlineState=l;let E=!1;m.queries.forEach((C,M)=>{for(const R of M.listeners)R.ro(l)&&(E=!0)}),E&&CA(m)}(r.eventManager,e),s.length&&r.Oo.br(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function WP(n,e,t){return OA.apply(this,arguments)}function OA(){return OA=(0,me.Z)(function*(n,e,t){const r=He(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Uo.get(e),u=s&&s.key;if(u){let l=new pe(it.comparator);l=l.insert(u,Fn.newNoDocument(u,Mt.min()));const m=rn().add(u),E=new Qv(Mt.min(),new Map,new wt($t),l,m);yield iO(r,E),r.Bo=r.Bo.remove(u),r.Uo.delete(e),UA(r)}else yield Hm(r.localStore,e,!1).then(()=>Ym(r,e,t)).catch(hp)}),OA.apply(this,arguments)}function KP(n,e){return RA.apply(this,arguments)}function RA(){return RA=(0,me.Z)(function*(n,e){const t=He(n),r=e.batch.batchId;try{const s=yield iP(t.localStore,e);LA(t,r,null),FA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield fl(t,s)}catch(s){yield hp(s)}}),RA.apply(this,arguments)}function ZP(n,e,t){return NA.apply(this,arguments)}function NA(){return NA=(0,me.Z)(function*(n,e,t){const r=He(n);try{const s=yield function(u,l){const m=He(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let C;return m.An.lookupMutationBatch(E,l).next(M=>(It(null!==M),C=M.keys(),m.An.removeMutationBatch(E,M))).next(()=>m.An.performConsistencyCheck(E)).next(()=>m.Wn.vn(E,C))})}(r.localStore,e);LA(r,e,t),FA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield fl(r,s)}catch(s){yield hp(s)}}),NA.apply(this,arguments)}function PA(){return PA=(0,me.Z)(function*(n,e){const t=He(n);lh(t.remoteStore)||Ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const l=He(u);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>l.An.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const s=t.jo.get(r)||[];s.push(e),t.jo.set(r,s)}catch(r){const s=Wm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),PA.apply(this,arguments)}function FA(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function LA(n,e,t){const r=He(n);let s=r.Ko[r.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),r.Ko[r.currentUser.toKey()]=s}}function Ym(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Fo.get(e))n.Mo.delete(r),t&&n.Oo.zo(r,t);n.Fo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(r=>{n.qo.containsKey(r)||oO(n,r)})}function oO(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(uE(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),UA(n))}function VA(n,e,t){for(const r of t)r instanceof tO?(n.qo.addReference(r.key,e),QP(n,r)):r instanceof nO?(Ve("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,e),n.qo.containsKey(r.key)||oO(n,r.key)):dt()}function QP(n,e){const t=e.key,r=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(r)||(Ve("SyncEngine","New document in limbo: "+t),n.Lo.add(r),UA(n))}function UA(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new it(Ft.fromString(e)),r=n.Qo.next();n.Uo.set(r,new $P(t)),n.Bo=n.Bo.insert(t,r),oD(n.remoteStore,new oh(gs(Xd(t.path)),r,2,Ci.I))}}function fl(n,e,t){return BA.apply(this,arguments)}function BA(){return BA=(0,me.Z)(function*(n,e,t){const r=He(n),s=[],u=[],l=[];var m;r.Mo.isEmpty()||(r.Mo.forEach((m,E)=>{l.push(r.Go(E,e,t).then(C=>{if(C){r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,C.fromCache?"not-current":"current"),s.push(C);const M=GT.$n(E.targetId,C);u.push(M)}}))}),yield Promise.all(l),r.Oo.br(s),yield(m=(0,me.Z)(function*(E,C){const M=He(E);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>ke.forEach(C,U=>ke.forEach(U.kn,z=>M.persistence.referenceDelegate.addReference(R,U.targetId,z)).next(()=>ke.forEach(U.xn,z=>M.persistence.referenceDelegate.removeReference(R,U.targetId,z)))))}catch(R){if(!cp(R))throw R;Ve("LocalStore","Failed to update sequence numbers: "+R)}for(const R of C){const U=R.targetId;if(!R.fromCache){const z=M.qn.get(U),ve=z.withLastLimboFreeSnapshotVersion(z.snapshotVersion);M.qn=M.qn.insert(U,ve)}}}),function(E,C){return m.apply(this,arguments)})(r.localStore,u))}),BA.apply(this,arguments)}function JP(n,e){return jA.apply(this,arguments)}function jA(){return jA=(0,me.Z)(function*(n,e){const t=He(n);if(!t.currentUser.isEqual(e)){Ve("SyncEngine","User change. New user:",e.toKey());const r=yield Fk(t.localStore,e);t.currentUser=e,(s=t).jo.forEach(l=>{l.forEach(m=>{m.reject(new Oe(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.jo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield fl(t,r.Gn)}var s}),jA.apply(this,arguments)}function XP(n,e){const t=He(n),r=t.Uo.get(e);if(r&&r.$o)return rn().add(r.key);{let s=rn();const u=t.Fo.get(e);if(!u)return s;for(const l of u){const m=t.Mo.get(l);s=s.unionWith(m.view.bo)}return s}}function eF(n,e){return $A.apply(this,arguments)}function $A(){return $A=(0,me.Z)(function*(n,e){const t=He(n),r=yield nD(t.localStore,e.query,!0),s=e.view.ko(r);return t.isPrimaryClient&&VA(t,e.targetId,s.Co),s}),$A.apply(this,arguments)}function tF(n){return HA.apply(this,arguments)}function HA(){return HA=(0,me.Z)(function*(n){const e=He(n);return Bk(e.localStore).then(t=>fl(e,t))}),HA.apply(this,arguments)}function nF(n,e,t,r){return GA.apply(this,arguments)}function GA(){return GA=(0,me.Z)(function*(n,e,t,r){const s=He(n),u=yield function(l,m){const E=He(l),C=He(E.An);return E.persistence.runTransaction("Lookup mutation documents","readonly",M=>C.Zt(M,m).next(R=>R?E.Wn.vn(M,R):ke.resolve(null)))}(s.localStore,e);var m;null!==u?("pending"===t?yield qm(s.remoteStore):"acknowledged"===t||"rejected"===t?(LA(s,e,r||null),FA(s,e),m=e,He(He(s.localStore).An).ee(m)):dt(),yield fl(s,u)):Ve("SyncEngine","Cannot apply mutation batch with id: "+e)}),GA.apply(this,arguments)}function qA(){return qA=(0,me.Z)(function*(n,e){const t=He(n);if(ZA(t),YA(t),!0===e&&!0!==t.Wo){const r=t.sharedClientState.getAllActiveQueryTargets(),s=yield aO(t,r.toArray());t.Wo=!0,yield yA(t.remoteStore,!0);for(const u of s)oD(t.remoteStore,u)}else if(!1===e&&!1!==t.Wo){const r=[];let s=Promise.resolve();t.Fo.forEach((u,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):s=s.then(()=>(Ym(t,l),Hm(t.localStore,l,!0))),uE(t.remoteStore,l)}),yield s,yield aO(t,r),function(u){const l=He(u);l.Uo.forEach((m,E)=>{uE(l.remoteStore,E)}),l.qo.hs(),l.Uo=new Map,l.Bo=new pe(it.comparator)}(t),t.Wo=!1,yield yA(t.remoteStore,!1)}}),qA.apply(this,arguments)}function aO(n,e,t){return zA.apply(this,arguments)}function zA(){return zA=(0,me.Z)(function*(n,e,t){const r=He(n),s=[],u=[];for(const l of e){let m;const E=r.Fo.get(l);if(E&&0!==E.length){m=yield $m(r.localStore,gs(E[0]));for(const C of E){const M=r.Mo.get(C),R=yield eF(r,M);R.snapshot&&u.push(R.snapshot)}}else{const C=yield Uk(r.localStore,l);m=yield $m(r.localStore,C),yield AA(r,uO(C),l,!1)}s.push(m)}return r.Oo.br(u),s}),zA.apply(this,arguments)}function uO(n){return Hw(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function iF(n){const e=He(n);return He(He(e.localStore).persistence).Tn()}function sF(n,e,t,r){return WA.apply(this,arguments)}function WA(){return WA=(0,me.Z)(function*(n,e,t,r){const s=He(n);if(s.Wo)Ve("SyncEngine","Ignoring unexpected query state notification.");else if(s.Fo.has(e))switch(t){case"current":case"not-current":{const u=yield Bk(s.localStore),l=Qv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield fl(s,u,l);break}case"rejected":yield Hm(s.localStore,e,!0),Ym(s,e,r);break;default:dt()}}),WA.apply(this,arguments)}function oF(n,e,t){return KA.apply(this,arguments)}function KA(){return KA=(0,me.Z)(function*(n,e,t){const r=ZA(n);if(r.Wo){for(const s of e){if(r.Fo.has(s)){Ve("SyncEngine","Adding an already active target "+s);continue}const u=yield Uk(r.localStore,s),l=yield $m(r.localStore,u);yield AA(r,uO(u),l.targetId,!1),oD(r.remoteStore,l)}for(const s of t)r.Fo.has(s)&&(yield Hm(r.localStore,s,!1).then(()=>{uE(r.remoteStore,s),Ym(r,s)}).catch(hp))}}),KA.apply(this,arguments)}function ZA(n){const e=He(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=iO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WP.bind(null,e),e.Oo.br=LP.bind(null,e.eventManager),e.Oo.zo=VP.bind(null,e.eventManager),e}function YA(n){const e=He(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZP.bind(null,e),e}class cO{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,me.Z)(function*(){t.k=oE(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return Pk(this.persistence,new Nk,e.initialUser,this.k)}Yo(e){return new gP(QT.ks,this.k)}Jo(e){return new Hk}terminate(){var e=this;return(0,me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class lO extends cO{constructor(e,t,r){super(),this.tc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,me.Z)(function*(){yield t().call(r,e),yield function aP(n){return WT.apply(this,arguments)}(r.localStore),yield r.tc.initialize(r,e),yield YA(r.tc.syncEngine),yield qm(r.tc.remoteStore),yield r.persistence.sn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Zo(e){return Pk(this.persistence,new Nk,e.initialUser,this.k)}Xo(e){return new Y1(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=HT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Fs.withCacheSize(this.cacheSizeBytes):Fs.DEFAULT;return new $T(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,qk(),sD(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new Hk}}class uF extends lO{constructor(e,t){super(e,t,!1),this.tc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,me.Z)(function*(){yield t().call(r,e);const s=r.tc.syncEngine;r.sharedClientState instanceof tA&&(r.sharedClientState.syncEngine={mi:nF.bind(null,s),gi:sF.bind(null,s),yi:oF.bind(null,s),Tn:iF.bind(null,s),_i:tF.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.sn(function(){var u=(0,me.Z)(function*(l){yield function rF(n,e){return qA.apply(this,arguments)}(r.tc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):l||r.gcScheduler.stop())});return function(l){return u.apply(this,arguments)}}())})()}Jo(e){const t=qk();if(!tA.Pt(t))throw new Oe(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=HT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new tA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class QA{initialize(e,t){var r=this;return(0,me.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>sO(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=JP.bind(null,r.syncEngine),yield yA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new FP}createDatastore(e){const t=oE(e.databaseInfo.databaseId),r=new EP(e.databaseInfo);return new DP(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,u=m=>sO(this.syncEngine,m,0),l=Gk.Pt()?new Gk:new yP,new IP(t,r,s,u,l);var t,r,s,u,l}createSyncEngine(e,t){return function(r,s,u,l,m,E,C){const M=new HP(r,s,u,l,m,E);return C&&(M.Wo=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,me.Z)(function*(t){const r=He(t);Ve("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield Gm(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function dO(n,e=10240){let t=0;return{read:()=>(0,me.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class uD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class cF{constructor(e,t){this.sc=e,this.k=t,this.metadata=new Zr,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(r=>{r&&r._o()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.sc.cancel()}getMetadata(){var e=this;return(0,me.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,me.Z)(function*(){return yield e.getMetadata(),e.rc()})()}rc(){var e=this;return(0,me.Z)(function*(){const t=yield e.oc();if(null===t)return null;const r=e.ic.decode(t),s=Number(r);isNaN(s)&&e.cc(`length string (${r}) is not valid number`);const u=yield e.ac(s);return new UP(JSON.parse(u),t.length+s)})()}uc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oc(){var e=this;return(0,me.Z)(function*(){for(;e.uc()<0&&!(yield e.hc()););if(0===e.buffer.length)return null;const t=e.uc();t<0&&e.cc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ac(e){var t=this;return(0,me.Z)(function*(){for(;t.buffer.length<e;)(yield t.hc())&&t.cc("Reached the end of bundle when more is expected.");const r=t.ic.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}hc(){var e=this;return(0,me.Z)(function*(){const t=yield e.sc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class lF{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,me.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,me.Z)(function*(u,l){const m=He(u),E=tE(m.k)+"/documents",C={documents:l.map(z=>eE(m.k,z))},M=yield m.ji("BatchGetDocuments",E,C),R=new Map;M.forEach(z=>{const Q=function M1(n,e){return"found"in e?function(t,r){It(!!r.found);const s=Yu(t,r.found.name),u=si(r.found.updateTime),l=new Ii({mapValue:{fields:r.found.fields}});return Fn.newFoundDocument(s,u,l)}(n,e):"missing"in e?function(t,r){It(!!r.missing),It(!!r.readTime);const s=Yu(t,r.missing),u=si(r.readTime);return Fn.newNoDocument(s,u)}(n,e):dt()}(m.k,z);R.set(Q.key.toString(),Q)});const U=[];return l.forEach(z=>{const Q=R.get(z.toString());It(!!Q),U.push(Q)}),U}),function(u,l){return s.apply(this,arguments)})(t.datastore,e);var s;return r.forEach(s=>t.recordVersion(s)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new F(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,me.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,s)=>{const u=it.fromPath(s);e.mutations.push(new $(u,e.precondition(u)))}),yield(r=(0,me.Z)(function*(s,u){const l=He(s),m=tE(l.k)+"/documents",E={writes:u.map(C=>Yw(l.k,C))};yield l.Bi("Commit",m,E)}),function(s,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw dt();t=Mt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Oe(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Cr.updateTime(t):Cr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Mt.min()))throw new Oe(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Cr.updateTime(t)}return Cr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class dF{constructor(e,t,r,s){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=s,this.lc=5,this.ur=new nA(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi((0,me.Z)(function*(){const t=new lF(e.datastore),r=e.dc(t);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(u=>{e.wc(u)}))}).catch(s=>{e.wc(s)})}))}dc(e){try{const t=this.updateFunction(e);return!al(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!je(t)}return!1}}class hF{constructor(e,t,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=wr.UNAUTHENTICATED,this.clientId=Nw.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,me.Z)(function*(m){Ve("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=Wm(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function hO(n,e){return JA.apply(this,arguments)}function JA(){return JA=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,me.Z)(function*(u){r.isEqual(u)||(yield Fk(e.localStore,u),r=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),JA.apply(this,arguments)}function fO(n,e){return XA.apply(this,arguments)}function XA(){return XA=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield eS(n);Ve("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>{return(u=(0,me.Z)(function*(l,m){const E=He(l);E.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const C=lh(E);E.Gr.add(3),yield Gm(E),C&&E.Jr.set("Unknown"),yield E.remoteSyncer.handleCredentialChange(m),E.Gr.delete(3),yield aE(E)}),function(l,m){return u.apply(this,arguments)})(e.remoteStore,s);var u}),n.onlineComponents=e}),XA.apply(this,arguments)}function eS(n){return tS.apply(this,arguments)}function tS(){return tS=(0,me.Z)(function*(n){return n.offlineComponents||(Ve("FirestoreClient","Using default OfflineComponentProvider"),yield hO(n,new cO)),n.offlineComponents}),tS.apply(this,arguments)}function cD(n){return nS.apply(this,arguments)}function nS(){return nS=(0,me.Z)(function*(n){return n.onlineComponents||(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield fO(n,new QA)),n.onlineComponents}),nS.apply(this,arguments)}function pO(n){return eS(n).then(e=>e.persistence)}function rS(n){return eS(n).then(e=>e.localStore)}function gO(n){return cD(n).then(e=>e.remoteStore)}function iS(n){return cD(n).then(e=>e.syncEngine)}function Qm(n){return sS.apply(this,arguments)}function sS(){return sS=(0,me.Z)(function*(n){const e=yield cD(n),t=e.eventManager;return t.onListen=GP.bind(null,e.syncEngine),t.onUnlisten=qP.bind(null,e.syncEngine),t}),sS.apply(this,arguments)}function mO(n,e,t={}){const r=new Zr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(s,u,l,m,E){const C=new uD({next:R=>{u.enqueueAndForget(()=>wA(s,M));const U=R.docs.has(l);!U&&R.fromCache?E.reject(new Oe(he.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&R.fromCache&&m&&"server"===m.source?E.reject(new Oe(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(R)},error:R=>E.reject(R)}),M=new IA(Xd(l.path),C,{includeMetadataChanges:!0,wo:!0});return EA(s,M)}(yield Qm(n),n.asyncQueue,e,t,r)})),r.promise}function yO(n,e,t={}){const r=new Zr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(s,u,l,m,E){const C=new uD({next:R=>{u.enqueueAndForget(()=>wA(s,M)),R.fromCache&&"server"===m.source?E.reject(new Oe(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(R)},error:R=>E.reject(R)}),M=new IA(l,C,{includeMetadataChanges:!0,wo:!0});return EA(s,M)}(yield Qm(n),n.asyncQueue,e,t,r)})),r.promise}class bF{constructor(e,t,r,s,u,l,m,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=m,this.useFetchStreams=E}}class Jm{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Jm&&e.projectId===this.projectId&&e.database===this.database}}const _O=new Map;function oS(n,e,t){if(!t)throw new Oe(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function vO(n,e,t,r){if(!0===e&&!0===r)throw new Oe(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function EO(n){if(!it.isDocumentKey(n))throw new Oe(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function bO(n){if(it.isDocumentKey(n))throw new Oe(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function lD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":dt()}function en(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lD(n);throw new Oe(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function wO(n,e){if(e<=0)throw new Oe(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class DO{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,vO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cE{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DO({}),this._settingsFrozen=!1,e instanceof Jm?this._databaseId=e:(this._app=e,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Oe(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jm(s.options.projectId)}(e))}get app(){if(!this._app)throw new Oe(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new xv;switch(t.type){case"gapi":const r=t.client;return It(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new kv(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Oe(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_O.get(e);t&&(Ve("ComponentProvider","Removing Datastore"),_O.delete(e),t.terminate())}(this),Promise.resolve()}}class Vn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ju(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class Wi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wi(this.firestore,e,this._query)}}class Ju extends Wi{constructor(e,t,r){super(e,t,Xd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new it(e))}withConverter(e){return new Ju(this.firestore,e,this._path)}}function CO(n,e,...t){if(n=(0,jt.m9)(n),oS("collection","path",e),n instanceof cE){const r=Ft.fromString(e,...t);return bO(r),new Ju(n,null,r)}{if(!(n instanceof Vn||n instanceof Ju))throw new Oe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ft.fromString(e,...t));return bO(r),new Ju(n.firestore,null,r)}}function dD(n,e,...t){if(n=(0,jt.m9)(n),1===arguments.length&&(e=Nw.A()),oS("doc","path",e),n instanceof cE){const r=Ft.fromString(e,...t);return EO(r),new Vn(n,null,new it(r))}{if(!(n instanceof Vn||n instanceof Ju))throw new Oe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ft.fromString(e,...t));return EO(r),new Vn(n.firestore,n instanceof Ju?n.converter:null,new it(r))}}function IO(n,e){return n=(0,jt.m9)(n),e=(0,jt.m9)(e),(n instanceof Vn||n instanceof Ju)&&(e instanceof Vn||e instanceof Ju)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function TO(n,e){return n=(0,jt.m9)(n),e=(0,jt.m9)(e),n instanceof Wi&&e instanceof Wi&&n.firestore===e.firestore&&Mm(n._query,e._query)&&n.converter===e.converter}class CF{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new nA(this,"async_queue_retry"),this.bc=()=>{const t=sD();t&&Ve("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=sD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const t=sD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const t=new Zr;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return(0,me.Z)(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(t){if(!cp(t))throw t;Ve("AsyncQueue","Operation failed with retryable error: "+t)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const t=this.mc.then(()=>(this.Ic=!0,e().catch(r=>{throw this.Ec=r,this.Ic=!1,er("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Ic=!1,r))));return this.mc=t,t}enqueueAfterDelay(e,t,r){this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);const s=vA.createAndSchedule(this,e,t,r,u=>this.Sc(u));return this.Tc.push(s),s}Pc(){this.Ec&&dt()}verifyOperationInProgress(){}Dc(){var e=this;return(0,me.Z)(function*(){let t;do{t=e.mc,yield t}while(t!==e.mc)})()}Cc(e){for(const t of this.Tc)if(t.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}function aS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class IF{constructor(){this._progressObserver={},this._taskCompletionResolver=new Zr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class tr extends cE{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new CF,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||AO(this),this._firestoreClient.terminate()}}function Yr(n){return n._firestoreClient||AO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function AO(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new bF(n._databaseId,u,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;n._firestoreClient=new hF(n._authCredentials,n._appCheckCredentials,n._queue,r)}function SO(n,e,t){const r=new Zr;return n.asyncQueue.enqueue((0,me.Z)(function*(){try{yield hO(n,t),yield fO(n,e),r.resolve()}catch(s){if(!("FirebaseError"===(u=s).name?u.code===he.FAILED_PRECONDITION||u.code===he.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw s;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}var u})).then(()=>r.promise)}function MO(n){if(n._initialized||n._terminated)throw new Oe(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class pl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ri(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xu(Dr.fromBase64String(e))}catch(t){throw new Oe(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xu(Dr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class fp{constructor(e){this._methodName=e}}class hD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $t(this._lat,e._lat)||$t(this._long,e._long)}}const PF=/^__.*__$/;class FF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new b(e,this.data,this.fieldMask,t,this.fieldTransforms):new _(e,this.data,t,this.fieldTransforms)}}class xO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new b(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class fD{constructor(e,t,r,s,u,l){this.settings=e,this.databaseId=t,this.k=r,this.ignoreUndefinedProperties=s,void 0===u&&this.xc(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new fD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.Oc({path:r,Fc:!1});return s.Lc(e),s}Bc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.Oc({path:r,Fc:!1});return s.xc(),s}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return gD(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(kO(this.$c)&&PF.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class LF{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=r||oE(e)}Qc(e,t,r,s=!1){return new fD({$c:e,methodName:t,jc:r,path:ri.emptyPath(),Fc:!1,Kc:s},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function pp(n){const e=n._freezeSettings(),t=oE(n._databaseId);return new LF(n._databaseId,!!e.ignoreUndefinedProperties,t)}function pD(n,e,t,r,s,u={}){const l=n.Qc(u.merge||u.mergeFields?2:0,e,t,s);dS("Data must be an object, but it was:",l,r);const m=NO(r,l);let E,C;if(u.merge)E=new Yd(l.fieldMask),C=l.fieldTransforms;else if(u.mergeFields){const M=[];for(const R of u.mergeFields){const U=hS(e,R,t);if(!l.contains(U))throw new Oe(he.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);FO(M,U)||M.push(U)}E=new Yd(M),C=l.fieldTransforms.filter(R=>E.covers(R.field))}else E=null,C=l.fieldTransforms;return new FF(new Ii(m),E,C)}class lE extends fp{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lE}}function OO(n,e,t){return new fD({$c:3,jc:e.settings.jc,methodName:n._methodName,Fc:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class uS extends fp{_toFieldTransform(e){return new op(e.path,new nh)}isEqual(e){return e instanceof uS}}class VF extends fp{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=OO(this,e,!0),r=this.Wc.map(u=>gp(u,t)),s=new cl(r);return new op(e.path,s)}isEqual(e){return this===e}}class UF extends fp{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=OO(this,e,!0),r=this.Wc.map(u=>gp(u,t)),s=new rh(r);return new op(e.path,s)}isEqual(e){return this===e}}class BF extends fp{constructor(e,t){super(e),this.Gc=t}_toFieldTransform(e){const t=new sp(e.k,zw(e.k,this.Gc));return new op(e.path,t)}isEqual(e){return this===e}}function cS(n,e,t,r){const s=n.Qc(1,e,t);dS("Data must be an object, but it was:",s,r);const u=[],l=Ii.empty();sl(r,(E,C)=>{const M=fS(e,E,t);C=(0,jt.m9)(C);const R=s.Bc(M);if(C instanceof lE)u.push(M);else{const U=gp(C,R);null!=U&&(u.push(M),l.set(M,U))}});const m=new Yd(u);return new xO(l,m,s.fieldTransforms)}function lS(n,e,t,r,s,u){const l=n.Qc(1,e,t),m=[hS(e,r,t)],E=[s];if(u.length%2!=0)throw new Oe(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<u.length;U+=2)m.push(hS(e,u[U])),E.push(u[U+1]);const C=[],M=Ii.empty();for(let U=m.length-1;U>=0;--U)if(!FO(C,m[U])){const z=m[U];let Q=E[U];Q=(0,jt.m9)(Q);const ve=l.Bc(z);if(Q instanceof lE)C.push(z);else{const Pe=gp(Q,ve);null!=Pe&&(C.push(z),M.set(z,Pe))}}const R=new Yd(C);return new xO(M,R,l.fieldTransforms)}function RO(n,e,t,r=!1){return gp(t,n.Qc(r?4:3,e))}function gp(n,e){if(PO(n=(0,jt.m9)(n)))return dS("Unsupported field value:",e,n),NO(n,e);if(n instanceof fp)return function(t,r){if(!kO(r.$c))throw r.qc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.qc(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(t,r){const s=[];let u=0;for(const l of t){let m=gp(l,r.Uc(u));null==m&&(m={nullValue:"NULL_VALUE"}),s.push(m),u++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,jt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return zw(r.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=Br.fromDate(t);return{timestampValue:Xv(r.k,s)}}if(t instanceof Br){const s=new Br(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Xv(r.k,s)}}if(t instanceof hD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Xu)return{bytesValue:Jx(r.k,t._byteString)};if(t instanceof Vn){const s=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(s))throw r.qc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:xT(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.qc(`Unsupported field value: ${lD(t)}`)}(n,e)}function NO(n,e){const t={};return Pw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sl(n,(r,s)=>{const u=gp(s,e.Mc(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function PO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Br||n instanceof hD||n instanceof Xu||n instanceof Vn||n instanceof fp)}function dS(n,e,t){if(!PO(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=lD(t);throw e.qc("an object"===r?n+" a custom object":n+" "+r)}var r}function hS(n,e,t){if((e=(0,jt.m9)(e))instanceof pl)return e._internalPath;if("string"==typeof e)return fS(n,e);throw gD("Field path arguments must be of type string or ",n,!1,void 0,t)}const jF=new RegExp("[~\\*/\\[\\]]");function fS(n,e,t){if(e.search(jF)>=0)throw gD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pl(...e.split("."))._internalPath}catch(r){throw gD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gD(n,e,t,r,s){const u=r&&!r.isEmpty(),l=void 0!==s;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let E="";return(u||l)&&(E+=" (found",u&&(E+=` in field ${r}`),l&&(E+=` in document ${s}`),E+=")"),new Oe(he.INVALID_ARGUMENT,m+n+E)}function FO(n,e){return n.some(t=>t.isEqual(e))}class dE{constructor(e,t,r,s,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $F(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $F extends dE{data(){return super.data()}}function mD(n,e){return"string"==typeof e?fS(n,e):e instanceof pl?e._internalPath:e._delegate._internalPath}class mp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gl extends dE{constructor(e,t,r,s,u,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(mD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class hE extends gl{data(e={}){return super.data(e)}}class hh{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new mp(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new hE(this._firestore,this._userDataWriter,r.key,r,new mp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new hE(r._firestore,r._userDataWriter,l.doc.key,l.doc,new mp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||3!==l.type).map(l=>{const m=new hE(r._firestore,r._userDataWriter,l.doc.key,l.doc,new mp(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,C=-1;return 0!==l.type&&(E=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),C=u.indexOf(l.doc.key)),{type:HF(l.type),doc:m,oldIndex:E,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function HF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function LO(n,e){return n instanceof gl&&e instanceof gl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof hh&&e instanceof hh&&n._firestore===e._firestore&&TO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function VO(n){if(np(n)&&0===n.explicitOrderBy.length)throw new Oe(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fE{}function fh(n,...e){for(const t of e)n=t._apply(n);return n}class GF extends fE{constructor(e,t,r){super(),this.zc=e,this.Hc=t,this.Jc=r,this.type="where"}_apply(e){const t=pp(e.firestore),r=function(s,u,l,m,E,C,M){let R;if(E.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Oe(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){GO(M,C);const z=[];for(const Q of M)z.push(HO(m,s,Q));R={arrayValue:{values:z}}}else R=HO(m,s,M)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||GO(M,C),R=RO(l,"where",M,"in"===C||"not-in"===C);const U=ii.create(E,C,R);return function(z,Q){if(Q.V()){const Pe=Sm(z);if(null!==Pe&&!Pe.isEqual(Q.field))throw new Oe(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Pe.toString()}' and '${Q.field.toString()}'`);const at=Am(z);null!==at&&qO(0,Q.field,at)}const ve=function(Pe,at){for(const Et of Pe.filters)if(at.indexOf(Et.op)>=0)return Et.op;return null}(z,function(Pe){switch(Pe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Q.op));if(null!==ve)throw new Oe(he.INVALID_ARGUMENT,ve===Q.op?`Invalid query. You cannot use more than one '${Q.op.toString()}' filter.`:`Invalid query. You cannot use '${Q.op.toString()}' filters with '${ve.toString()}' filters.`)}(s,U),U}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Wi(e.firestore,e.converter,function(s,u){const l=s.filters.concat([u]);return new Wa(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}class zF extends fE{constructor(e,t){super(),this.zc=e,this.Yc=t,this.type="orderBy"}_apply(e){const t=function(r,s,u){if(null!==r.startAt)throw new Oe(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Oe(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new tp(s,u);return function(m,E){if(null===Am(m)){const C=Sm(m);null!==C&&qO(0,C,E.field)}}(r,l),l}(e._query,this.zc,this.Yc);return new Wi(e.firestore,e.converter,function(r,s){const u=r.explicitOrderBy.concat([s]);return new Wa(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class UO extends fE{constructor(e,t,r){super(),this.type=e,this.Xc=t,this.Zc=r}_apply(e){return new Wi(e.firestore,e.converter,rp(e._query,this.Xc,this.Zc))}}class BO extends fE{constructor(e,t,r){super(),this.type=e,this.ta=t,this.ea=r}_apply(e){const t=$O(e,this.type,this.ta,this.ea);return new Wi(e.firestore,e.converter,(s=t,new Wa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class jO extends fE{constructor(e,t,r){super(),this.type=e,this.ta=t,this.ea=r}_apply(e){const t=$O(e,this.type,this.ta,this.ea);return new Wi(e.firestore,e.converter,(s=t,new Wa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function $O(n,e,t,r){if(t[0]=(0,jt.m9)(t[0]),t[0]instanceof dE)return function(s,u,l,m,E){if(!m)throw new Oe(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const C=[];for(const M of eh(s))if(M.field.isKeyField())C.push(Fv(u,m.key));else{const R=m.data.field(M.field);if(bm(R))throw new Oe(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const U=M.field.canonicalString();throw new Oe(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${U}' (used as the orderBy) does not exist.`)}C.push(R)}return new Im(C,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=pp(n.firestore);return function(u,l,m,E,C,M){const R=u.explicitOrderBy;if(C.length>R.length)throw new Oe(he.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const U=[];for(let z=0;z<C.length;z++){const Q=C[z];if(R[z].field.isKeyField()){if("string"!=typeof Q)throw new Oe(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof Q}`);if(!Gv(u)&&-1!==Q.indexOf("/"))throw new Oe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${Q}' contains a slash.`);const ve=u.path.child(Ft.fromString(Q));if(!it.isDocumentKey(ve))throw new Oe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${ve}' is not because it contains an odd number of segments.`);const Pe=new it(ve);U.push(Fv(l,Pe))}else{const ve=RO(m,E,Q);U.push(ve)}}return new Im(U,M)}(n._query,n.firestore._databaseId,s,e,t,r)}}function HO(n,e,t){if("string"==typeof(t=(0,jt.m9)(t))){if(""===t)throw new Oe(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gv(e)&&-1!==t.indexOf("/"))throw new Oe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ft.fromString(t));if(!it.isDocumentKey(r))throw new Oe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fv(n,new it(r))}if(t instanceof Vn)return Fv(n,t._key);throw new Oe(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lD(t)}.`)}function GO(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Oe(he.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function qO(n,e,t){if(!t.isEqual(e))throw new Oe(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class pS{convertValue(e,t="none"){switch(Zu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dt()}}convertObject(e,t){const r={};return sl(e.fields,(s,u)=>{r[s]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new hD(hr(e.latitude),hr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Nv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Yf(e));default:return null}}convertTimestamp(e){const t=za(e);return new Br(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ft.fromString(e);It(dk(r));const s=new Jm(r.get(1),r.get(3)),u=new it(r.popFirst(5));return s.isEqual(t)||er(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function yD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class eL extends pS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,t)}}class zO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=pp(e)}set(e,t,r){this._verifyNotCommitted();const s=ph(e,this._firestore),u=yD(s.converter,t,r),l=pD(this._dataReader,"WriteBatch.set",s._key,u,null!==s.converter,r);return this._mutations.push(l.toMutation(s._key,Cr.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const u=ph(e,this._firestore);let l;return l="string"==typeof(t=(0,jt.m9)(t))||t instanceof pl?lS(this._dataReader,"WriteBatch.update",u._key,t,r,s):cS(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(l.toMutation(u._key,Cr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ph(e,this._firestore);return this._mutations=this._mutations.concat(new F(t._key,Cr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ph(n,e){if((n=(0,jt.m9)(n)).firestore!==e)throw new Oe(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class yp extends pS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,t)}}function WO(n,e,t){n=en(n,Vn);const r=en(n.firestore,tr),s=yD(n.converter,e,t);return Xm(r,[pD(pp(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,Cr.none())])}function KO(n,e,t,...r){n=en(n,Vn);const s=en(n.firestore,tr),u=pp(s);let l;return l="string"==typeof(e=(0,jt.m9)(e))||e instanceof pl?lS(u,"updateDoc",n._key,e,t,r):cS(u,"updateDoc",n._key,e),Xm(s,[l.toMutation(n._key,Cr.exists(!0))])}function ZO(n,...e){var t,r,s;n=(0,jt.m9)(n);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||aS(e[l])||(u=e[l],l++);const m={includeMetadataChanges:u.includeMetadataChanges};if(aS(e[l])){const R=e[l];e[l]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[l+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[l+2]=null===(s=R.complete)||void 0===s?void 0:s.bind(R)}let E,C,M;if(n instanceof Vn)C=en(n.firestore,tr),M=Xd(n._key.path),E={next:R=>{e[l]&&e[l](gS(C,n,R))},error:e[l+1],complete:e[l+2]};else{const R=en(n,Wi);C=en(R.firestore,tr),M=R._query;const U=new yp(C);E={next:z=>{e[l]&&e[l](new hh(C,U,R,z))},error:e[l+1],complete:e[l+2]},VO(n._query)}return function(R,U,z,Q){const ve=new uD(Q),Pe=new IA(U,ve,z);return R.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return EA(yield Qm(R),Pe)})),()=>{ve.nc(),R.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return wA(yield Qm(R),Pe)}))}}(Yr(C),M,m,E)}function Xm(n,e){return function(t,r){const s=new Zr;return t.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function zP(n,e,t){return xA.apply(this,arguments)}(yield iS(t),r,s)})),s.promise}(Yr(n),e)}function gS(n,e,t){const r=t.docs.get(e._key),s=new yp(n);return new gl(n,s,e._key,r,new mp(t.hasPendingWrites,t.fromCache),e.converter)}class lL extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=pp(e)}get(e){const t=ph(e,this._firestore),r=new eL(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||1!==s.length)return dt();const u=s[0];if(u.isFoundDocument())return new dE(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new dE(this._firestore,r,t._key,null,t.converter);throw dt()})}set(e,t,r){const s=ph(e,this._firestore),u=yD(s.converter,t,r),l=pD(this._dataReader,"Transaction.set",s._key,u,null!==s.converter,r);return this._transaction.set(s._key,l),this}update(e,t,r,...s){const u=ph(e,this._firestore);let l;return l="string"==typeof(t=(0,jt.m9)(t))||t instanceof pl?lS(this._dataReader,"Transaction.update",u._key,t,r,s):cS(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,l),this}delete(e){const t=ph(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ph(e,this._firestore),r=new yp(this._firestore);return super.get(e).then(s=>new gl(this._firestore,r,t._key,s._document,new mp(!1,!1),t.converter))}}function mS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function YO(){if("undefined"==typeof Uint8Array)throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function QO(){if(!function Fw(){return"undefined"!=typeof atob}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){uo=Fu.SDK_VERSION,(0,Fu._registerComponent)(new Sf.wA("firestore",(t,{options:r})=>{const s=t.getProvider("app").getImmediate(),u=new tr(s,new Bx(t.getProvider("auth-internal")),new ps(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,Fu.registerVersion)(dT,"3.4.3",n),(0,Fu.registerVersion)(dT,"3.4.3","esm2017")}();class pE{constructor(e){this._delegate=e}static fromBase64String(e){return QO(),new pE(Xu.fromBase64String(e))}static fromUint8Array(e){return YO(),new pE(Xu.fromUint8Array(e))}toBase64(){return QO(),this._delegate.toBase64()}toUint8Array(){return YO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function yS(n){return function vL(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class EL{enableIndexedDbPersistence(e,t){return function AF(n,e){MO(n=en(n,tr));const t=Yr(n),r=n._freezeSettings(),s=new QA;return SO(t,s,new lO(s,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function SF(n){MO(n=en(n,tr));const e=Yr(n),t=n._freezeSettings(),r=new QA;return SO(e,r,new uF(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function MF(n){if(n._initialized&&!n._terminated)throw new Oe(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Zr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{yield(t=(0,me.Z)(function*(r){if(!Za.Pt())return Promise.resolve();const s=r+"main";yield Za.delete(s)}),function(r){return t.apply(this,arguments)})(HT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class JO{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Jm||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Zd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function wF(n,e,t,r={}){var s;const u=(n=en(n,cE))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Zd("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,m;if("string"==typeof r.mockUserToken)l=r.mockUserToken,m=wr.MOCK_USER;else{l=(0,jt.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Oe(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new wr(E)}n._authCredentials=new fT(new Ow(l,m))}}(this._delegate,e,t,r)}enableNetwork(){return function kF(n){return function fF(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield pO(n),t=yield gO(n);return e.setNetworkEnabled(!0),function(r){const s=He(r);return s.Gr.delete(0),aE(s)}(t)}))}(Yr(n=en(n,tr)))}(this._delegate)}disableNetwork(){return function OF(n){return function pF(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield pO(n),t=yield gO(n);return e.setNetworkEnabled(!1),(r=(0,me.Z)(function*(s){const u=He(s);u.Gr.add(0),yield Gm(u),u.Jr.set("Offline")}),function(s){return r.apply(this,arguments)})(t);var r}))}(Yr(n=en(n,tr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,vO("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function xF(n){return function(e){const t=new Zr;return e.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function YP(n,e){return PA.apply(this,arguments)}(yield iS(e),t)})),t.promise}(Yr(n=en(n,tr)))}(this._delegate)}onSnapshotsInSync(e){return function cL(n,e){return function yF(n,e){const t=new uD(e);return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return r=yield Qm(n),s=t,He(r).io.add(s),void s.next();var r,s})),()=>{t.nc(),n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return r=yield Qm(n),s=t,void He(r).io.delete(s);var r,s}))}}(Yr(n=en(n,tr)),aS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ey(this,CO(this._delegate,e))}catch(t){throw ms(t,"collection()","Firestore.collection()")}}doc(e){try{return new ea(this,dD(this._delegate,e))}catch(t){throw ms(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ys(this,function DF(n,e){if(n=en(n,cE),oS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Wi(n,null,(t=e,new Wa(Ft.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ms(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function dL(n,e){return function _F(n,e){const t=new Zr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){const r=yield(s=n,cD(s).then(u=>u.datastore));var s;new dF(n.asyncQueue,r,e,t).run()})),t.promise}(Yr(n=en(n,tr)),t=>e(new lL(n,t)))}(this._delegate,t=>e(new XO(this,t)))}batch(){return Yr(this._delegate),new eR(new zO(this._delegate,e=>Xm(this._delegate,e)))}loadBundle(e){return function RF(n,e){const t=Yr(n=en(n,tr)),r=new IF;return function vF(n,e,t,r){const s=function(u,l){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,E=function(E,C){if(E instanceof Uint8Array)return dO(E,C);if(E instanceof ArrayBuffer)return dO(new Uint8Array(E),C);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new cF(E,l);var E}(t,oE(e));n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){!function aF(n,e,t){const r=He(n);var s;(s=(0,me.Z)(function*(u,l,m){try{const E=yield l.getMetadata();if(yield function(U,z){const Q=He(U),ve=si(z.createTime);return Q.persistence.runTransaction("hasNewerBundle","readonly",Pe=>Q.Ye.getBundleMetadata(Pe,z.id)).then(Pe=>!!Pe&&Pe.createTime.compareTo(ve)>=0)}(u.localStore,E))return yield l.close(),void m._completeWith((U=E,{taskState:"Success",documentsLoaded:U.totalDocuments,bytesLoaded:U.totalBytes,totalDocuments:U.totalDocuments,totalBytes:U.totalBytes}));m._updateProgress(eO(E));const C=new BP(E,u.localStore,l.k);let M=yield l.Ho();for(;M;){const U=yield C.yo(M);U&&m._updateProgress(U),M=yield l.Ho()}const R=yield C.complete();yield fl(u,R.In,void 0),yield function(U,z){const Q=He(U);return Q.persistence.runTransaction("Save bundle","readwrite",ve=>Q.Ye.saveBundleMetadata(ve,z))}(u.localStore,E),m._completeWith(R.progress)}catch(E){Zd("SyncEngine",`Loading bundle failed with ${E}`),m._failWith(E)}var U}),function(u,l,m){return s.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield iS(n),s,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function NF(n,e){return function EF(n,e){return n.asyncQueue.enqueue((0,me.Z)(function*(){return function(t,r){const s=He(t);return s.persistence.runTransaction("Get named query","readonly",u=>s.Ye.getNamedQuery(u,r))}(yield rS(n),e)}))}(Yr(n=en(n,tr)),e).then(t=>t?new Wi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ys(this,t):null)}}class _D extends pS{constructor(e){super(),this.firestore=e}convertBytes(e){return new pE(new Xu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ea.forKey(t,this.firestore,null)}}class XO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new _D(e)}get(e){const t=vp(e);return this._delegate.get(t).then(r=>new gE(this._firestore,new gl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=vp(e);return r?(mS("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=vp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=vp(e);return this._delegate.delete(t),this}}class eR{constructor(e){this._delegate=e}set(e,t,r){const s=vp(e);return r?(mS("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=vp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=vp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class _p{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new hE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new mE(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=_p.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let u=s.get(t);return u||(u=new _p(e,new _D(e),t),s.set(t,u)),u}}_p.INSTANCES=new WeakMap;class ea{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _D(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ea(t,new Vn(t._delegate,r,new it(e)))}static forKey(e,t,r){return new ea(t,new Vn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ey(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ey(this.firestore,CO(this._delegate,e))}catch(t){throw ms(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,jt.m9)(e))instanceof Vn&&IO(this._delegate,e)}set(e,t){t=mS("DocumentReference.set",t);try{return t?WO(this._delegate,e,t):WO(this._delegate,e)}catch(r){throw ms(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?KO(this._delegate,e):KO(this._delegate,e,t,...r)}catch(s){throw ms(s,"updateDoc()","DocumentReference.update()")}}delete(){return function aL(n){return Xm(en(n.firestore,tr),[new F(n._key,Cr.none())])}(this._delegate)}onSnapshot(...e){const t=tR(e),r=nR(e,s=>new gE(this.firestore,new gl(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return ZO(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function nL(n){n=en(n,Vn);const e=en(n.firestore,tr),t=Yr(e),r=new yp(e);return function gF(n,e){const t=new Zr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(s,u,l){try{const m=yield function(E,C){const M=He(E);return M.persistence.runTransaction("read document","readonly",R=>M.Wn.Rn(R,C))}(s,u);m.isFoundDocument()?l.resolve(m):m.isNoDocument()?l.resolve(null):l.reject(new Oe(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const E=Wm(m,`Failed to get document '${u} from cache`);l.reject(E)}}),function(s,u,l){return r.apply(this,arguments)})(yield rS(n),e,t);var r})),t.promise}(t,n._key).then(s=>new gl(e,r,n._key,s,new mp(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function rL(n){n=en(n,Vn);const e=en(n.firestore,tr);return mO(Yr(e),n._key,{source:"server"}).then(t=>gS(e,n,t))}(this._delegate):function tL(n){n=en(n,Vn);const e=en(n.firestore,tr);return mO(Yr(e),n._key).then(t=>gS(e,n,t))}(this._delegate),t.then(r=>new gE(this.firestore,new gl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ea(this.firestore,this._delegate.withConverter(e?_p.getInstance(this.firestore,e):null))}}function ms(n,e,t){return n.message=n.message.replace(e,t),n}function tR(n){for(const e of n)if("object"==typeof e&&!yS(e))return e;return{}}function nR(n,e){var t,r;let s;return s=yS(n[0])?n[0]:yS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{s.next&&s.next(e(u))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class gE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ea(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return LO(this._delegate,e._delegate)}}class mE extends gE{data(e){const t=this._delegate.data(e);return function Em(n,e){n||dt()}(void 0!==t),t}}class ys{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _D(e)}where(e,t,r){try{return new ys(this.firestore,fh(this._delegate,function qF(n,e,t){const r=e,s=mD("where",n);return new GF(s,r,t)}(e,t,r)))}catch(s){throw ms(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ys(this.firestore,fh(this._delegate,function WF(n,e="asc"){const t=e,r=mD("orderBy",n);return new zF(r,t)}(e,t)))}catch(r){throw ms(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ys(this.firestore,fh(this._delegate,function KF(n){return wO("limit",n),new UO("limit",n,"F")}(e)))}catch(t){throw ms(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ys(this.firestore,fh(this._delegate,function ZF(n){return wO("limitToLast",n),new UO("limitToLast",n,"L")}(e)))}catch(t){throw ms(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ys(this.firestore,fh(this._delegate,function YF(...n){return new BO("startAt",n,!0)}(...e)))}catch(t){throw ms(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ys(this.firestore,fh(this._delegate,function QF(...n){return new BO("startAfter",n,!1)}(...e)))}catch(t){throw ms(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ys(this.firestore,fh(this._delegate,function JF(...n){return new jO("endBefore",n,!0)}(...e)))}catch(t){throw ms(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ys(this.firestore,fh(this._delegate,function XF(...n){return new jO("endAt",n,!1)}(...e)))}catch(t){throw ms(t,"endAt()","Query.endAt()")}}isEqual(e){return TO(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function sL(n){n=en(n,Wi);const e=en(n.firestore,tr),t=Yr(e),r=new yp(e);return function mF(n,e){const t=new Zr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(s,u,l){try{const m=yield nD(s,u,!0),E=new rO(u,m.zn),C=E.Po(m.documents),M=E.applyChanges(C,!1);l.resolve(M.snapshot)}catch(m){const E=Wm(m,`Failed to execute query '${u} against cache`);l.reject(E)}}),function(s,u,l){return r.apply(this,arguments)})(yield rS(n),e,t);var r})),t.promise}(t,n._query).then(s=>new hh(e,r,n,s))}(this._delegate):"server"===(null==e?void 0:e.source)?function oL(n){n=en(n,Wi);const e=en(n.firestore,tr),t=Yr(e),r=new yp(e);return yO(t,n._query,{source:"server"}).then(s=>new hh(e,r,n,s))}(this._delegate):function iL(n){n=en(n,Wi);const e=en(n.firestore,tr),t=Yr(e),r=new yp(e);return VO(n._query),yO(t,n._query).then(s=>new hh(e,r,n,s))}(this._delegate),t.then(r=>new _S(this.firestore,new hh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=tR(e),r=nR(e,s=>new _S(this.firestore,new hh(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return ZO(this._delegate,t,r)}withConverter(e){return new ys(this.firestore,this._delegate.withConverter(e?_p.getInstance(this.firestore,e):null))}}class wL{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new mE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class _S{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ys(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new mE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new wL(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new mE(this._firestore,r))})}isEqual(e){return LO(this._delegate,e._delegate)}}class ey extends ys{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ea(this.firestore,e):null}doc(e){try{return new ea(this.firestore,void 0===e?dD(this._delegate):dD(this._delegate,e))}catch(t){throw ms(t,"doc()","CollectionReference.doc()")}}add(e){return function uL(n,e){const t=en(n.firestore,tr),r=dD(n),s=yD(n.converter,e);return Xm(t,[pD(pp(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,Cr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ea(this.firestore,t))}isEqual(e){return IO(this._delegate,e._delegate)}withConverter(e){return new ey(this.firestore,this._delegate.withConverter(e?_p.getInstance(this.firestore,e):null))}}function vp(n){return en(n,Vn)}class vS{constructor(...e){this._delegate=new pl(...e)}static documentId(){return new vS(ri.keyField().canonicalString())}isEqual(e){return(e=(0,jt.m9)(e))instanceof pl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ep{constructor(e){this._delegate=e}static serverTimestamp(){const e=function fL(){return new uS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ep(e)}static delete(){const e=function hL(){return new lE("deleteField")}();return e._methodName="FieldValue.delete",new Ep(e)}static arrayUnion(...e){const t=function pL(...n){return new VF("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Ep(t)}static arrayRemove(...e){const t=function gL(...n){return new UF("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Ep(t)}static increment(e){const t=function mL(n){return new BF("increment",n)}(e);return t._methodName="FieldValue.increment",new Ep(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const DL={Firestore:JO,GeoPoint:hD,Timestamp:Br,Blob:pE,Transaction:XO,WriteBatch:eR,DocumentReference:ea,DocumentSnapshot:gE,Query:ys,QueryDocumentSnapshot:mE,QuerySnapshot:_S,CollectionReference:ey,FieldPath:vS,FieldValue:Ep,setLogLevel:function bL(n){!function hT(n){qa.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function IL(n){(function CL(n,e){n.INTERNAL.registerComponent(new Sf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},DL)))})(n,(e,t)=>new JO(e,t,new EL)),n.registerVersion("@firebase/firestore-compat","0.1.12")}(Sb.Z);var TL=P(6451),vD=P(5363);function _s(n,e){return(0,qr.e)((t,r)=>{let s=null,u=0,l=!1;const m=()=>l&&!s&&r.complete();t.subscribe(new Xn.Q(r,E=>{null==s||s.unsubscribe();let C=0;const M=u++;(0,Mo.Xf)(n(E,M)).subscribe(s=new Xn.Q(r,R=>r.next(e?e(E,R,M,C++):R),()=>{s=null,m()}))},()=>{l=!0,m()}))})}var AL=P(6063);class SL extends kn.x{constructor(e=1/0,t=1/0,r=AL.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!s&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,u=s.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,u=(s?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!s){const l=t.now();let m=0;for(let E=1;E<r.length&&r[E]<=l;E+=2)m=E;m&&r.splice(0,m+1)}}}var ML=P(3099);function rR(n,e,t){var r,s;let u,l=!1;return n&&"object"==typeof n?(u=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(s=n.windowTime)&&void 0!==s?s:1/0,l=!!n.refCount,t=n.scheduler):u=null!=n?n:1/0,(0,ML.B)({connector:()=>new SL(u,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}const ED=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ES=P(5698);function iR(n){return(0,qr.e)((e,t)=>{let r=!1;e.subscribe(new Xn.Q(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function sR(n=kL){return(0,qr.e)((e,t)=>{let r=!1;e.subscribe(new Xn.Q(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function kL(){return new ED}function bp(n,e){const t=arguments.length>=2;return r=>r.pipe(n?qo((s,u)=>n(s,u,r)):jc.y,(0,ES.q)(1),t?iR(e):sR(()=>new ED))}var oR=P(576);function aR(n,e){return(0,oR.m)(e)?_s(()=>n,e):_s(()=>n)}var bS=P(9468);P(5867);const cR=new Map,FL={activated:!1,tokenObservers:[]},LL={initialized:!1,enabled:!1};function ai(n){return cR.get(n)||FL}function Ya(n,e){cR.set(n,e)}function wD(){return LL}class $L{constructor(e,t,r,s,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=s,s>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,me.Z)(function*(){t.stop();try{t.pending=new jt.BH,yield function HL(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new jt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const vs=new jt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function dR(n){if(!ai(n).activated)throw vs.create("use-before-activation",{appName:n.name})}function IS(n,e){return TS.apply(this,arguments)}function TS(){return TS=(0,me.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});s&&(r["X-Firebase-Client"]=s.getPlatformInfoString());const u={method:"POST",body:JSON.stringify(e),headers:r};let l,m;try{l=yield fetch(n,u)}catch(R){throw vs.create("fetch-network-error",{originalErrorMessage:R.message})}if(200!==l.status)throw vs.create("fetch-status-error",{httpStatus:l.status});try{m=yield l.json()}catch(R){throw vs.create("fetch-parse-error",{originalErrorMessage:R.message})}const E=m.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw vs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const C=1e3*Number(E[1]),M=Date.now();return{token:m.attestationToken,expireTimeMillis:M+C,issuedAtTimeMillis:M}}),TS.apply(this,arguments)}function KL(n,e){const{projectId:t,appId:r,apiKey:s}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${s}`,body:{debug_token:e}}}const yE="firebase-app-check-store";let ID=null;function fR(){return ID||(ID=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var s;e(vs.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(yE,{keyPath:"compositeKey"})}}catch(t){e(vs.create("storage-open",{originalErrorMessage:t.message}))}}),ID)}function AS(){return AS=(0,me.Z)(function*(n,e){const r=(yield fR()).transaction(yE,"readwrite"),u=r.objectStore(yE).put({compositeKey:n,value:e});return new Promise((l,m)=>{u.onsuccess=E=>{l()},r.onerror=E=>{var C;m(vs.create("storage-set",{originalErrorMessage:null===(C=E.target.error)||void 0===C?void 0:C.message}))}})}),AS.apply(this,arguments)}const _E=new Lu.Yd("@firebase/app-check");function yR(n,e){return(0,jt.hl)()?function JL(n,e){return function pR(n,e){return AS.apply(this,arguments)}(function mR(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{_E.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function _R(){return wD().enabled}function vR(){return kS.apply(this,arguments)}function kS(){return kS=(0,me.Z)(function*(){const n=wD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),kS.apply(this,arguments)}const iV={error:"UNKNOWN_ERROR"};function sV(n){return jt.US.encodeString(JSON.stringify(n),!1)}function TD(n){return OS.apply(this,arguments)}function OS(){return OS=(0,me.Z)(function*(n,e=!1){const t=n.app;dR(t);const r=ai(t);let u,s=r.token;if(!s){const E=yield r.cachedTokenPromise;E&&AD(E)&&(s=E)}if(!e&&s&&AD(s))return{token:s.token};let m,l=!1;if(_R()){r.exchangeTokenPromise||(r.exchangeTokenPromise=IS(KL(t,yield vR()),n.platformLoggerProvider).then(C=>(r.exchangeTokenPromise=void 0,C)),l=!0);const E=yield r.exchangeTokenPromise;return yield yR(t,E),Ya(t,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),l=!0),s=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?_E.warn(E.message):_E.error(E),u=E}return s?(m={token:s.token},Ya(t,Object.assign(Object.assign({},r),{token:s})),yield yR(t,s)):m=aV(u),l&&bR(t,m),m}),OS.apply(this,arguments)}function NS(n,e){const t=ai(n),r=t.tokenObservers.filter(s=>s.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Ya(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function ER(n){const{app:e}=n,t=ai(e);let r=t.tokenRefresher;r||(r=function oV(n){const{app:e}=n;return new $L((0,me.Z)(function*(){let r;if(r=ai(e).token?yield TD(n,!0):yield TD(n),r.error)throw r.error}),()=>!0,()=>{const t=ai(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Ya(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function bR(n,e){const t=ai(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(s){}}function AD(n){return n.expireTimeMillis-Date.now()>0}function aV(n){return{token:sV(iV),error:n}}class uV{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=ai(this.app);for(const t of e)NS(this.app,t.next);return Promise.resolve()}}const MR="app-check-internal";!function wV(){(0,Fu._registerComponent)(new Sf.wA("app-check",n=>function cV(n,e){return new uV(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(MR).initialize()})),(0,Fu._registerComponent)(new Sf.wA(MR,n=>function lV(n){return{getToken:e=>TD(n,e),addTokenListener:e=>function RS(n,e,t,r){const{app:s}=n,u=ai(s),l={next:t,error:r,type:e};if(Ya(s,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,l]})),u.token&&AD(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),ER(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>ER(n))}(n,"INTERNAL",e),removeTokenListener:e=>NS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Fu.registerVersion)("@firebase/app-check","0.5.3")}();class VS{constructor(){return(0,cr.vb)("app-check")}}"undefined"!=typeof window&&window;var AV=P(127);const kR=new f.OlP("angularfire2.auth.use-emulator"),OR=new f.OlP("angularfire2.auth.settings"),RR=new f.OlP("angularfire2.auth.tenant-id"),NR=new f.OlP("angularfire2.auth.langugage-code"),PR=new f.OlP("angularfire2.auth.use-device-language"),FR=new f.OlP("angularfire.auth.persistence"),LR=(n,e,t,r,s,u,l,m)=>(0,ao.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=s,u&&E.useDeviceLanguage(),l)for(const[C,M]of Object.entries(l))E.settings[C]=M;return m&&E.setPersistence(m),E},[t,r,s,u,l,m]);let VR=(()=>{class n{constructor(t,r,s,u,l,m,E,C,M,R,U,z){const Q=new kn.x,ve=Ct(void 0).pipe((0,vD.Q)(l.outsideAngular),_s(()=>u.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,5735)))),(0,bt.U)(()=>(0,ao.on)(t,u,r)),(0,bt.U)(Pe=>LR(Pe,u,m,C,M,R,E,U)),rR({bufferSize:1,refCount:!1}));if(la(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ct(null);else{ve.pipe(bp()).subscribe();const at=ve.pipe(_s(ht=>ht.getRedirectResult().then(ln=>ln,()=>null)),cr.iC,rR({bufferSize:1,refCount:!1})),Et=ve.pipe(_s(ht=>new yr.y(ln=>({unsubscribe:u.runOutsideAngular(()=>ht.onAuthStateChanged(pr=>ln.next(pr),pr=>ln.error(pr),()=>ln.complete()))})))),Lt=ve.pipe(_s(ht=>new yr.y(ln=>({unsubscribe:u.runOutsideAngular(()=>ht.onIdTokenChanged(pr=>ln.next(pr),pr=>ln.error(pr),()=>ln.complete()))}))));this.authState=at.pipe(aR(Et),(0,bS.R)(l.outsideAngular),(0,vD.Q)(l.insideAngular)),this.user=at.pipe(aR(Lt),(0,bS.R)(l.outsideAngular),(0,vD.Q)(l.insideAngular)),this.idToken=this.user.pipe(_s(ht=>ht?(0,gn.D)(ht.getIdToken()):Ct(null))),this.idTokenResult=this.user.pipe(_s(ht=>ht?(0,gn.D)(ht.getIdTokenResult()):Ct(null))),this.credential=(0,TL.T)(at,Q,this.authState.pipe(qo(ht=>!ht))).pipe((0,bt.U)(ht=>(null==ht?void 0:ht.user)?ht:null),(0,bS.R)(l.outsideAngular),(0,vD.Q)(l.insideAngular))}return(0,ao.pX)(this,ve,u,{spy:{apply:(Pe,at,Et)=>{(Pe.startsWith("signIn")||Pe.startsWith("createUser"))&&Et.then(Lt=>Q.next(Lt))}}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ao.Dh),f.LFG(ao.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(cr.HU),f.LFG(kR,8),f.LFG(OR,8),f.LFG(RR,8),f.LFG(NR,8),f.LFG(PR,8),f.LFG(FR,8),f.LFG(VS,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function UR(n,e){return function MV(n,e=R_.z){return new yr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function BS(n,e){return UR(n,e).pipe((0,bt.U)(t=>({payload:t,type:"query"})))}function MD(n,e){return BS(n,e).pipe(Dn(void 0),Tb(),(0,bt.U)(([t,r])=>{const s=r.payload.docChanges(),u=s.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,m)=>{const E=s.find(M=>M.doc.ref.isEqual(l.ref)),C=null==t?void 0:t.payload.docs.find(M=>M.ref.isEqual(l.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(l.metadata)||!E&&C&&JSON.stringify(C.metadata)===JSON.stringify(l.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:l}})}),u}))}function BR(n,e,t){return MD(n,t).pipe(Af((r,s)=>function kV(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function OV(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return jS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return jS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return jS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(u=>u.payload),e),[]),Ny(),(0,bt.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function jS(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function jR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class $R{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=MD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,bt.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(Dn(void 0),Tb(),qo(([r,s])=>s.length>0||!r),(0,bt.U)(([r,s])=>s),cr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Af((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=jR(e);return BR(this.query,t,this.afs.schedulers.outsideAngular).pipe(cr.iC)}valueChanges(e={}){return BS(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),cr.iC)}get(e){return(0,gn.D)(this.query.get(e)).pipe(cr.iC)}add(e){return this.ref.add(e)}doc(e){return new HR(this.ref.doc(e),this.afs)}}class HR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:u}=zR(r,t);return new $R(s,u,this.afs)}snapshotChanges(){return function xV(n,e){return UR(n,e).pipe(Dn(void 0),Tb(),(0,bt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(cr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,bt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,gn.D)(this.ref.get(e)).pipe(cr.iC)}}class RV{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?MD(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),qo(t=>t.length>0),cr.iC):MD(this.query,this.afs.schedulers.outsideAngular).pipe(cr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Af((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=jR(e);return BR(this.query,t,this.afs.schedulers.outsideAngular).pipe(cr.iC)}valueChanges(e={}){return BS(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),cr.iC)}get(e){return(0,gn.D)(this.query.get(e)).pipe(cr.iC)}}const GR=new f.OlP("angularfire2.enableFirestorePersistence"),qR=new f.OlP("angularfire2.firestore.persistenceSettings"),NV=new f.OlP("angularfire2.firestore.settings"),PV=new f.OlP("angularfire2.firestore.use-emulator");function zR(n,e=(t=>t)){return{query:e(n),ref:n}}let WR=(()=>{class n{constructor(t,r,s,u,l,m,E,C,M,R,U,z,Q,ve,Pe,at,Et){this.schedulers=E;const Lt=(0,ao.on)(t,m,r),ht=M;R&&LR(Lt,m,U,Q,ve,Pe,z,at),[this.firestore,this.persistenceEnabled$]=(0,ao.cc)(`${Lt.name}.firestore`,"AngularFirestore",Lt.name,()=>{const ln=m.runOutsideAngular(()=>Lt.firestore());if(u&&ln.settings(u),ht&&ln.useEmulator(...ht),s&&!la(l)){const pr=()=>{try{return(0,gn.D)(ln.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(jr){return"undefined"!=typeof console&&console.warn(jr),Ct(!1)}};return[ln,m.runOutsideAngular(pr)]}return[ln,Ct(!1)]},[u,ht,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:l}=zR(s,r),m=this.schedulers.ngZone.run(()=>u);return new $R(m,l,this)}collectionGroup(t,r){const s=r||(l=>l),u=this.firestore.collectionGroup(t);return new RV(s(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new HR(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ao.Dh),f.LFG(ao.xv,8),f.LFG(GR,8),f.LFG(NV,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(cr.HU),f.LFG(qR,8),f.LFG(PV,8),f.LFG(VR,8),f.LFG(kR,8),f.LFG(OR,8),f.LFG(RR,8),f.LFG(NR,8),f.LFG(PR,8),f.LFG(FR,8),f.LFG(VS,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),FV=(()=>{class n{constructor(){AV.Z.registerVersion("angularfire",cr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:GR,useValue:!0},{provide:qR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[WR]}),n})();var xD,LV=new Uint8Array(16);function VV(){if(!xD&&!(xD="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xD(LV)}const UV=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,jV=function BV(n){return"string"==typeof n&&UV.test(n)};for(var Ai=[],$S=0;$S<256;++$S)Ai.push(($S+256).toString(16).substr(1));const qV=function GV(n,e,t){var r=(n=n||{}).random||(n.rng||VV)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(var s=0;s<16;++s)e[t+s]=r[s];return e}return function $V(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(Ai[n[e+0]]+Ai[n[e+1]]+Ai[n[e+2]]+Ai[n[e+3]]+"-"+Ai[n[e+4]]+Ai[n[e+5]]+"-"+Ai[n[e+6]]+Ai[n[e+7]]+"-"+Ai[n[e+8]]+Ai[n[e+9]]+"-"+Ai[n[e+10]]+Ai[n[e+11]]+Ai[n[e+12]]+Ai[n[e+13]]+Ai[n[e+14]]+Ai[n[e+15]]).toLowerCase();if(!jV(t))throw TypeError("Stringified UUID is invalid");return t}(r)};let vE=(()=>{class n{constructor(t){this.db=t}getCollection(t){var r=this;return(0,me.Z)(function*(){return new Promise(s=>{let u=[];r.db.collection(t).get().subscribe(l=>{l.docs.forEach(m=>{u.push(m.data())}),s(u)})})})()}addDoc(t,r){var s=this;return(0,me.Z)(function*(){r.id=qV(),yield s.db.collection(t).doc(r.id).set(Object.assign({},r))})()}delDoc(t,r){var s=this;return(0,me.Z)(function*(){yield s.db.collection(t).doc(r.id).delete()})()}updateDoc(t,r){var s=this;return(0,me.Z)(function*(){yield s.db.collection(t).doc(r.id).set(r)})()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(WR))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class HS{constructor(){this.id="",this.title="Type Somthing Here...",this.date="",this.time="",this.comment="",this.isFinished=!1,this.isEdit=!1,this.isStar=!1,this.isPencil=!1}}const zV=function(){return{flex:1}};function WV(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"span",11),f.NdJ("click",function(){return f.CHM(t),f.oxw().changeState("title")}),f._uU(1),f.qZA()}if(2&n){const t=f.oxw();f.Q6J("ngClass",t.task.isFinished?"finished":"")("ngStyle",f.DdM(3,zV)),f.xp6(1),f.Oqu(t.task.title)}}function KV(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"input",12),f.NdJ("ngModelChange",function(s){return f.CHM(t),f.oxw().task.title=s})("blur",function(){return f.CHM(t),f.oxw().changeState("title")}),f.qZA()}if(2&n){const t=f.oxw();f.Q6J("ngModel",t.task.title)}}function ZV(n,e){if(1&n&&(f.TgZ(0,"div",15),f._UZ(1,"i",16),f._uU(2),f.qZA()),2&n){const t=f.oxw(2);f.xp6(2),f.Oqu(t.task.date)}}function YV(n,e){1&n&&(f.TgZ(0,"div",15),f._UZ(1,"i",17),f.qZA())}function QV(n,e){1&n&&(f.TgZ(0,"div",15),f._UZ(1,"i",18),f.qZA())}function JV(n,e){if(1&n&&(f.TgZ(0,"div",13),f.YNc(1,ZV,3,1,"div",14),f.YNc(2,YV,2,0,"div",14),f.YNc(3,QV,2,0,"div",14),f.qZA()),2&n){const t=f.oxw();f.xp6(1),f.Q6J("ngIf",""!=t.task.date),f.xp6(1),f.Q6J("ngIf",null!=t.task.file),f.xp6(1),f.Q6J("ngIf",""!=t.task.comment)}}function XV(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div",33),f.NdJ("click",function(){return f.CHM(t),f.oxw(2).cancel()}),f._UZ(1,"i",34),f._uU(2,"Cancel"),f.qZA()}}function eU(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div",35),f.NdJ("click",function(){return f.CHM(t),f.oxw(2).add()}),f._UZ(1,"i",36),f._uU(2,"Add Task"),f.qZA()}}function tU(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div",33),f.NdJ("click",function(){return f.CHM(t),f.oxw(2).del()}),f._UZ(1,"i",34),f._uU(2,"Delete"),f.qZA()}}function nU(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div",35),f.NdJ("click",function(){return f.CHM(t),f.oxw(2).save()}),f._UZ(1,"i",37),f._uU(2,"Save"),f.qZA()}}function rU(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div",19),f.TgZ(1,"div",20),f.TgZ(2,"div",21),f._UZ(3,"i",16),f._uU(4,"Deadine"),f.qZA(),f.TgZ(5,"input",22),f.NdJ("ngModelChange",function(s){return f.CHM(t),f.oxw().task.date=s}),f.qZA(),f.TgZ(6,"input",23),f.NdJ("ngModelChange",function(s){return f.CHM(t),f.oxw().task.time=s}),f.qZA(),f.qZA(),f.TgZ(7,"div",24),f.TgZ(8,"div"),f._UZ(9,"i",25),f._uU(10,"File"),f.qZA(),f._UZ(11,"i",26),f.qZA(),f.TgZ(12,"div",27),f.TgZ(13,"div"),f._UZ(14,"i",28),f._uU(15,"Comment"),f.qZA(),f.TgZ(16,"textarea",29),f.NdJ("ngModelChange",function(s){return f.CHM(t),f.oxw().task.comment=s}),f.qZA(),f.qZA(),f.TgZ(17,"div",30),f.YNc(18,XV,3,0,"div",31),f.YNc(19,eU,3,0,"div",32),f.YNc(20,tU,3,0,"div",31),f.YNc(21,nU,3,0,"div",32),f.qZA(),f.qZA()}if(2&n){const t=f.oxw();f.xp6(5),f.Q6J("ngModel",t.task.date),f.xp6(1),f.Q6J("ngModel",t.task.time),f.xp6(10),f.Q6J("ngModel",t.task.comment),f.xp6(2),f.Q6J("ngIf",!t.isSubTask),f.xp6(1),f.Q6J("ngIf",!t.isSubTask),f.xp6(1),f.Q6J("ngIf",t.isSubTask),f.xp6(1),f.Q6J("ngIf",t.isSubTask)}}const iU=function(n){return{"background-color":n}},KR=function(n){return{color:n}};let GS=(()=>{class n{constructor(t){this._service=t,this.addEmitter=new f.vpe,this.reoderEmitter=new f.vpe,this.deleteEmitter=new f.vpe,this.updateEmitter=new f.vpe,this.isSubTask=!0}ngOnInit(){void 0===this.task&&(this.task=new HS,this.isSubTask=!1)}changeState(t){switch(t){case"title":this.task.isEdit=!this.task.isEdit;break;case"star":this.task.isStar=!this.task.isStar,this.reorder("star");break;case"pencil":this.task.isPencil=!this.task.isPencil;break;case"finished":this.reorder("finished")}this._service.updateDoc("Task",this.task)}cancel(){this.task=new HS}add(){this.task.isPencil=!1,this.task.isEdit=!1,this.addEmitter.emit(this.task),this.task=new HS}reorder(t){this.isSubTask&&this.reoderEmitter.emit({data:this.task,type:t})}save(){this.updateEmitter.emit(this.task)}del(){this.deleteEmitter.emit(this.task)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(vE))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-share-task"]],inputs:{task:"task"},outputs:{addEmitter:"addEmitter",reoderEmitter:"reoderEmitter",deleteEmitter:"deleteEmitter",updateEmitter:"updateEmitter"},decls:12,vars:16,consts:[[1,"task","mt-4",3,"ngStyle"],[1,"top","p-3"],[1,"d-flex","align-items-center"],[3,"ngModel","checked","ngModelChange"],["class","mx-3",3,"ngClass","ngStyle","click",4,"ngIf"],["style","flex: 1; max-width: 80%","type","text","class","title mx-2 px-2",3,"ngModel","ngModelChange","blur",4,"ngIf"],[1,"mx-2"],[1,"fa-star",3,"ngClass","ngStyle","click"],[1,"fas","fa-pencil-alt",3,"ngStyle","click"],["class","d-inline-flex mt-2 ms-4",4,"ngIf"],["class","content",4,"ngIf"],[1,"mx-3",3,"ngClass","ngStyle","click"],["type","text",1,"title","mx-2","px-2",2,"flex","1","max-width","80%",3,"ngModel","ngModelChange","blur"],[1,"d-inline-flex","mt-2","ms-4"],["style","color: #757575;","class","mx-2",4,"ngIf"],[1,"mx-2",2,"color","#757575"],[1,"far","fa-calendar-alt","me-2"],[1,"far","fa-file"],[1,"far","fa-comment-dots"],[1,"content"],[1,"deadline","m-2","p-2"],[1,"mb-2"],["type","text","placeholder","yyyy/mm/dd",1,"ms-4","mx-1","p-1",3,"ngModel","ngModelChange"],["type","text","placeholder","hh:mm",1,"mx-1","p-1",3,"ngModel","ngModelChange"],[1,"file","m-2","p-2"],[1,"far","fa-file","me-2"],[1,"ms-4","mx-1","mt-2","fas","fa-plus"],[1,"comment","m-2","p-2"],[1,"far","fa-comment-dots","me-2"],["id","","cols","35","rows","7",1,"ms-4","mx-1","mt-2",3,"ngModel","ngModelChange"],[1,"bottom","d-flex","align-items-center"],["class","cancel text-center w-50 p-2",3,"click",4,"ngIf"],["class","add text-center w-50 p-2",3,"click",4,"ngIf"],[1,"cancel","text-center","w-50","p-2",3,"click"],[1,"me-2","fas","fa-times"],[1,"add","text-center","w-50","p-2",3,"click"],[1,"me-2","fas","fa-plus"],[1,"me-2","fas","fa-check"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"div",2),f.TgZ(3,"mat-checkbox",3),f.NdJ("ngModelChange",function(u){return r.task.isFinished=u})("ngModelChange",function(){return r.changeState("finished")}),f.qZA(),f.YNc(4,WV,2,4,"span",4),f.YNc(5,KV,1,1,"input",5),f.TgZ(6,"span",6),f.TgZ(7,"i",7),f.NdJ("click",function(){return r.changeState("star")}),f.qZA(),f.qZA(),f.TgZ(8,"span",6),f.TgZ(9,"i",8),f.NdJ("click",function(){return r.changeState("pencil")}),f.qZA(),f.qZA(),f.qZA(),f.YNc(10,JV,4,3,"div",9),f.qZA(),f.YNc(11,rU,22,7,"div",10),f.qZA()),2&t&&(f.Q6J("ngStyle",f.VKq(10,iU,r.task.isStar?"#FFF2DC":"")),f.xp6(3),f.Q6J("ngModel",r.task.isFinished)("checked",r.task.isFinished),f.xp6(1),f.Q6J("ngIf",!r.task.isEdit),f.xp6(1),f.Q6J("ngIf",r.task.isEdit),f.xp6(2),f.Q6J("ngClass",r.task.isStar?"fas":"far")("ngStyle",f.VKq(12,KR,r.task.isStar?"#F5A623":"")),f.xp6(2),f.Q6J("ngStyle",f.VKq(14,KR,r.task.isPencil?"#4A90E2":"")),f.xp6(1),f.Q6J("ngIf",r.isSubTask&&!r.task.isPencil),f.xp6(1),f.Q6J("ngIf",r.task.isPencil))},directives:[oc,TI,Tc,Bh,xr,Ds,Ro],styles:[".task[_ngcontent-%COMP%]{background:#F2F2F2;box-shadow:0 4px 4px #c8c8c8;border-radius:5px;font-weight:500}.top[_ngcontent-%COMP%]{border-radius:5px 5px 0 0;border-bottom:2px solid #C8C8C8}.title[_ngcontent-%COMP%]{font-family:\\5fae\\8edf\\6b63\\9ed1\\9ad4;font-size:1.5em;color:#000}.mat-checkbox-frame[_ngcontent-%COMP%]{border-color:#737373!important}textarea[_ngcontent-%COMP%]{outline:none;border:none}.deadline[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{max-width:40%}.file[_ngcontent-%COMP%] > .fa-plus[_ngcontent-%COMP%]{color:#fff;background:#C8C8C8;border-radius:2px;padding:6px 7px}.cancel[_ngcontent-%COMP%]{background-color:#fff;color:#d0021b}.add[_ngcontent-%COMP%]{background:#4A90E2;color:#fff}.finished[_ngcontent-%COMP%]{color:#9b9b9b;text-decoration:line-through}"]}),n})(),ZR=(()=>{class n{transform(t,r={property:"",type:!1}){return t&&""!=r.property?t.filter(s=>s[r.property]==r.type):t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=f.Yjl({name:"myFilter",type:n,pure:!1}),n})();function sU(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div"),f.TgZ(1,"app-share-task",1),f.NdJ("deleteEmitter",function(s){return f.CHM(t),f.oxw().del(s)})("updateEmitter",function(s){return f.CHM(t),f.oxw().update(s)}),f.qZA(),f.qZA()}if(2&n){const t=e.$implicit;f.xp6(1),f.Q6J("task",t)}}const oU=function(){return{property:"isFinished",type:!1}};let aU=(()=>{class n{constructor(t){this._service=t,this.datas=[],t.getCollection("Task").then(r=>{this.datas=r})}ngOnInit(){}del(t){confirm("Do you want to delete this task?")&&(this._service.delDoc("Task",t),this.datas=this.datas.filter(r=>r.id!=t.id))}update(t){this._service.updateDoc("Task",t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(vE))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-progress"]],decls:2,vars:5,consts:[[4,"ngFor","ngForOf"],[3,"task","deleteEmitter","updateEmitter"]],template:function(t,r){1&t&&(f.YNc(0,sU,2,1,"div",0),f.ALo(1,"myFilter")),2&t&&f.Q6J("ngForOf",f.xi3(1,1,r.datas.reverse(),f.DdM(4,oU)))},directives:[Sn,GS],pipes:[ZR],styles:[""]}),n})();function uU(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div"),f.TgZ(1,"app-share-task",1),f.NdJ("deleteEmitter",function(s){return f.CHM(t),f.oxw().del(s)})("updateEmitter",function(s){return f.CHM(t),f.oxw().update(s)}),f.qZA(),f.qZA()}if(2&n){const t=e.$implicit;f.xp6(1),f.Q6J("task",t)}}const cU=function(){return{property:"isFinished",type:!0}};let lU=(()=>{class n{constructor(t){this._service=t,this.datas=[],t.getCollection("Task").then(r=>{this.datas=r})}ngOnInit(){}del(t){confirm("Do you want to delete this task?")&&(this._service.delDoc("Task",t),this.datas=this.datas.filter(r=>r.id!=t.id))}update(t){this._service.updateDoc("Task",t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(vE))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-complete"]],decls:2,vars:5,consts:[[4,"ngFor","ngForOf"],[3,"task","deleteEmitter","updateEmitter"]],template:function(t,r){1&t&&(f.YNc(0,uU,2,1,"div",0),f.ALo(1,"myFilter")),2&t&&f.Q6J("ngForOf",f.xi3(1,1,r.datas.reverse(),f.DdM(4,cU)))},directives:[Sn,GS],pipes:[ZR],styles:[""]}),n})();function dU(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div"),f.TgZ(1,"app-share-task",2),f.NdJ("reoderEmitter",function(s){return f.CHM(t),f.oxw().reorder(s)})("deleteEmitter",function(s){return f.CHM(t),f.oxw().del(s)})("updateEmitter",function(s){return f.CHM(t),f.oxw().update(s)}),f.qZA(),f.qZA()}if(2&n){const t=e.$implicit;f.xp6(1),f.Q6J("task",t)}}let hU=(()=>{class n{constructor(t){this._service=t,this.datas=[],this._service.getCollection("Task").then(r=>{this.datas=r,this.reorder({data:this.datas,type:"star"}),this.reorder({data:this.datas,type:"finished"})})}ngOnInit(){}add(t){this._service.addDoc("Task",t);const r=Object.assign({},t);this.datas.push(r)}del(t){confirm("Do you want to delete this task?")&&(this._service.delDoc("Task",t),this.datas=this.datas.filter(r=>r.id!=t.id))}update(t){this._service.updateDoc("Task",t)}reorder(t){switch(t.type){case"star":this.reorderByStar();break;case"finished":this.reorderByfinish()}}reorderByStar(){let t=this.datas.length-1,r=this.datas.length-1;for(;t>=0&&t<=r;)if(this.datas[t].isStar){let s=this.datas[r];this.datas[r]=this.datas[t],this.datas[t]=s,r--,t--}else t--}reorderByfinish(){let t=0,r=0;for(;t<=this.datas.length-1&&t>=r;)if(this.datas[t].isFinished){let s=this.datas[r];this.datas[r]=this.datas[t],this.datas[t]=s,r++,t++}else t++}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(vE))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-homepage"]],decls:2,vars:1,consts:[[3,"addEmitter"],[4,"ngFor","ngForOf"],[3,"task","reoderEmitter","deleteEmitter","updateEmitter"]],template:function(t,r){1&t&&(f.TgZ(0,"app-share-task",0),f.NdJ("addEmitter",function(u){return r.add(u)}),f.qZA(),f.YNc(1,dU,2,1,"div",1)),2&t&&(f.xp6(1),f.Q6J("ngForOf",r.datas.reverse()))},directives:[GS,Sn],styles:[""]}),n})();var fU=P(9672);function YR(n,e,t){n?(0,fU.f)(t,n,e):e()}function QR(n){return new yr.y(e=>{(0,Mo.Xf)(n()).subscribe(e)})}var ty=P(515),JR=P(727);function XR(){return(0,qr.e)((n,e)=>{let t=null;n._refCount++;const r=new Xn.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,u=t;t=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class mU extends yr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,qr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new JR.w0;const t=this.getSubject();e.add(this.source.subscribe(new Xn.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=JR.w0.EMPTY)}return e}refCount(){return XR()(this)}}function gh(n){return(0,qr.e)((e,t)=>{let u,r=null,s=!1;r=e.subscribe(new Xn.Q(t,void 0,void 0,l=>{u=(0,Mo.Xf)(n(l,gh(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,u.subscribe(t))})}var Ki=P(5577);function EE(n,e){return(0,oR.m)(e)?(0,Ki.z)(n,e,1):(0,Ki.z)(n,1)}function qS(n){return n<=0?()=>ty.E:(0,qr.e)((e,t)=>{let r=[];e.subscribe(new Xn.Q(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}var ho=P(8505);class ml{constructor(e,t){this.id=e,this.url=t}}class zS extends ml{constructor(e,t,r="imperative",s=null){super(e,t),this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bE extends ml{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class eN extends ml{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vU extends ml{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class EU extends ml{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bU extends ml{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wU extends ml{constructor(e,t,r,s,u){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class DU extends ml{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CU extends ml{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tN{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nN{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class IU{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TU{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AU{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SU{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rN{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const zt="primary";class MU{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ny(n){return new MU(n)}const iN="ngNavigationCancelingError";function WS(n){const e=Error("NavigationCancelingError: "+n);return e[iN]=!0,e}function kU(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let u=0;u<r.length;u++){const l=r[u],m=n[u];if(l.startsWith(":"))s[l.substring(1)]=m;else if(l!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function ec(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let u=0;u<t.length;u++)if(s=t[u],!sN(n[s],e[s]))return!1;return!0}function sN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,u)=>r[u]===s)}return n===e}function oN(n){return Array.prototype.concat.apply([],n)}function aN(n){return n.length>0?n[n.length-1]:null}function Si(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function tc(n){return(0,f.CqO)(n)?n:(0,f.QGY)(n)?(0,gn.D)(Promise.resolve(n)):Ct(n)}const NU={exact:function lN(n,e,t){if(!Dp(n.segments,e.segments)||!kD(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!lN(n.children[r],e.children[r],t))return!1;return!0},subset:dN},uN={exact:function PU(n,e){return ec(n,e)},subset:function FU(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>sN(n[t],e[t]))},ignored:()=>!0};function cN(n,e,t){return NU[t.paths](n.root,e.root,t.matrixParams)&&uN[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function dN(n,e,t){return hN(n,e,e.segments,t)}function hN(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!Dp(s,t)||e.hasChildren()||!kD(s,t,r))}if(n.segments.length===t.length){if(!Dp(n.segments,t)||!kD(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!dN(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Dp(n.segments,s)&&kD(n.segments,s,r)&&n.children[zt])&&hN(n.children[zt],e,u,r)}}function kD(n,e,t){return e.every((r,s)=>uN[t](n[s].parameters,r.parameters))}class wp{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ny(this.queryParams)),this._queryParamMap}toString(){return UU.serialize(this)}}class Qt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Si(t,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return OD(this)}}class wE{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ny(this.parameters)),this._parameterMap}toString(){return yN(this)}}function Dp(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class fN{}class pN{parse(e){const t=new KU(e);return new wp(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${DE(e.root,!0)}`,r=function $U(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${RD(t)}=${RD(s)}`).join("&"):`${RD(t)}=${RD(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),s="string"==typeof e.fragment?`#${function BU(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${s}`}}const UU=new pN;function OD(n){return n.segments.map(e=>yN(e)).join("/")}function DE(n,e){if(!n.hasChildren())return OD(n);if(e){const t=n.children[zt]?DE(n.children[zt],!1):"",r=[];return Si(n.children,(s,u)=>{u!==zt&&r.push(`${u}:${DE(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function VU(n,e){let t=[];return Si(n.children,(r,s)=>{s===zt&&(t=t.concat(e(r,s)))}),Si(n.children,(r,s)=>{s!==zt&&(t=t.concat(e(r,s)))}),t}(n,(r,s)=>s===zt?[DE(n.children[zt],!1)]:[`${s}:${DE(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[zt]?`${OD(n)}/${t[0]}`:`${OD(n)}/(${t.join("//")})`}}function gN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function RD(n){return gN(n).replace(/%3B/gi,";")}function KS(n){return gN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ND(n){return decodeURIComponent(n)}function mN(n){return ND(n.replace(/\+/g,"%20"))}function yN(n){return`${KS(n.path)}${function jU(n){return Object.keys(n).map(e=>`;${KS(e)}=${KS(n[e])}`).join("")}(n.parameters)}`}const HU=/^[^\/()?;=#]+/;function PD(n){const e=n.match(HU);return e?e[0]:""}const GU=/^[^=?&#]+/,zU=/^[^&#]+/;class KU{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qt([],{}):new Qt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[zt]=new Qt(e,t)),r}parseSegment(){const e=PD(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new wE(ND(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=PD(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=PD(this.remaining);s&&(r=s,this.capture(r))}e[ND(t)]=ND(r)}parseQueryParam(e){const t=function qU(n){const e=n.match(GU);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function WU(n){const e=n.match(zU);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const s=mN(t),u=mN(r);if(e.hasOwnProperty(s)){let l=e[s];Array.isArray(l)||(l=[l],e[s]=l),l.push(u)}else e[s]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=PD(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=zt);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[zt]:new Qt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class _N{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ZS(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ZS(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=YS(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return YS(e,this._root).map(t=>t.value)}}function ZS(n,e){if(n===e.value)return e;for(const t of e.children){const r=ZS(n,t);if(r)return r}return null}function YS(n,e){if(n===e.value)return[e];for(const t of e.children){const r=YS(n,t);if(r.length)return r.unshift(e),r}return[]}class yl{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ry(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class vN extends _N{constructor(e,t){super(e),this.snapshot=t,QS(this,e)}toString(){return this.snapshot.toString()}}function EN(n,e){const t=function ZU(n,e){const l=new FD([],{},{},"",{},zt,e,null,n.root,-1,{});return new wN("",new yl(l,[]))}(n,e),r=new bi([new wE("",{})]),s=new bi({}),u=new bi({}),l=new bi({}),m=new bi(""),E=new iy(r,s,l,m,u,zt,e,t.root);return E.snapshot=t.root,new vN(new yl(E,[]),t)}class iy{constructor(e,t,r,s,u,l,m,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=l,this.component=m,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,bt.U)(e=>ny(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,bt.U)(e=>ny(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bN(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],u=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function YU(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class FD{constructor(e,t,r,s,u,l,m,E,C,M,R){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=l,this.component=m,this.routeConfig=E,this._urlSegment=C,this._lastPathIndex=M,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ny(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ny(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wN extends _N{constructor(e,t){super(t),this.url=e,QS(this,t)}toString(){return DN(this._root)}}function QS(n,e){e.value._routerState=n,e.children.forEach(t=>QS(n,t))}function DN(n){const e=n.children.length>0?` { ${n.children.map(DN).join(", ")} } `:"";return`${n.value}${e}`}function JS(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ec(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ec(e.params,t.params)||n.params.next(t.params),function OU(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ec(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ec(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function XS(n,e){const t=ec(n.params,e.params)&&function LU(n,e){return Dp(n,e)&&n.every((t,r)=>ec(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||XS(n.parent,e.parent))}function CE(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function JU(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return CE(n,r,s);return CE(n,r)})}(n,e,t);return new yl(r,s)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(m=>CE(n,m)),l}}const r=function XU(n){return new iy(new bi(n.url),new bi(n.params),new bi(n.queryParams),new bi(n.fragment),new bi(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(u=>CE(n,u));return new yl(r,s)}}function LD(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function IE(n){return"object"==typeof n&&null!=n&&n.outlets}function eM(n,e,t,r,s){let u={};return r&&Si(r,(l,m)=>{u[m]=Array.isArray(l)?l.map(E=>`${E}`):`${l}`}),new wp(t.root===n?e:CN(t.root,n,e),u,s)}function CN(n,e,t){const r={};return Si(n.children,(s,u)=>{r[u]=s===e?t:CN(s,e,t)}),new Qt(n.segments,r)}class IN{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&LD(r[0]))throw new Error("Root segment cannot have matrix parameters");const s=r.find(IE);if(s&&s!==aN(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class tM{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function TN(n,e,t){if(n||(n=new Qt([],{})),0===n.segments.length&&n.hasChildren())return VD(n,e,t);const r=function s2(n,e,t){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return u;const l=n.segments[s],m=t[r];if(IE(m))break;const E=`${m}`,C=r<t.length-1?t[r+1]:null;if(s>0&&void 0===E)break;if(E&&C&&"object"==typeof C&&void 0===C.outlets){if(!SN(E,C,l))return u;r+=2}else{if(!SN(E,{},l))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Qt(n.segments.slice(0,r.pathIndex),{});return u.children[zt]=new Qt(n.segments.slice(r.pathIndex),n.children),VD(u,0,s)}return r.match&&0===s.length?new Qt(n.segments,{}):r.match&&!n.hasChildren()?nM(n,e,t):r.match?VD(n,0,s):nM(n,e,t)}function VD(n,e,t){if(0===t.length)return new Qt(n.segments,{});{const r=function i2(n){return IE(n[0])?n[0].outlets:{[zt]:n}}(t),s={};return Si(r,(u,l)=>{"string"==typeof u&&(u=[u]),null!==u&&(s[l]=TN(n.children[l],e,u))}),Si(n.children,(u,l)=>{void 0===r[l]&&(s[l]=u)}),new Qt(n.segments,s)}}function nM(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const u=t[s];if(IE(u)){const E=o2(u.outlets);return new Qt(r,E)}if(0===s&&LD(t[0])){r.push(new wE(n.segments[e].path,AN(t[0]))),s++;continue}const l=IE(u)?u.outlets[zt]:`${u}`,m=s<t.length-1?t[s+1]:null;l&&m&&LD(m)?(r.push(new wE(l,AN(m))),s+=2):(r.push(new wE(l,{})),s++)}return new Qt(r,{})}function o2(n){const e={};return Si(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=nM(new Qt([],{}),0,t))}),e}function AN(n){const e={};return Si(n,(t,r)=>e[r]=`${t}`),e}function SN(n,e,t){return n==t.path&&ec(e,t.parameters)}class u2{constructor(e,t,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),JS(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=ry(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,s[l],r),delete s[l]}),Si(s,(u,l)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(s===u)if(s.component){const l=r.getContext(s.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=ry(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);if(r&&r.outlet){const l=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=ry(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const s=ry(t);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new SU(u.value.snapshot))}),e.children.length&&this.forwardEvent(new TU(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(JS(s),s===u)if(s.component){const l=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const l=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const m=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),l.children.onOutletReAttached(m.contexts),l.attachRef=m.componentRef,l.route=m.route.value,l.outlet&&l.outlet.attach(m.componentRef,m.route.value),JS(m.route.value),this.activateChildRoutes(e,null,l.children)}else{const m=function c2(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(s.snapshot),E=m?m.module.componentFactoryResolver:null;l.attachRef=null,l.route=s,l.resolver=E,l.outlet&&l.outlet.activateWith(s,E),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class rM{constructor(e,t){this.routes=e,this.module=t}}function mh(n){return"function"==typeof n}function Cp(n){return n instanceof wp}const TE=Symbol("INITIAL_VALUE");function AE(){return _s(n=>function pU(...n){const e=(0,Fi.yG)(n),t=(0,Fi.jO)(n),{args:r,keys:s}=Hl(n);if(0===r.length)return(0,gn.D)([],e);const u=new yr.y(function gU(n,e,t=jc.y){return r=>{YR(e,()=>{const{length:s}=n,u=new Array(s);let l=s,m=s;for(let E=0;E<s;E++)YR(e,()=>{const C=(0,gn.D)(n[E],e);let M=!1;C.subscribe(new Xn.Q(r,R=>{u[E]=R,M||(M=!0,m--),m||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,s?l=>xo(s,l):jc.y));return t?u.pipe(Gl(t)):u}(n.map(e=>e.pipe((0,ES.q)(1),Dn(TE)))).pipe(Af((e,t)=>{let r=!1;return t.reduce((s,u,l)=>s!==TE?s:(u===TE&&(r=!0),r||!1!==u&&l!==t.length-1&&!Cp(u)?s:u),e)},TE),qo(e=>e!==TE),(0,bt.U)(e=>Cp(e)?e:!0===e),(0,ES.q)(1)))}class g2{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new SE,this.attachRef=null}}class SE{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new g2,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let iM=(()=>{class n{constructor(t,r,s,u,l){this.parentContexts=t,this.location=r,this.resolver=s,this.changeDetector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=u||zt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const l=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,E=new m2(t,m,this.location.injector);this.activated=this.location.createComponent(l,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(SE),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},n.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class m2{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===iy?this.route:e===SE?this.childContexts:this.parent.get(e,t)}}let MN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"router-outlet")},directives:[iM],encapsulation:2}),n})();function xN(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];y2(r,_2(e,r))}}function y2(n,e){n.children&&xN(n.children,e)}function _2(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function sM(n){const e=n.children&&n.children.map(sM),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==zt&&(t.component=MN),t}function ta(n){return n.outlet||zt}function kN(n,e){const t=n.filter(r=>ta(r)===e);return t.push(...n.filter(r=>ta(r)!==e)),t}const ON={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function UD(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},ON):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const u=(e.matcher||kU)(t,n,e);if(!u)return Object.assign({},ON);const l={};Si(u.posParams,(E,C)=>{l[C]=E.path});const m=u.consumed.length>0?Object.assign(Object.assign({},l),u.consumed[u.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:u.consumed,lastChild:u.consumed.length,parameters:m,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function BD(n,e,t,r,s="corrected"){if(t.length>0&&function b2(n,e,t){return t.some(r=>jD(n,e,r)&&ta(r)!==zt)}(n,t,r)){const l=new Qt(e,function E2(n,e,t,r){const s={};s[zt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&ta(u)!==zt){const l=new Qt([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,s[ta(u)]=l}return s}(n,e,r,new Qt(t,n.children)));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===t.length&&function w2(n,e,t){return t.some(r=>jD(n,e,r))}(n,t,r)){const l=new Qt(n.segments,function v2(n,e,t,r,s,u){const l={};for(const m of r)if(jD(n,t,m)&&!s[ta(m)]){const E=new Qt([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===u?n.segments.length:e.length,l[ta(m)]=E}return Object.assign(Object.assign({},s),l)}(n,e,t,r,n.children,s));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}const u=new Qt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function jD(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function RN(n,e,t,r){return!!(ta(n)===r||r!==zt&&jD(e,t,n))&&("**"===n.path||UD(e,n,t).matched)}function NN(n,e,t){return 0===e.length&&!n.children[t]}class ME{constructor(e){this.segmentGroup=e||null}}class PN{constructor(e){this.urlTree=e}}function $D(n){return new yr.y(e=>e.error(new ME(n)))}function FN(n){return new yr.y(e=>e.error(new PN(n)))}function D2(n){return new yr.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class T2{constructor(e,t,r,s,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=s,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(f.h0i)}apply(){const e=BD(this.urlTree.root,[],[],this.config).segmentGroup,t=new Qt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,zt).pipe((0,bt.U)(u=>this.createUrlTree(oM(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(gh(u=>{if(u instanceof PN)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof ME?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,zt).pipe((0,bt.U)(s=>this.createUrlTree(oM(s),e.queryParams,e.fragment))).pipe(gh(s=>{throw s instanceof ME?this.noMatchError(s):s}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const s=e.segments.length>0?new Qt([],{[zt]:e}):e;return new wp(s,t,r)}expandSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,bt.U)(u=>new Qt([],u))):this.expandSegment(e,r,t,r.segments,s,!0)}expandChildren(e,t,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,gn.D)(s).pipe(EE(u=>{const l=r.children[u],m=kN(t,u);return this.expandSegmentGroup(e,m,l,u).pipe((0,bt.U)(E=>({segment:E,outlet:u})))}),Af((u,l)=>(u[l.outlet]=l.segment,u),{}),function yU(n,e){const t=arguments.length>=2;return r=>r.pipe(n?qo((s,u)=>n(s,u,r)):jc.y,qS(1),t?iR(e):sR(()=>new ED))}())}expandSegment(e,t,r,s,u,l){return(0,gn.D)(r).pipe(EE(m=>this.expandSegmentAgainstRoute(e,t,r,m,s,u,l).pipe(gh(C=>{if(C instanceof ME)return Ct(null);throw C}))),bp(m=>!!m),gh((m,E)=>{if(m instanceof ED||"EmptyError"===m.name){if(NN(t,s,u))return Ct(new Qt([],{}));throw new ME(t)}throw m}))}expandSegmentAgainstRoute(e,t,r,s,u,l,m){return RN(s,t,u,l)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,u,l):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l):$D(t):$D(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?FN(u):this.lineralizeSegments(r,u).pipe((0,Ki.z)(l=>{const m=new Qt(l,{});return this.expandSegment(e,m,t,l,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l){const{matched:m,consumedSegments:E,lastChild:C,positionalParamSegments:M}=UD(t,s,u);if(!m)return $D(t);const R=this.applyRedirectCommands(E,s.redirectTo,M);return s.redirectTo.startsWith("/")?FN(R):this.lineralizeSegments(s,R).pipe((0,Ki.z)(U=>this.expandSegment(e,t,r,U.concat(u.slice(C)),l,!1)))}matchSegmentAgainstRoute(e,t,r,s,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Ct(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,bt.U)(U=>(r._loadedConfig=U,new Qt(s,{})))):Ct(new Qt(s,{}));const{matched:l,consumedSegments:m,lastChild:E}=UD(t,r,s);if(!l)return $D(t);const C=s.slice(E);return this.getChildConfig(e,r,s).pipe((0,Ki.z)(R=>{const U=R.module,z=R.routes,{segmentGroup:Q,slicedSegments:ve}=BD(t,m,C,z),Pe=new Qt(Q.segments,Q.children);if(0===ve.length&&Pe.hasChildren())return this.expandChildren(U,z,Pe).pipe((0,bt.U)(ht=>new Qt(m,ht)));if(0===z.length&&0===ve.length)return Ct(new Qt(m,{}));const at=ta(r)===u;return this.expandSegment(U,Pe,z,ve,at?zt:u,!0).pipe((0,bt.U)(Lt=>new Qt(m.concat(Lt.segments),Lt.children)))}))}getChildConfig(e,t,r){return t.children?Ct(new rM(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Ct(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Ki.z)(s=>s?this.configLoader.load(e.injector,t).pipe((0,bt.U)(u=>(t._loadedConfig=u,u))):function C2(n){return new yr.y(e=>e.error(WS(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):Ct(new rM([],e))}runCanLoadGuards(e,t,r){const s=t.canLoad;if(!s||0===s.length)return Ct(!0);const u=s.map(l=>{const m=e.get(l);let E;if(function d2(n){return n&&mh(n.canLoad)}(m))E=m.canLoad(t,r);else{if(!mh(m))throw new Error("Invalid CanLoad guard");E=m(t,r)}return tc(E)});return Ct(u).pipe(AE(),(0,ho.b)(l=>{if(!Cp(l))return;const m=WS(`Redirecting to "${this.urlSerializer.serialize(l)}"`);throw m.url=l,m}),(0,bt.U)(l=>!0===l))}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return Ct(r);if(s.numberOfChildren>1||!s.children[zt])return D2(e.redirectTo);s=s.children[zt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,s){const u=this.createSegmentGroup(e,t.root,r,s);return new wp(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Si(e,(s,u)=>{if("string"==typeof s&&s.startsWith(":")){const m=s.substring(1);r[u]=t[m]}else r[u]=s}),r}createSegmentGroup(e,t,r,s){const u=this.createSegments(e,t.segments,r,s);let l={};return Si(t.children,(m,E)=>{l[E]=this.createSegmentGroup(e,m,r,s)}),new Qt(u,l)}createSegments(e,t,r,s){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}function oM(n){const e={};for(const r of Object.keys(n.children)){const u=oM(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function A2(n){if(1===n.numberOfChildren&&n.children[zt]){const e=n.children[zt];return new Qt(n.segments.concat(e.segments),e.children)}return n}(new Qt(n.segments,e))}class LN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class HD{constructor(e,t){this.component=e,this.route=t}}function M2(n,e,t){const r=n._root;return xE(r,e?e._root:null,t,[r.value])}function GD(n,e,t){const r=function k2(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function xE(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=ry(e);return n.children.forEach(l=>{(function O2(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const E=function R2(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Dp(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Dp(n.url,e.url)||!ec(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!XS(n,e)||!ec(n.queryParams,e.queryParams);default:return!XS(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);E?s.canActivateChecks.push(new LN(r)):(u.data=l.data,u._resolvedData=l._resolvedData),xE(n,e,u.component?m?m.children:null:t,r,s),E&&m&&m.outlet&&m.outlet.isActivated&&s.canDeactivateChecks.push(new HD(m.outlet.component,l))}else l&&kE(e,m,s),s.canActivateChecks.push(new LN(r)),xE(n,null,u.component?m?m.children:null:t,r,s)})(l,u[l.value.outlet],t,r.concat([l.value]),s),delete u[l.value.outlet]}),Si(u,(l,m)=>kE(l,t.getContext(m),s)),s}function kE(n,e,t){const r=ry(n),s=n.value;Si(r,(u,l)=>{kE(u,s.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new HD(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}class $2{}function VN(n){return new yr.y(e=>e.error(n))}class G2{constructor(e,t,r,s,u,l){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=l}recognize(){const e=BD(this.urlTree.root,[],[],this.config.filter(l=>void 0===l.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,zt);if(null===t)return null;const r=new FD([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},zt,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new yl(r,t),u=new wN(this.url,s);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=bN(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const l=t.children[u],m=kN(e,u),E=this.processSegmentGroup(m,l,u);if(null===E)return null;r.push(...E)}const s=UN(r);return function q2(n){n.sort((e,t)=>e.value.outlet===zt?-1:t.value.outlet===zt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}processSegment(e,t,r,s){for(const u of e){const l=this.processSegmentAgainstRoute(u,t,r,s);if(null!==l)return l}return NN(t,r,s)?[]:null}processSegmentAgainstRoute(e,t,r,s){if(e.redirectTo||!RN(e,t,r,s))return null;let u,l=[],m=[];if("**"===e.path){const z=r.length>0?aN(r).parameters:{};u=new FD(r,z,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$N(e),ta(e),e.component,e,BN(t),jN(t)+r.length,HN(e))}else{const z=UD(t,e,r);if(!z.matched)return null;l=z.consumedSegments,m=r.slice(z.lastChild),u=new FD(l,z.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$N(e),ta(e),e.component,e,BN(t),jN(t)+l.length,HN(e))}const E=function z2(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:C,slicedSegments:M}=BD(t,l,m,E.filter(z=>void 0===z.redirectTo),this.relativeLinkResolution);if(0===M.length&&C.hasChildren()){const z=this.processChildren(E,C);return null===z?null:[new yl(u,z)]}if(0===E.length&&0===M.length)return[new yl(u,[])];const R=ta(e)===s,U=this.processSegment(E,C,M,R?zt:s);return null===U?null:[new yl(u,U)]}}function W2(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function UN(n){const e=[],t=new Set;for(const r of n){if(!W2(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=UN(r.children);e.push(new yl(r.value,s))}return e.filter(r=>!t.has(r))}function BN(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function jN(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function $N(n){return n.data||{}}function HN(n){return n.resolve||{}}function aM(n){return _s(e=>{const t=n(e);return t?(0,gn.D)(t).pipe((0,bt.U)(()=>e)):Ct(e)})}class tB extends class eB{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const uM=new f.OlP("ROUTES");class GN{constructor(e,t,r,s){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=s}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const s=this.loadModuleFactory(t.loadChildren).pipe((0,bt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const l=u.create(e);return new rM(oN(l.injector.get(uM,void 0,f.XFs.Self|f.XFs.Optional)).map(sM),l)}),gh(u=>{throw t._loader$=void 0,u}));return t._loader$=new mU(s,()=>new kn.x).pipe(XR()),t._loader$}loadModuleFactory(e){return tc(e()).pipe((0,Ki.z)(t=>t instanceof f.YKP?Ct(t):(0,gn.D)(this.compiler.compileModuleAsync(t))))}}class rB{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function iB(n){throw n}function sB(n,e,t){return e.parse("/")}function qN(n,e){return Ct(null)}const oB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fo=(()=>{class n{constructor(t,r,s,u,l,m,E){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=s,this.location=u,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new kn.x,this.errorHandler=iB,this.malformedUriErrorHandler=sB,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:qN,afterPreactivation:qN},this.urlHandlingStrategy=new rB,this.routeReuseStrategy=new tB,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=l.get(f.h0i),this.console=l.get(f.c2e);const R=l.get(f.R0b);this.isNgZoneEnabled=R instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=function RU(){return new wp(new Qt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new GN(l,m,U=>this.triggerEvent(new tN(U)),U=>this.triggerEvent(new nN(U))),this.routerState=EN(this.currentUrlTree,this.rootComponentType),this.transitions=new bi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(qo(s=>0!==s.id),(0,bt.U)(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),_s(s=>{let u=!1,l=!1;return Ct(s).pipe((0,ho.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),_s(m=>{const E=this.browserUrlTree.toString(),C=!this.navigated||m.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return qD(m.source)&&(this.browserUrlTree=m.extractedUrl),Ct(m).pipe(_s(R=>{const U=this.transitions.getValue();return r.next(new zS(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),U!==this.transitions.getValue()?ty.E:Promise.resolve(R)}),function S2(n,e,t,r){return _s(s=>function I2(n,e,t,r,s){return new T2(n,e,t,r,s).apply()}(n,e,t,s.extractedUrl,r).pipe((0,bt.U)(u=>Object.assign(Object.assign({},s),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ho.b)(R=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function K2(n,e,t,r,s){return(0,Ki.z)(u=>function H2(n,e,t,r,s="emptyOnly",u="legacy"){try{const l=new G2(n,e,t,r,s,u).recognize();return null===l?VN(new $2):Ct(l)}catch(l){return VN(l)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,s).pipe((0,bt.U)(l=>Object.assign(Object.assign({},u),{targetSnapshot:l}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ho.b)(R=>{if("eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const z=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(z,R)}this.browserUrlTree=R.urlAfterRedirects}const U=new EU(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);r.next(U)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:U,extractedUrl:z,source:Q,restoredState:ve,extras:Pe}=m,at=new zS(U,this.serializeUrl(z),Q,ve);r.next(at);const Et=EN(z,this.rootComponentType).snapshot;return Ct(Object.assign(Object.assign({},m),{targetSnapshot:Et,urlAfterRedirects:z,extras:Object.assign(Object.assign({},Pe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),ty.E}),aM(m=>{const{targetSnapshot:E,id:C,extractedUrl:M,rawUrl:R,extras:{skipLocationChange:U,replaceUrl:z}}=m;return this.hooks.beforePreactivation(E,{navigationId:C,appliedUrlTree:M,rawUrlTree:R,skipLocationChange:!!U,replaceUrl:!!z})}),(0,ho.b)(m=>{const E=new bU(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(E)}),(0,bt.U)(m=>Object.assign(Object.assign({},m),{guards:M2(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function N2(n,e){return(0,Ki.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?Ct(Object.assign(Object.assign({},t),{guardsResult:!0})):function P2(n,e,t,r){return(0,gn.D)(n).pipe((0,Ki.z)(s=>function j2(n,e,t,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?Ct(u.map(m=>{const E=GD(m,e,s);let C;if(function p2(n){return n&&mh(n.canDeactivate)}(E))C=tc(E.canDeactivate(n,e,t,r));else{if(!mh(E))throw new Error("Invalid CanDeactivate guard");C=tc(E(n,e,t,r))}return C.pipe(bp())})).pipe(AE()):Ct(!0)}(s.component,s.route,t,e,r)),bp(s=>!0!==s,!0))}(l,r,s,n).pipe((0,Ki.z)(m=>m&&function l2(n){return"boolean"==typeof n}(m)?function F2(n,e,t,r){return(0,gn.D)(e).pipe(EE(s=>Nd(function V2(n,e){return null!==n&&e&&e(new IU(n)),Ct(!0)}(s.route.parent,r),function L2(n,e){return null!==n&&e&&e(new AU(n)),Ct(!0)}(s.route,r),function B2(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function x2(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>QR(()=>Ct(l.guards.map(E=>{const C=GD(E,l.node,t);let M;if(function f2(n){return n&&mh(n.canActivateChild)}(C))M=tc(C.canActivateChild(r,n));else{if(!mh(C))throw new Error("Invalid CanActivateChild guard");M=tc(C(r,n))}return M.pipe(bp())})).pipe(AE())));return Ct(u).pipe(AE())}(n,s.path,t),function U2(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ct(!0);const s=r.map(u=>QR(()=>{const l=GD(u,e,t);let m;if(function h2(n){return n&&mh(n.canActivate)}(l))m=tc(l.canActivate(e,n));else{if(!mh(l))throw new Error("Invalid CanActivate guard");m=tc(l(e,n))}return m.pipe(bp())}));return Ct(s).pipe(AE())}(n,s.route,t))),bp(s=>!0!==s,!0))}(r,u,n,e):Ct(m)),(0,bt.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,ho.b)(m=>{if(Cp(m.guardsResult)){const C=WS(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw C.url=m.guardsResult,C}const E=new wU(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(E)}),qo(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),aM(m=>{if(m.guards.canActivateChecks.length)return Ct(m).pipe((0,ho.b)(E=>{const C=new DU(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(C)}),_s(E=>{let C=!1;return Ct(E).pipe(function Z2(n,e){return(0,Ki.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return Ct(t);let u=0;return(0,gn.D)(s).pipe(EE(l=>function Y2(n,e,t,r){return function Q2(n,e,t,r){const s=Object.keys(n);if(0===s.length)return Ct({});const u={};return(0,gn.D)(s).pipe((0,Ki.z)(l=>function J2(n,e,t,r){const s=GD(n,e,r);return tc(s.resolve?s.resolve(e,t):s(e,t))}(n[l],e,t,r).pipe((0,ho.b)(m=>{u[l]=m}))),qS(1),(0,Ki.z)(()=>Object.keys(u).length===s.length?Ct(u):ty.E))}(n._resolve,n,e,r).pipe((0,bt.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),bN(n,t).resolve),null)))}(l.route,r,n,e)),(0,ho.b)(()=>u++),qS(1),(0,Ki.z)(l=>u===s.length?Ct(t):ty.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ho.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,ho.b)(E=>{const C=new CU(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(C)}))}),aM(m=>{const{targetSnapshot:E,id:C,extractedUrl:M,rawUrl:R,extras:{skipLocationChange:U,replaceUrl:z}}=m;return this.hooks.afterPreactivation(E,{navigationId:C,appliedUrlTree:M,rawUrlTree:R,skipLocationChange:!!U,replaceUrl:!!z})}),(0,bt.U)(m=>{const E=function QU(n,e,t){const r=CE(n,e._root,t?t._root:void 0);return new vN(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:E})}),(0,ho.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,bt.U)(r=>(new u2(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,ho.b)({next(){u=!0},complete(){u=!0}}),function _U(n){return(0,qr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;u||l||this.cancelNavigationTransition(s,`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===s.id&&(this.currentNavigation=null)}),gh(m=>{if(l=!0,function xU(n){return n&&n[iN]}(m)){const E=Cp(m.url);E||(this.navigated=!0,this.restoreHistory(s,!0));const C=new eN(s.id,this.serializeUrl(s.extractedUrl),m.message);r.next(C),E?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),R={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||qD(s.source)};this.scheduleNavigation(M,"imperative",null,R,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const E=new vU(s.id,this.serializeUrl(s.extractedUrl),m);r.next(E);try{s.resolve(this.errorHandler(m))}catch(C){s.reject(C)}}return ty.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var s;const u={replaceUrl:!0},l=(null===(s=t.state)||void 0===s?void 0:s.navigationId)?t.state:null;if(l){const E=Object.assign({},l);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(u.state=E)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,l,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){xN(t),this.config=t.map(sM),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:u,fragment:l,queryParamsHandling:m,preserveFragment:E}=r,C=s||this.routerState.root,M=E?this.currentUrlTree.fragment:l;let R=null;switch(m){case"merge":R=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=u||null}return null!==R&&(R=this.removeEmptyProps(R)),function e2(n,e,t,r,s){if(0===t.length)return eM(e.root,e.root,e,r,s);const u=function t2(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new IN(!0,0,n);let e=0,t=!1;const r=n.reduce((s,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Si(u.outlets,(E,C)=>{m[C]="string"==typeof E?E.split("/"):E}),[...s,{outlets:m}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===l?(u.split("/").forEach((m,E)=>{0==E&&"."===m||(0==E&&""===m?t=!0:".."===m?e++:""!=m&&s.push(m))}),s):[...s,u]},[]);return new IN(t,e,r)}(t);if(u.toRoot())return eM(e.root,new Qt([],{}),e,r,s);const l=function n2(n,e,t){if(n.isAbsolute)return new tM(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new tM(u,u===e.root,0)}const r=LD(n.commands[0])?0:1;return function r2(n,e,t){let r=n,s=e,u=t;for(;u>s;){if(u-=s,r=r.parent,!r)throw new Error("Invalid number of '../'");s=r.segments.length}return new tM(r,!1,s-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),m=l.processChildren?VD(l.segmentGroup,l.index,u.commands):TN(l.segmentGroup,l.index,u.commands);return eM(l.segmentGroup,m,e,r,s)}(C,this.currentUrlTree,t,R,null!=M?M:null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=Cp(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function uB(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?Object.assign({},oB):!1===r?Object.assign({},aB):r,Cp(t))return cN(this.currentUrlTree,t,s);const u=this.parseUrl(t);return cN(this.currentUrlTree,u,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const u=t[s];return null!=u&&(r[s]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new bE(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,s,u,l){var m,E,C;if(this.disposed)return Promise.resolve(!1);const M=this.transitions.value,R=qD(r)&&M&&!qD(M.source),U=M.rawUrl.toString()===t.toString(),z=M.id===(null===(m=this.currentNavigation)||void 0===m?void 0:m.id);if(R&&U&&z)return Promise.resolve(!0);let ve,Pe,at;l?(ve=l.resolve,Pe=l.reject,at=l.promise):at=new Promise((ht,ln)=>{ve=ht,Pe=ln});const Et=++this.navigationId;let Lt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),Lt=s&&s.\u0275routerPageId?s.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(E=this.browserPageId)&&void 0!==E?E:0:(null!==(C=this.browserPageId)&&void 0!==C?C:0)+1):Lt=0,this.setTransition({id:Et,targetPageId:Lt,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:ve,reject:Pe,promise:at,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),at.catch(ht=>Promise.reject(ht))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl?this.location.replaceState(s,"",u):this.location.go(s,"",u)}restoreHistory(t,r=!1){var s,u;if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===l?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===l&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(l)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const s=new eN(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function qD(n){return"imperative"!==n}let cM=(()=>{class n{constructor(t,r,s,u,l){this.router=t,this.route=r,this.tabIndexAttribute=s,this.renderer=u,this.el=l,this.commands=null,this.onChanges=new kn.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,s=this.el.nativeElement;null!==t?r.setAttribute(s,"tabindex",t):r.removeAttribute(s,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:sy(this.skipLocationChange),replaceUrl:sy(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:sy(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(fo),f.Y36(iy),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&f.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),n})(),zD=(()=>{class n{constructor(t,r,s){this.router=t,this.route=r,this.locationStrategy=s,this.commands=null,this.href=null,this.onChanges=new kn.x,this.subscription=t.events.subscribe(u=>{u instanceof bE&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,s,u,l){if(0!==t||r||s||u||l||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const m={skipLocationChange:sy(this.skipLocationChange),replaceUrl:sy(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:sy(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(fo),f.Y36(iy),f.Y36(K))},n.\u0275dir=f.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&f.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&f.uIk("target",r.target)("href",r.href,f.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),n})();function sy(n){return""===n||!!n}let zN=(()=>{class n{constructor(t,r,s,u,l,m){this.router=t,this.element=r,this.renderer=s,this.cdr=u,this.link=l,this.linkWithHref=m,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new f.vpe,this.routerEventsSubscription=t.events.subscribe(E=>{E instanceof bE&&this.update()})}ngAfterContentInit(){Ct(this.links.changes,this.linksWithHrefs.changes,Ct(null)).pipe((0,Gg.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(s=>!!s).map(s=>s.onChanges);this.linkInputChangesSubscription=(0,gn.D)(r).pipe((0,Gg.J)()).subscribe(s=>{this.isActive!==this.isLinkActive(this.router)(s)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function cB(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>!!s.urlTree&&t.isActive(s.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(fo),f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.sBO),f.Y36(cM,8),f.Y36(zD,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,s){if(1&t&&(f.Suo(s,cM,5),f.Suo(s,zD,5)),2&t){let u;f.iGM(u=f.CRH())&&(r.links=u),f.iGM(u=f.CRH())&&(r.linksWithHrefs=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[f.TTD]}),n})();class WN{}class KN{preload(e,t){return Ct(null)}}let ZN=(()=>{class n{constructor(t,r,s,u){this.router=t,this.injector=s,this.preloadingStrategy=u,this.loader=new GN(s,r,E=>t.triggerEvent(new tN(E)),E=>t.triggerEvent(new nN(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(qo(t=>t instanceof bE),EE(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(f.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const l=u._loadedConfig;s.push(this.processRoutes(l.module,l.routes))}else u.loadChildren&&!u.canLoad?s.push(this.preloadConfig(t,u)):u.children&&s.push(this.processRoutes(t,u.children));return(0,gn.D)(s).pipe((0,Gg.J)(),(0,bt.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Ct(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Ki.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(fo),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(WN))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),lM=(()=>{class n{constructor(t,r,s={}){this.router=t,this.viewportScroller=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof zS?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof bE&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof rN&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new rN(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Ip=new f.OlP("ROUTER_CONFIGURATION"),YN=new f.OlP("ROUTER_FORROOT_GUARD"),dB=[$e,{provide:fN,useClass:pN},{provide:fo,useFactory:function mB(n,e,t,r,s,u,l={},m,E){const C=new fo(null,n,e,t,r,s,oN(u));return m&&(C.urlHandlingStrategy=m),E&&(C.routeReuseStrategy=E),function yB(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(l,C),l.enableTracing&&C.events.subscribe(M=>{var R,U;null===(R=console.group)||void 0===R||R.call(console,`Router Event: ${M.constructor.name}`),console.log(M.toString()),console.log(M),null===(U=console.groupEnd)||void 0===U||U.call(console)}),C},deps:[fN,SE,$e,f.zs3,f.Sil,uM,Ip,[class nB{},new f.FiY],[class X2{},new f.FiY]]},SE,{provide:iy,useFactory:function _B(n){return n.routerState.root},deps:[fo]},ZN,KN,class lB{preload(e,t){return t().pipe(gh(()=>Ct(null)))}},{provide:Ip,useValue:{enableTracing:!1}}];function hB(){return new f.PXZ("Router",fo)}let QN=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[dB,JN(t),{provide:YN,useFactory:gB,deps:[[fo,new f.FiY,new f.tp0]]},{provide:Ip,useValue:r||{}},{provide:K,useFactory:pB,deps:[ue,[new f.tBr(ye),new f.FiY],Ip]},{provide:lM,useFactory:fB,deps:[fo,dc,Ip]},{provide:WN,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:KN},{provide:f.PXZ,multi:!0,useFactory:hB},[dM,{provide:f.ip1,multi:!0,useFactory:vB,deps:[dM]},{provide:XN,useFactory:EB,deps:[dM]},{provide:f.tb,multi:!0,useExisting:XN}]]}}static forChild(t){return{ngModule:n,providers:[JN(t)]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(YN,8),f.LFG(fo,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();function fB(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new lM(n,e,t)}function pB(n,e,t={}){return t.useHash?new _e(n,e):new Te(n,e)}function gB(n){return"guarded"}function JN(n){return[{provide:f.deG,multi:!0,useValue:n},{provide:uM,multi:!0,useValue:n}]}let dM=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new kn.x}appInitializer(){return this.injector.get(H,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const s=new Promise(m=>r=m),u=this.injector.get(fo),l=this.injector.get(Ip);return"disabled"===l.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===l.initialNavigation||"enabledBlocking"===l.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?Ct(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),s})}bootstrapListener(t){const r=this.injector.get(Ip),s=this.injector.get(ZN),u=this.injector.get(lM),l=this.injector.get(fo),m=this.injector.get(f.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&l.initialNavigation(),s.setUpPreloading(),u.init(),l.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.zs3))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function vB(n){return n.appInitializer.bind(n)}function EB(n){return n.bootstrapListener.bind(n)}const XN=new f.OlP("Router Initializer"),wB=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:hU},{path:"complete",component:lU},{path:"progress",component:aU}];let DB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[QN.forRoot(wB)],QN]}),n})();const CB=function(){return["home"]},IB=function(){return["progress"]},TB=function(){return["complete"]};let AB=(()=>{class n{constructor(t){this._service=t,this.title="ToDoListMobile"}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(vE))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-root"]],decls:22,vars:6,consts:[[1,"top","container-fluid"],[1,"row","h-100","align-items-center"],[1,"col-10","searchbar"],["type","text",1,"inp","w-100"],[1,"col-2","menu","text-center"],[1,"fas","fa-bars"],[1,"content","overflow-scroll","pb-5"],[1,"container"],[1,"row","justify-content-center"],[1,"col-12"],[1,"container-fluid","my-nav"],[1,"row","text-center","h-100","align-items-center"],[1,"col-4"],["routerLinkActive","link-active",3,"routerLink"],[1,"fas","fa-home"],[1,"fas","fa-clipboard-list"],[1,"fas","fa-clipboard-check"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"div",2),f._UZ(3,"input",3),f.qZA(),f.TgZ(4,"div",4),f._UZ(5,"i",5),f.qZA(),f.qZA(),f.qZA(),f.TgZ(6,"div",6),f.TgZ(7,"div",7),f.TgZ(8,"div",8),f.TgZ(9,"div",9),f._UZ(10,"router-outlet"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(11,"div",10),f.TgZ(12,"div",11),f.TgZ(13,"div",12),f.TgZ(14,"a",13),f._UZ(15,"i",14),f.qZA(),f.qZA(),f.TgZ(16,"div",12),f.TgZ(17,"a",13),f._UZ(18,"i",15),f.qZA(),f.qZA(),f.TgZ(19,"div",12),f.TgZ(20,"a",13),f._UZ(21,"i",16),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&t&&(f.xp6(14),f.Q6J("routerLink",f.DdM(3,CB)),f.xp6(3),f.Q6J("routerLink",f.DdM(4,IB)),f.xp6(3),f.Q6J("routerLink",f.DdM(5,TB)))},directives:[iM,zD,zN],styles:['.my-nav[_ngcontent-%COMP%]{position:fixed;bottom:0;height:8vh;background-color:#fff;font-size:1.5em}.content[_ngcontent-%COMP%]{height:84vh;background-color:#e1e1e1}.top[_ngcontent-%COMP%]{position:relative;height:8vh}.top[_ngcontent-%COMP%]:after{font-family:"Font Awesome 5 Free";font-weight:900;content:"\\f002";color:#959595;font-size:1.4em;position:absolute;top:50%;transform:translateY(-50%);right:calc(20% + 12px)}a[_ngcontent-%COMP%]{text-decoration:none;color:#959595}.link-active[_ngcontent-%COMP%]{color:#4a90e2}input[_ngcontent-%COMP%]{outline:none;border:none}.inp[_ngcontent-%COMP%]{border:2px solid #7c7c7c;border-radius:20px;padding:5px 5px 5px 15px}.menu[_ngcontent-%COMP%]{font-size:1.4em}']}),n})(),SB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n,bootstrap:[AB]}),n.\u0275inj=f.cJS({providers:[],imports:[[au,DB,sb,SI,ao.hO.initializeApp(Ib_firebaseConfig),FV]]}),n})();(0,f.G48)(),ma().bootstrapModule(SB).catch(n=>console.error(n))},5867:(st,Ce,P)=>{"use strict";P.d(Ce,{Mq:()=>f.getApp,C6:()=>f.getApps});var f=P(9681);(0,f.registerVersion)("firebase","9.6.4","app")},127:(st,Ce,P)=>{"use strict";P.d(Ce,{Z:()=>f.Z});var f=P(3942);f.Z.registerVersion("firebase","9.6.4","app-compat")},5735:(st,Ce,P)=>{"use strict";P.r(Ce);var f=P(5861),J=P(3942),N=P(2090),ae=P(9681);function ue(y,h){var p={};for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&h.indexOf(v)<0&&(p[v]=y[v]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var T=0;for(v=Object.getOwnPropertySymbols(y);T<v.length;T++)h.indexOf(v[T])<0&&Object.prototype.propertyIsEnumerable.call(y,v[T])&&(p[v[T]]=y[v[T]])}return p}var Fe=P(1877),de=P(4859);const Tr=function Ir(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Xt=function on(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ci=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Cn=new Fe.Yd("@firebase/auth");function Mi(y,...h){Cn.logLevel<=Fe.in.ERROR&&Cn.error(`Auth (${ae.SDK_VERSION}): ${y}`,...h)}function Gt(y,...h){throw Yi(y,...h)}function mn(y,...h){return Yi(y,...h)}function Ls(y,h,p){const v=Object.assign(Object.assign({},Xt()),{[h]:p});return new N.LL("auth","Firebase",v).create(h,{appName:y.name})}function $r(y,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&Gt(y,"argument-error"),Ls(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yi(y,...h){if("string"!=typeof y){const p=h[0],v=[...h.slice(1)];return v[0]&&(v[0].appName=y.name),y._errorFactory.create(p,...v)}return ci.create(y,...h)}function xe(y,h,...p){if(!y)throw Yi(h,...p)}function rr(y){const h="INTERNAL ASSERTION FAILED: "+y;throw Mi(h),new Error(h)}function Je(y,h){y||rr(h)}const Qr=new Map;function Zt(y){Je(y instanceof Function,"Expected a class definition");let h=Qr.get(y);return h?(Je(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,Qr.set(y,h),h)}function pt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function nt(){return"http:"===Ot()||"https:"===Ot()}function Ot(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Rt{constructor(h,p){this.shortDelay=h,this.longDelay=p,Je(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function fn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(nt()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xe(y,h){Je(y.emulator,"Emulator should always be set here");const{url:p}=y.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class ct{static initialize(h,p,v){this.fetchImpl=h,p&&(this.headersImpl=p),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rc={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Us=new Rt(3e4,6e4);function gt(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function yn(y,h,p,v){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,f.Z)(function*(y,h,p,v,T={}){return Qi(y,T,(0,f.Z)(function*(){let x={},B={};v&&("GET"===h?B=v:x={body:JSON.stringify(v)});const re=(0,N.xO)(Object.assign({key:y.config.apiKey},B)).slice(1),Le=yield y._getAdditionalHeaders();return Le["Content-Type"]="application/json",y.languageCode&&(Le["X-Firebase-Locale"]=y.languageCode),ct.fetch()(we(y,y.config.apiHost,p,re),Object.assign({method:h,headers:Le,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function Qi(y,h,p){return V.apply(this,arguments)}function V(){return(V=(0,f.Z)(function*(y,h,p){y._canInitEmulator=!1;const v=Object.assign(Object.assign({},rc),h);try{const T=new te(y),x=yield Promise.race([p(),T.promise]);T.clearNetworkTimeout();const B=yield x.json();if("needConfirmation"in B)throw Ge(y,"account-exists-with-different-credential",B);if(x.ok&&!("errorMessage"in B))return B;{const re=x.ok?B.errorMessage:B.error.message,[Le,Ne]=re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw Ge(y,"credential-already-in-use",B);if("EMAIL_EXISTS"===Le)throw Ge(y,"email-already-in-use",B);const et=v[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(Ne)throw Ls(y,et,Ne);Gt(y,et)}}catch(T){if(T instanceof N.ZR)throw T;Gt(y,"network-request-failed")}})).apply(this,arguments)}function G(y,h,p,v){return q.apply(this,arguments)}function q(){return(q=(0,f.Z)(function*(y,h,p,v,T={}){const x=yield yn(y,h,p,v,T);return"mfaPendingCredential"in x&&Gt(y,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function we(y,h,p,v){const T=`${h}${p}?${v}`;return y.config.emulator?Xe(y.config,T):`${y.config.apiScheme}://${T}`}class te{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,v)=>{this.timer=setTimeout(()=>v(mn(this.auth,"network-request-failed")),Us.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ge(y,h,p){const v={appName:y.name};p.email&&(v.email=p.email),p.phoneNumber&&(v.phoneNumber=p.phoneNumber);const T=mn(y,h,v);return T.customData._tokenResponse=p,T}function dn(){return(dn=(0,f.Z)(function*(y,h){return yn(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Bn(y,h){return In.apply(this,arguments)}function In(){return(In=(0,f.Z)(function*(y,h){return yn(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Sr(y,h){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,f.Z)(function*(y,h){return yn(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function ir(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function go(){return(go=(0,f.Z)(function*(y,h=!1){const p=(0,N.m9)(y),v=yield p.getIdToken(h),T=Bs(v);xe(T&&T.exp&&T.auth_time&&T.iat,p.auth,"internal-error");const x="object"==typeof T.firebase?T.firebase:void 0,B=null==x?void 0:x.sign_in_provider;return{claims:T,token:v,authTime:ir(Qa(T.auth_time)),issuedAtTime:ir(Qa(T.iat)),expirationTime:ir(Qa(T.exp)),signInProvider:B||null,signInSecondFactor:(null==x?void 0:x.sign_in_second_factor)||null}})).apply(this,arguments)}function Qa(y){return 1e3*Number(y)}function Bs(y){const[h,p,v]=y.split(".");if(void 0===h||void 0===p||void 0===v)return Mi("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,N.tV)(p);return T?JSON.parse(T):(Mi("Failed to decode base64 JWT payload"),null)}catch(T){return Mi("Caught error parsing JWT payload as JSON",T),null}}function jn(y,h){return xi.apply(this,arguments)}function xi(){return(xi=(0,f.Z)(function*(y,h,p=!1){if(p)return h;try{return yield h}catch(v){throw v instanceof N.ZR&&Yn(v)&&y.auth.currentUser===y&&(yield y.auth.signOut()),v}})).apply(this,arguments)}function Yn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class ws{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const T=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const v=this.getInterval(h);this.timerId=setTimeout((0,f.Z)(function*(){yield p.iteration()}),v)}iteration(){var h=this;return(0,f.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&h.schedule(!0))}h.schedule()})()}}class sc{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=ir(this.lastLoginAt),this.creationTime=ir(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function li(y){return js.apply(this,arguments)}function js(){return(js=(0,f.Z)(function*(y){var h;const p=y.auth,v=yield y.getIdToken(),T=yield jn(y,Sr(p,{idToken:v}));xe(null==T?void 0:T.users.length,p,"internal-error");const x=T.users[0];y._notifyReloadListener(x);const B=(null===(h=x.providerUserInfo)||void 0===h?void 0:h.length)?Gr(x.providerUserInfo):[],re=na(y.providerData,B),et=!!y.isAnonymous&&!(y.email&&x.passwordHash||(null==re?void 0:re.length)),Ze={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:re,metadata:new sc(x.createdAt,x.lastLoginAt),isAnonymous:et};Object.assign(y,Ze)})).apply(this,arguments)}function $n(){return($n=(0,f.Z)(function*(y){const h=(0,N.m9)(y);yield li(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function na(y,h){return[...y.filter(v=>!h.some(T=>T.providerId===v.providerId)),...h]}function Gr(y){return y.map(h=>{var{providerId:p}=h,v=ue(h,["providerId"]);return{providerId:p,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function kt(){return(kt=(0,f.Z)(function*(y,h){const p=yield Qi(y,{},(0,f.Z)(function*(){const v=(0,N.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:T,apiKey:x}=y.config,B=we(y,T,"/v1/token",`key=${x}`),re=yield y._getAdditionalHeaders();return re["Content-Type"]="application/x-www-form-urlencoded",ct.fetch()(B,{method:"POST",headers:re,body:v})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Yt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){xe(h.idToken,"internal-error"),xe(void 0!==h.idToken,"internal-error"),xe(void 0!==h.refreshToken,"internal-error");const p="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function Zn(y){const h=Bs(y);return xe(h,"internal-error"),xe(void 0!==h.exp,"internal-error"),xe(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var v=this;return(0,f.Z)(function*(){return xe(!v.accessToken||v.refreshToken,h,"user-token-expired"),p||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(h,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var v=this;return(0,f.Z)(function*(){const{accessToken:T,refreshToken:x,expiresIn:B}=yield function qe(y,h){return kt.apply(this,arguments)}(h,p);v.updateTokensAndExpiration(T,x,Number(B))})()}updateTokensAndExpiration(h,p,v){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(h,p){const{refreshToken:v,accessToken:T,expirationTime:x}=p,B=new Yt;return v&&(xe("string"==typeof v,"internal-error",{appName:h}),B.refreshToken=v),T&&(xe("string"==typeof T,"internal-error",{appName:h}),B.accessToken=T),x&&(xe("number"==typeof x,"internal-error",{appName:h}),B.expirationTime=x),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Yt,this.toJSON())}_performRefresh(){return rr("not implemented")}}function Tn(y,h){xe("string"==typeof y||void 0===y,"internal-error",{appName:h})}class gr{constructor(h){var{uid:p,auth:v,stsTokenManager:T}=h,x=ue(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new ws(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=v,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.metadata=new sc(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,f.Z)(function*(){const v=yield jn(p,p.stsTokenManager.getToken(p.auth,h));return xe(v,p.auth,"internal-error"),p.accessToken!==v&&(p.accessToken=v,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),v})()}getIdTokenResult(h){return function ic(y){return go.apply(this,arguments)}(this,h)}reload(){return function $s(y){return $n.apply(this,arguments)}(this)}_assign(h){this!==h&&(xe(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new gr(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var v=this;return(0,f.Z)(function*(){let T=!1;h.idToken&&h.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(h),T=!0),p&&(yield li(v)),yield v.auth._persistUserIfCurrent(v),T&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var h=this;return(0,f.Z)(function*(){const p=yield h.getIdToken();return yield jn(h,function vt(y,h){return dn.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var v,T,x,B,re,Le,Ne,et;const Ze=null!==(v=p.displayName)&&void 0!==v?v:void 0,Bt=null!==(T=p.email)&&void 0!==T?T:void 0,ur=null!==(x=p.phoneNumber)&&void 0!==x?x:void 0,Fa=null!==(B=p.photoURL)&&void 0!==B?B:void 0,Au=null!==(re=p.tenantId)&&void 0!==re?re:void 0,dg=null!==(Le=p._redirectEventId)&&void 0!==Le?Le:void 0,hg=null!==(Ne=p.createdAt)&&void 0!==Ne?Ne:void 0,fg=null!==(et=p.lastLoginAt)&&void 0!==et?et:void 0,{uid:of,emailVerified:af,isAnonymous:pg,providerData:Uc,stsTokenManager:yd}=p;xe(of&&yd,h,"internal-error");const My=Yt.fromJSON(this.name,yd);xe("string"==typeof of,h,"internal-error"),Tn(Ze,h.name),Tn(Bt,h.name),xe("boolean"==typeof af,h,"internal-error"),xe("boolean"==typeof pg,h,"internal-error"),Tn(ur,h.name),Tn(Fa,h.name),Tn(Au,h.name),Tn(dg,h.name),Tn(hg,h.name),Tn(fg,h.name);const _d=new gr({uid:of,auth:h,email:Bt,emailVerified:af,displayName:Ze,isAnonymous:pg,photoURL:Fa,phoneNumber:ur,tenantId:Au,stsTokenManager:My,createdAt:hg,lastLoginAt:fg});return Uc&&Array.isArray(Uc)&&(_d.providerData=Uc.map(xy=>Object.assign({},xy))),dg&&(_d._redirectEventId=dg),_d}static _fromIdTokenResponse(h,p,v=!1){return(0,f.Z)(function*(){const T=new Yt;T.updateFromServerResponse(p);const x=new gr({uid:p.localId,auth:h,stsTokenManager:T,isAnonymous:v});return yield li(x),x})()}}const Mr=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(p,v){var T=this;return(0,f.Z)(function*(){T.storage[p]=v})()}_get(p){var v=this;return(0,f.Z)(function*(){const T=v.storage[p];return void 0===T?null:T})()}_remove(p){var v=this;return(0,f.Z)(function*(){delete v.storage[p]})()}_addListener(p,v){}_removeListener(p,v){}}return y.type="NONE",y})();function Wt(y,h,p){return`firebase:${y}:${h}:${p}`}class di{constructor(h,p,v){this.persistence=h,this.auth=p,this.userKey=v;const{config:T,name:x}=this.auth;this.fullUserKey=Wt(this.userKey,T.apiKey,x),this.fullPersistenceKey=Wt("persistence",T.apiKey,x),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,f.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?gr._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,f.Z)(function*(){if(p.persistence===h)return;const v=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,v?p.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,v="authUser"){return(0,f.Z)(function*(){if(!p.length)return new di(Zt(Mr),h,v);const T=(yield Promise.all(p.map(function(){var Ne=(0,f.Z)(function*(et){if(yield et._isAvailable())return et});return function(et){return Ne.apply(this,arguments)}}()))).filter(Ne=>Ne);let x=T[0]||Zt(Mr);const B=Wt(v,h.config.apiKey,h.name);let re=null;for(const Ne of p)try{const et=yield Ne._get(B);if(et){const Ze=gr._fromJSON(h,et);Ne!==x&&(re=Ze),x=Ne;break}}catch(et){}const Le=T.filter(Ne=>Ne._shouldAllowMigration);return x._shouldAllowMigration&&Le.length?(x=Le[0],re&&(yield x._set(B,re.toJSON())),yield Promise.all(p.map(function(){var Ne=(0,f.Z)(function*(et){if(et!==x)try{yield et._remove(B)}catch(Ze){}});return function(et){return Ne.apply(this,arguments)}}())),new di(x,h,v)):new di(x,h,v)})()}}function An(y){const h=y.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(ra(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(At(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Sn(h))return"Blackberry";if(yo(h))return"Webos";if(mo(h))return"Safari";if((h.includes("chrome/")||Ds(h))&&!h.includes("edge/"))return"Chrome";if(ki(h))return"Android";{const v=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function At(y=(0,N.z$)()){return/firefox\//i.test(y)}function mo(y=(0,N.z$)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Ds(y=(0,N.z$)()){return/crios\//i.test(y)}function ra(y=(0,N.z$)()){return/iemobile/i.test(y)}function ki(y=(0,N.z$)()){return/android/i.test(y)}function Sn(y=(0,N.z$)()){return/blackberry/i.test(y)}function yo(y=(0,N.z$)()){return/webos/i.test(y)}function Oi(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)}function _o(y=(0,N.z$)()){return Oi(y)||ki(y)||yo(y)||Sn(y)||/windows phone/i.test(y)||ra(y)}function fi(y,h=[]){let p;switch(y){case"Browser":p=An((0,N.z$)());break;case"Worker":p=`${An((0,N.z$)())}-${y}`;break;default:p=y}const v=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${ae.SDK_VERSION}/${v}`}class wl{constructor(h,p){this.app=h,this.config=p,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ji(this),this.idTokenSubscription=new Ji(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ci,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=p.sdkClientVersion}_initializeWithPersistence(h,p){var v=this;return p&&(this._popupRedirectResolver=Zt(p)),this._initializationPromise=this.queue((0,f.Z)(function*(){var T,x;if(!v._deleted&&(v.persistenceManager=yield di.create(v,h),!v._deleted)){if(null===(T=v._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch(B){}yield v.initializeCurrentUser(p),v.lastNotifiedUid=(null===(x=v.currentUser)||void 0===x?void 0:x.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,f.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p)}})()}initializeCurrentUser(h){var p=this;return(0,f.Z)(function*(){var v;let T=yield p.assertedPersistence.getCurrentUser();if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const x=null===(v=p.redirectUser)||void 0===v?void 0:v._redirectEventId,B=null==T?void 0:T._redirectEventId,re=yield p.tryRedirectSignIn(h);(!x||x===B)&&(null==re?void 0:re.user)&&(T=re.user)}return T?T._redirectEventId?(xe(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===T._redirectEventId?p.directlySetCurrentUser(T):p.reloadAndSetCurrentUserOrClear(T)):p.reloadAndSetCurrentUserOrClear(T):p.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var p=this;return(0,f.Z)(function*(){let v=null;try{v=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch(T){yield p._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,f.Z)(function*(){try{yield li(h)}catch(v){if("auth/network-request-failed"!==v.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Hr(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var h=this;return(0,f.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,f.Z)(function*(){const v=h?(0,N.m9)(h):null;return v&&xe(v.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(v&&v._clone(p))})()}_updateCurrentUser(h){var p=this;return(0,f.Z)(function*(){if(!p._deleted)return h&&xe(p.tenantId===h.tenantId,p,"tenant-id-mismatch"),p.queue((0,f.Z)(function*(){yield p.directlySetCurrentUser(h),p.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,f.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var p=this;return this.queue((0,f.Z)(function*(){yield p.assertedPersistence.setPersistence(Zt(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new N.LL("auth","Firebase",h())}onAuthStateChanged(h,p,v){return this.registerStateListener(this.authStateSubscription,h,p,v)}onIdTokenChanged(h,p,v){return this.registerStateListener(this.idTokenSubscription,h,p,v)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var v=this;return(0,f.Z)(function*(){const T=yield v.getOrInitRedirectPersistenceManager(p);return null===h?T.removeCurrentUser():T.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,f.Z)(function*(){if(!p.redirectPersistenceManager){const v=h&&Zt(h)||p._popupRedirectResolver;xe(v,p,"argument-error"),p.redirectPersistenceManager=yield di.create(p,[Zt(v._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,f.Z)(function*(){var v,T;return p._isInitialized&&(yield p.queue((0,f.Z)(function*(){}))),(null===(v=p._currentUser)||void 0===v?void 0:v._redirectEventId)===h?p._currentUser:(null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,f.Z)(function*(){if(h===p.currentUser)return p.queue((0,f.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,v,T){if(this._deleted)return()=>{};const x="function"==typeof p?p:p.next.bind(p),B=this._isInitialized?Promise.resolve():this._initializationPromise;return xe(B,this,"internal-error"),B.then(()=>x(this.currentUser)),"function"==typeof p?h.addObserver(p,v,T):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,f.Z)(function*(){p.currentUser&&p.currentUser!==h&&(p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh()),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=fi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,f.Z)(function*(){const p={"X-Client-Version":h.clientVersion};return h.app.options.appId&&(p["X-Firebase-gmpid"]=h.app.options.appId),p})()}}function On(y){return(0,N.m9)(y)}class Ji{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,N.ne)(p=>this.observer=p)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function oc(y){const h=y.indexOf(":");return h<0?"":y.substr(0,h+1)}function vh(y){if(!y)return null;const h=Number(y);return isNaN(h)?null:h}class ia{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return rr("not implemented")}_getIdTokenResponse(h){return rr("not implemented")}_linkToIdToken(h,p){return rr("not implemented")}_getReauthenticationResolver(h){return rr("not implemented")}}function Eh(y,h){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,f.Z)(function*(y,h){return yn(y,"POST","/v1/accounts:resetPassword",gt(y,h))})).apply(this,arguments)}function bh(y,h){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,f.Z)(function*(y,h){return yn(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function xp(y,h){return sa.apply(this,arguments)}function sa(){return(sa=(0,f.Z)(function*(y,h){return yn(y,"POST","/v1/accounts:update",gt(y,h))})).apply(this,arguments)}function Il(){return(Il=(0,f.Z)(function*(y,h){return G(y,"POST","/v1/accounts:signInWithPassword",gt(y,h))})).apply(this,arguments)}function ac(y,h){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,f.Z)(function*(y,h){return yn(y,"POST","/v1/accounts:sendOobCode",gt(y,h))})).apply(this,arguments)}function kp(y,h){return Al.apply(this,arguments)}function Al(){return(Al=(0,f.Z)(function*(y,h){return ac(y,h)})).apply(this,arguments)}function Op(y,h){return uc.apply(this,arguments)}function uc(){return(uc=(0,f.Z)(function*(y,h){return ac(y,h)})).apply(this,arguments)}function oa(y,h){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,f.Z)(function*(y,h){return ac(y,h)})).apply(this,arguments)}function cc(y,h){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,f.Z)(function*(y,h){return ac(y,h)})).apply(this,arguments)}function Ja(){return(Ja=(0,f.Z)(function*(y,h){return G(y,"POST","/v1/accounts:signInWithEmailLink",gt(y,h))})).apply(this,arguments)}function Gs(){return(Gs=(0,f.Z)(function*(y,h){return G(y,"POST","/v1/accounts:signInWithEmailLink",gt(y,h))})).apply(this,arguments)}class ua extends ia{constructor(h,p,v,T=null){super("password",v),this._email=h,this._password=p,this._tenantId=T}static _fromEmailAndPassword(h,p){return new ua(h,p,"password")}static _fromEmailAndCode(h,p,v=null){return new ua(h,p,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,f.Z)(function*(){switch(p.signInMethod){case"password":return function vo(y,h){return Il.apply(this,arguments)}(h,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function Hs(y,h){return Ja.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:Gt(h,"internal-error")}})()}_linkToIdToken(h,p){var v=this;return(0,f.Z)(function*(){switch(v.signInMethod){case"password":return bh(h,{idToken:p,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function aa(y,h){return Gs.apply(this,arguments)}(h,{idToken:p,email:v._email,oobCode:v._password});default:Gt(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Cs(y,h){return ca.apply(this,arguments)}function ca(){return(ca=(0,f.Z)(function*(y,h){return G(y,"POST","/v1/accounts:signInWithIdp",gt(y,h))})).apply(this,arguments)}class mr extends ia{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new mr(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):Gt("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:T}=p,x=ue(p,["providerId","signInMethod"]);if(!v||!T)return null;const B=new mr(v,T);return B.idToken=x.idToken||void 0,B.accessToken=x.accessToken||void 0,B.secret=x.secret,B.nonce=x.nonce,B.pendingToken=x.pendingToken||null,B}_getIdTokenResponse(h){return Cs(h,this.buildRequest())}_linkToIdToken(h,p){const v=this.buildRequest();return v.idToken=p,Cs(h,v)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Cs(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,N.xO)(p)}return h}}function gi(y,h){return lc.apply(this,arguments)}function lc(){return(lc=(0,f.Z)(function*(y,h){return yn(y,"POST","/v1/accounts:sendVerificationCode",gt(y,h))})).apply(this,arguments)}function la(){return(la=(0,f.Z)(function*(y,h){return G(y,"POST","/v1/accounts:signInWithPhoneNumber",gt(y,h))})).apply(this,arguments)}function Xa(){return(Xa=(0,f.Z)(function*(y,h){const p=yield G(y,"POST","/v1/accounts:signInWithPhoneNumber",gt(y,h));if(p.temporaryProof)throw Ge(y,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Ol={USER_NOT_FOUND:"user-not-found"};function Rl(){return(Rl=(0,f.Z)(function*(y,h){return G(y,"POST","/v1/accounts:signInWithPhoneNumber",gt(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Ol)})).apply(this,arguments)}class Jt extends ia{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new Jt({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new Jt({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function kr(y,h){return la.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function kl(y,h){return Xa.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function dc(y,h){return Rl.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:v,verificationCode:T}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:v,code:T}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:v,phoneNumber:T,temporaryProof:x}=h;return v||p||T||x?new Jt({verificationId:p,verificationCode:v,phoneNumber:T,temporaryProof:x}):null}}class un{constructor(h){var p,v,T,x,B,re;const Le=(0,N.zd)((0,N.pd)(h)),Ne=null!==(p=Le.apiKey)&&void 0!==p?p:null,et=null!==(v=Le.oobCode)&&void 0!==v?v:null,Ze=function Is(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Le.mode)&&void 0!==T?T:null);xe(Ne&&et&&Ze,"argument-error"),this.apiKey=Ne,this.operation=Ze,this.code=et,this.continueUrl=null!==(x=Le.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(B=Le.languageCode)&&void 0!==B?B:null,this.tenantId=null!==(re=Le.tenantId)&&void 0!==re?re:null}static parseLink(h){const p=function Nl(y){const h=(0,N.zd)((0,N.pd)(y)).link,p=h?(0,N.zd)((0,N.pd)(h)).deep_link_id:null,v=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(v?(0,N.zd)((0,N.pd)(v)).link:null)||v||p||h||y}(h);try{return new un(p)}catch(v){return null}}}let Eo=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(p,v){return ua._fromEmailAndPassword(p,v)}static credentialWithLink(p,v){const T=un.parseLink(v);return xe(T,"argument-error"),ua._fromEmailAndCode(p,T.code,T.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Gn{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Rn extends Gn{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Xi extends Rn{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return xe("providerId"in p&&"signInMethod"in p,"argument-error"),mr._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return xe(h.idToken||h.accessToken,"argument-error"),mr._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Xi.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Xi.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:v,oauthTokenSecret:T,pendingToken:x,nonce:B,providerId:re}=h;if(!v&&!T&&!p&&!x||!re)return null;try{return new Xi(re)._credential({idToken:p,accessToken:v,nonce:B,pendingToken:x})}catch(Le){return null}}}let bo=(()=>{class y extends Rn{constructor(){super("facebook.com")}static credential(p){return mr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch(v){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Ni=(()=>{class y extends Rn{constructor(){super("google.com"),this.addScope("profile")}static credential(p,v){return mr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:v})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:v,oauthAccessToken:T}=p;if(!v&&!T)return null;try{return y.credential(v,T)}catch(x){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Or=(()=>{class y extends Rn{constructor(){super("github.com")}static credential(p){return mr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch(v){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Pi extends ia{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return Cs(h,this.buildRequest())}_linkToIdToken(h,p){const v=this.buildRequest();return v.idToken=p,Cs(h,v)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Cs(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:T,pendingToken:x}=p;return v&&T&&x&&v===T?new Pi(v,x):null}static _create(h,p){return new Pi(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Rr extends Gn{constructor(h){xe(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Rr.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Rr.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=Pi.fromJSON(h);return xe(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:v}=h;if(!p||!v)return null;try{return Pi._create(v,p)}catch(T){return null}}}let Ts=(()=>{class y extends Rn{constructor(){super("twitter.com")}static credential(p,v){return mr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:v})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:v,oauthTokenSecret:T}=p;if(!v||!T)return null;try{return y.credential(v,T)}catch(x){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function wo(y,h){return mt.apply(this,arguments)}function mt(){return(mt=(0,f.Z)(function*(y,h){return G(y,"POST","/v1/accounts:signUp",gt(y,h))})).apply(this,arguments)}class Qn{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,v,T=!1){return(0,f.Z)(function*(){const x=yield gr._fromIdTokenResponse(h,v,T),B=da(v);return new Qn({user:x,providerId:B,_tokenResponse:v,operationType:p})})()}static _forOperation(h,p,v){return(0,f.Z)(function*(){yield h._updateTokensIfNecessary(v,!0);const T=da(v);return new Qn({user:h,providerId:T,_tokenResponse:v,operationType:p})})()}}function da(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Do(){return(Do=(0,f.Z)(function*(y){var h;const p=On(y);if(yield p._initializationPromise,null===(h=p.currentUser)||void 0===h?void 0:h.isAnonymous)return new Qn({user:p.currentUser,providerId:null,operationType:"signIn"});const v=yield wo(p,{returnSecureToken:!0}),T=yield Qn._fromIdTokenResponse(p,"signIn",v,!0);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class Co extends N.ZR{constructor(h,p,v,T){var x;super(p.code,p.message),this.operationType=v,this.user=T,Object.setPrototypeOf(this,Co.prototype),this.customData={appName:h.name,tenantId:null!==(x=h.tenantId)&&void 0!==x?x:void 0,_serverResponse:p.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(h,p,v,T){return new Co(h,p,v,T)}}function fc(y,h,p,v){return("reauthenticate"===h?p._getReauthenticationResolver(y):p._getIdTokenResponse(y)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?Co._fromErrorAndOperation(y,x,h,v):x})}function eu(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function Pt(){return(Pt=(0,f.Z)(function*(y,h){const p=(0,N.m9)(y);yield qs(!0,p,h);const{providerUserInfo:v}=yield Bn(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),T=eu(v||[]);return p.providerData=p.providerData.filter(x=>T.has(x.providerId)),T.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function tu(y,h){return cn.apply(this,arguments)}function cn(){return(cn=(0,f.Z)(function*(y,h,p=!1){const v=yield jn(y,h._linkToIdToken(y.auth,yield y.getIdToken()),p);return Qn._forOperation(y,"link",v)})).apply(this,arguments)}function qs(y,h,p){return As.apply(this,arguments)}function As(){return(As=(0,f.Z)(function*(y,h,p){yield li(h);const T=!1===y?"provider-already-linked":"no-such-provider";xe(eu(h.providerData).has(p)===y,h.auth,T)})).apply(this,arguments)}function Nr(y,h){return es.apply(this,arguments)}function es(){return(es=(0,f.Z)(function*(y,h,p=!1){const{auth:v}=y,T="reauthenticate";try{const x=yield jn(y,fc(v,T,h,y),p);xe(x.idToken,v,"internal-error");const B=Bs(x.idToken);xe(B,v,"internal-error");const{sub:re}=B;return xe(y.uid===re,v,"user-mismatch"),Qn._forOperation(y,T,x)}catch(x){throw"auth/user-not-found"===(null==x?void 0:x.code)&&Gt(v,"user-mismatch"),x}})).apply(this,arguments)}function nu(y,h){return ru.apply(this,arguments)}function ru(){return(ru=(0,f.Z)(function*(y,h,p=!1){const v="signIn",T=yield fc(y,v,h),x=yield Qn._fromIdTokenResponse(y,v,T);return p||(yield y._updateCurrentUser(x.user)),x})).apply(this,arguments)}function iu(y,h){return Io.apply(this,arguments)}function Io(){return(Io=(0,f.Z)(function*(y,h){return nu(On(y),h)})).apply(this,arguments)}function fa(y,h){return zn.apply(this,arguments)}function zn(){return(zn=(0,f.Z)(function*(y,h){const p=(0,N.m9)(y);return yield qs(!1,p,h.providerId),tu(p,h)})).apply(this,arguments)}function mi(y,h){return su.apply(this,arguments)}function su(){return(su=(0,f.Z)(function*(y,h){return Nr((0,N.m9)(y),h)})).apply(this,arguments)}function ts(y,h){return yi.apply(this,arguments)}function yi(){return(yi=(0,f.Z)(function*(y,h){return G(y,"POST","/v1/accounts:signInWithCustomToken",gt(y,h))})).apply(this,arguments)}function To(){return(To=(0,f.Z)(function*(y,h){const p=On(y),v=yield ts(p,{token:h,returnSecureToken:!0}),T=yield Qn._fromIdTokenResponse(p,"signIn",v);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class ou{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?pa._fromServerResponse(h,p):Gt(h,"internal-error")}}class pa extends ou{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new pa(p)}}function Ao(y,h,p){var v;xe((null===(v=p.url)||void 0===v?void 0:v.length)>0,y,"invalid-continue-uri"),xe(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(xe(p.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(xe(p.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function ma(){return(ma=(0,f.Z)(function*(y,h,p){const v=(0,N.m9)(y),T={requestType:"PASSWORD_RESET",email:h};p&&Ao(v,T,p),yield Op(v,T)})).apply(this,arguments)}function au(){return(au=(0,f.Z)(function*(y,h,p){yield Eh((0,N.m9)(y),{oobCode:h,newPassword:p})})).apply(this,arguments)}function So(){return(So=(0,f.Z)(function*(y,h){yield xp((0,N.m9)(y),{oobCode:h})})).apply(this,arguments)}function Fl(y,h){return _a.apply(this,arguments)}function _a(){return(_a=(0,f.Z)(function*(y,h){const p=(0,N.m9)(y),v=yield Eh(p,{oobCode:h}),T=v.requestType;switch(xe(T,p,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":xe(v.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":xe(v.mfaInfo,p,"internal-error");default:xe(v.email,p,"internal-error")}let x=null;return v.mfaInfo&&(x=ou._fromServerResponse(On(p),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:x},operation:T}})).apply(this,arguments)}function va(){return(va=(0,f.Z)(function*(y,h){const{data:p}=yield Fl((0,N.m9)(y),h);return p.email})).apply(this,arguments)}function Ll(){return(Ll=(0,f.Z)(function*(y,h,p){const v=On(y),T=yield wo(v,{returnSecureToken:!0,email:h,password:p}),x=yield Qn._fromIdTokenResponse(v,"signIn",T);return yield v._updateCurrentUser(x.user),x})).apply(this,arguments)}function Nn(){return(Nn=(0,f.Z)(function*(y,h,p){const v=(0,N.m9)(y),T={requestType:"EMAIL_SIGNIN",email:h};xe(p.handleCodeInApp,v,"argument-error"),p&&Ao(v,T,p),yield oa(v,T)})).apply(this,arguments)}function Ea(){return(Ea=(0,f.Z)(function*(y,h,p){const v=(0,N.m9)(y),T=Eo.credentialWithLink(h,p||pt());return xe(T._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),iu(v,T)})).apply(this,arguments)}function Vl(y,h){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,f.Z)(function*(y,h){return yn(y,"POST","/v1/accounts:createAuthUri",gt(y,h))})).apply(this,arguments)}function Ch(){return(Ch=(0,f.Z)(function*(y,h){const v={identifier:h,continueUri:nt()?pt():"http://localhost"},{signinMethods:T}=yield Vl((0,N.m9)(y),v);return T||[]})).apply(this,arguments)}function Ss(){return(Ss=(0,f.Z)(function*(y,h){const p=(0,N.m9)(y),T={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&Ao(p.auth,T,h);const{email:x}=yield kp(p.auth,T);x!==y.email&&(yield y.reload())})).apply(this,arguments)}function du(){return(du=(0,f.Z)(function*(y,h,p){const v=(0,N.m9)(y),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};p&&Ao(v.auth,x,p);const{email:B}=yield cc(v.auth,x);B!==y.email&&(yield y.reload())})).apply(this,arguments)}function Ih(y,h){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,f.Z)(function*(y,h){return yn(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function vn(){return(vn=(0,f.Z)(function*(y,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const v=(0,N.m9)(y),x={idToken:yield v.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},B=yield jn(v,Ih(v.auth,x));v.displayName=B.displayName||null,v.photoURL=B.photoUrl||null;const re=v.providerData.find(({providerId:Le})=>"password"===Le);re&&(re.displayName=v.displayName,re.photoURL=v.photoURL),yield v._updateTokensIfNecessary(B)})).apply(this,arguments)}function ba(y,h,p){return hu.apply(this,arguments)}function hu(){return(hu=(0,f.Z)(function*(y,h,p){const{auth:v}=y,x={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(x.email=h),p&&(x.password=p);const B=yield jn(y,bh(v,x));yield y._updateTokensIfNecessary(B,!0)})).apply(this,arguments)}class wa{constructor(h,p,v={}){this.isNewUser=h,this.providerId=p,this.profile=v}}class $l extends wa{constructor(h,p,v,T){super(h,p,v),this.username=T}}class Pp extends wa{constructor(h,p){super(h,"facebook.com",p)}}class yc extends $l{constructor(h,p){super(h,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class gn extends wa{constructor(h,p){super(h,"google.com",p)}}class yr extends $l{constructor(h,p,v){super(h,"twitter.com",p,v)}}function sr(y){const{user:h,_tokenResponse:p}=y;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function jl(y){var h,p;if(!y)return null;const{providerId:v}=y,T=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},x=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!v&&(null==y?void 0:y.idToken)){const B=null===(p=null===(h=Bs(y.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(B)return new wa(x,"anonymous"!==B&&"custom"!==B?B:null)}if(!v)return null;switch(v){case"facebook.com":return new Pp(x,T);case"github.com":return new yc(x,T);case"google.com":return new gn(x,T);case"twitter.com":return new yr(x,T,y.screenName||null);case"custom":case"anonymous":return new wa(x,null);default:return new wa(x,v,T)}}(p)}class bt{constructor(h,p){this.type=h,this.credential=p}static _fromIdtoken(h){return new bt("enroll",h)}static _fromMfaPendingCredential(h){return new bt("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,v;if(null==h?void 0:h.multiFactorSession){if(null===(p=h.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return bt._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(v=h.multiFactorSession)||void 0===v?void 0:v.idToken)return bt._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Ia{constructor(h,p,v){this.session=h,this.hints=p,this.signInResolver=v}static _fromError(h,p){const v=On(h),T=p.customData._serverResponse,x=(T.mfaInfo||[]).map(re=>ou._fromServerResponse(v,re));xe(T.mfaPendingCredential,v,"internal-error");const B=bt._fromMfaPendingCredential(T.mfaPendingCredential);return new Ia(B,x,function(){var re=(0,f.Z)(function*(Le){const Ne=yield Le._process(v,B);delete T.mfaInfo,delete T.mfaPendingCredential;const et=Object.assign(Object.assign({},T),{idToken:Ne.idToken,refreshToken:Ne.refreshToken});switch(p.operationType){case"signIn":const Ze=yield Qn._fromIdTokenResponse(v,p.operationType,et);return yield v._updateCurrentUser(Ze.user),Ze;case"reauthenticate":return xe(p.user,v,"internal-error"),Qn._forOperation(p.user,p.operationType,et);default:Gt(v,"internal-error")}});return function(Le){return re.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,f.Z)(function*(){return p.signInResolver(h)})()}}function Gl(y,h){return yn(y,"POST","/v2/accounts/mfaEnrollment:start",gt(y,h))}class ko{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(v=>ou._fromServerResponse(h.auth,v)))})}static _fromUser(h){return new ko(h)}getSession(){var h=this;return(0,f.Z)(function*(){return bt._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,p){var v=this;return(0,f.Z)(function*(){const T=h,x=yield v.getSession(),B=yield jn(v.user,T._process(v.user.auth,x,p));return yield v.user._updateTokensIfNecessary(B),v.user.reload()})()}unenroll(h){var p=this;return(0,f.Z)(function*(){const v="string"==typeof h?h:h.uid,T=yield p.user.getIdToken(),x=yield jn(p.user,function vc(y,h){return yn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",gt(y,h))}(p.user.auth,{idToken:T,mfaEnrollmentId:v}));p.enrolledFactors=p.enrolledFactors.filter(({uid:B})=>B!==v),yield p.user._updateTokensIfNecessary(x);try{yield p.user.reload()}catch(B){if("auth/user-token-expired"!==B.code)throw B}})()}}const Pr=new WeakMap,Oo="__sak";class fu{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Oo,"1"),this.storage.removeItem(Oo),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Jr=(()=>{class y extends fu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,v)=>this.onStorageEvent(p,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Li(){const y=(0,N.z$)();return mo(y)||Oi(y)}()&&function hi(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=_o(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const v of Object.keys(this.listeners)){const T=this.storage.getItem(v),x=this.localCache[v];T!==x&&p(v,x,T)}}onStorageEvent(p,v=!1){if(!p.key)return void this.forAllChangedKeys((re,Le,Ne)=>{this.notifyListeners(re,Ne)});const T=p.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const re=this.storage.getItem(T);if(p.newValue!==re)null!==p.newValue?this.storage.setItem(T,p.newValue):this.storage.removeItem(T);else if(this.localCache[T]===p.newValue&&!v)return}const x=()=>{const re=this.storage.getItem(T);!v&&this.localCache[T]===re||this.notifyListeners(T,re)},B=this.storage.getItem(T);!function bl(){return(0,N.w1)()&&10===document.documentMode}()||B===p.newValue||p.newValue===p.oldValue?x():setTimeout(x,10)}notifyListeners(p,v){this.localCache[p]=v;const T=this.listeners[p];if(T)for(const x of Array.from(T))x(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,v,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:v,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,v){var T=()=>super._set,x=this;return(0,f.Z)(function*(){yield T().call(x,p,v),x.localCache[p]=JSON.stringify(v)})()}_get(p){var v=()=>super._get,T=this;return(0,f.Z)(function*(){const x=yield v().call(T,p);return T.localCache[p]=JSON.stringify(x),x})()}_remove(p){var v=()=>super._remove,T=this;return(0,f.Z)(function*(){yield v().call(T,p),delete T.localCache[p]})()}}return y.type="LOCAL",y})(),qt=(()=>{class y extends fu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,v){}_removeListener(p,v){}}return y.type="SESSION",y})();let Mh=(()=>{class y{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const v=this.receivers.find(x=>x.isListeningto(p));if(v)return v;const T=new y(p);return this.receivers.push(T),T}isListeningto(p){return this.eventTarget===p}handleEvent(p){var v=this;return(0,f.Z)(function*(){const T=p,{eventId:x,eventType:B,data:re}=T.data,Le=v.handlersMap[B];if(!(null==Le?void 0:Le.size))return;T.ports[0].postMessage({status:"ack",eventId:x,eventType:B});const Ne=Array.from(Le).map(function(){var Ze=(0,f.Z)(function*(Bt){return Bt(T.origin,re)});return function(Bt){return Ze.apply(this,arguments)}}()),et=yield function Vi(y){return Promise.all(y.map(function(){var h=(0,f.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(v){return{fulfilled:!1,reason:v}}});return function(p){return h.apply(this,arguments)}}()))}(Ne);T.ports[0].postMessage({status:"done",eventId:x,eventType:B,response:et})})()}_subscribe(p,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(v)}_unsubscribe(p,v){this.handlersMap[p]&&v&&this.handlersMap[p].delete(v),(!v||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Aa(y="",h=10){let p="";for(let v=0;v<h;v++)p+=Math.floor(10*Math.random());return y+p}class zs{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,v=50){var T=this;return(0,f.Z)(function*(){const x="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let B,re;return new Promise((Le,Ne)=>{const et=Aa("",20);x.port1.start();const Ze=setTimeout(()=>{Ne(new Error("unsupported_event"))},v);re={messageChannel:x,onMessage(Bt){const ur=Bt;if(ur.data.eventId===et)switch(ur.data.status){case"ack":clearTimeout(Ze),B=setTimeout(()=>{Ne(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),Le(ur.data.response);break;default:clearTimeout(Ze),clearTimeout(B),Ne(new Error("invalid_response"))}}},T.handlers.add(re),x.port1.addEventListener("message",re.onMessage),T.target.postMessage({eventType:h,eventId:et,data:p},[x.port2])}).finally(()=>{re&&T.removeMessageHandler(re)})})()}}function bn(){return window}function Po(){return void 0!==bn().WorkerGlobalScope&&"function"==typeof bn().importScripts}function is(){return(is=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Ui="firebaseLocalStorageDb",Fo="firebaseLocalStorage",ql="fbase_key";class tn{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function pu(y,h){return y.transaction([Fo],h?"readwrite":"readonly").objectStore(Fo)}function zl(){const y=indexedDB.open(Ui,1);return new Promise((h,p)=>{y.addEventListener("error",()=>{p(y.error)}),y.addEventListener("upgradeneeded",()=>{const v=y.result;try{v.createObjectStore(Fo,{keyPath:ql})}catch(T){p(T)}}),y.addEventListener("success",(0,f.Z)(function*(){const v=y.result;v.objectStoreNames.contains(Fo)?h(v):(v.close(),yield function Dc(){const y=indexedDB.deleteDatabase(Ui);return new tn(y).toPromise()}(),h(yield zl()))}))})}function Wl(y,h,p){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,f.Z)(function*(y,h,p){const v=pu(y,!0).put({[ql]:h,value:p});return new tn(v).toPromise()})).apply(this,arguments)}function Cc(){return(Cc=(0,f.Z)(function*(y,h){const p=pu(y,!1).get(h),v=yield new tn(p).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Ms(y,h){const p=pu(y,!0).delete(h);return new tn(p).toPromise()}const _i=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,f.Z)(function*(){return p.db||(p.db=yield zl()),p.db})()}_withRetries(p){var v=this;return(0,f.Z)(function*(){let T=0;for(;;)try{const x=yield v._openDb();return yield p(x)}catch(x){if(T++>3)throw x;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,f.Z)(function*(){return Po()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,f.Z)(function*(){p.receiver=Mh._getInstance(function wc(){return Po()?self:null}()),p.receiver._subscribe("keyChanged",function(){var v=(0,f.Z)(function*(T,x){return{keyProcessed:(yield p._poll()).includes(x.key)}});return function(T,x){return v.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var v=(0,f.Z)(function*(T,x){return["keyChanged"]});return function(T,x){return v.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,f.Z)(function*(){var v,T;if(p.activeServiceWorker=yield function rs(){return is.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new zs(p.activeServiceWorker);const x=yield p.sender._send("ping",{},800);!x||(null===(v=x[0])||void 0===v?void 0:v.fulfilled)&&(null===(T=x[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var v=this;return(0,f.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function ss(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:p},v.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const p=yield zl();return yield Wl(p,Oo,"1"),yield Ms(p,Oo),!0}catch(p){}return!1})()}_withPendingWrite(p){var v=this;return(0,f.Z)(function*(){v.pendingWrites++;try{yield p()}finally{v.pendingWrites--}})()}_set(p,v){var T=this;return(0,f.Z)(function*(){return T._withPendingWrite((0,f.Z)(function*(){return yield T._withRetries(x=>Wl(x,p,v)),T.localCache[p]=v,T.notifyServiceWorker(p)}))})()}_get(p){var v=this;return(0,f.Z)(function*(){const T=yield v._withRetries(x=>function xh(y,h){return Cc.apply(this,arguments)}(x,p));return v.localCache[p]=T,T})()}_remove(p){var v=this;return(0,f.Z)(function*(){return v._withPendingWrite((0,f.Z)(function*(){return yield v._withRetries(T=>Ms(T,p)),delete v.localCache[p],v.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,f.Z)(function*(){const v=yield p._withRetries(B=>{const re=pu(B,!1).getAll();return new tn(re).toPromise()});if(!v)return[];if(0!==p.pendingWrites)return[];const T=[],x=new Set;for(const{fbase_key:B,value:re}of v)x.add(B),JSON.stringify(p.localCache[B])!==JSON.stringify(re)&&(p.notifyListeners(B,re),T.push(B));for(const B of Object.keys(p.localCache))p.localCache[B]&&!x.has(B)&&(p.notifyListeners(B,null),T.push(B));return T})()}notifyListeners(p,v){this.localCache[p]=v;const T=this.listeners[p];if(T)for(const x of Array.from(T))x(v)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function kh(y,h){return yn(y,"POST","/v2/accounts/mfaSignIn:start",gt(y,h))}function hn(){return(hn=(0,f.Z)(function*(y){return(yield yn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function gu(y){return new Promise((h,p)=>{const v=document.createElement("script");v.setAttribute("src",y),v.onload=h,v.onerror=T=>{const x=mn("internal-error");x.customData=T,p(x)},v.type="text/javascript",v.charset="UTF-8",function Ic(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(v)})}function Ma(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Ks=1e12;class xa{constructor(h){this.auth=h,this.counter=Ks,this._widgets=new Map}render(h,p){const v=this.counter;return this._widgets.set(v,new Rh(h,this.auth.name,p||{})),this.counter++,v}reset(h){var p;const v=h||Ks;null===(p=this._widgets.get(v))||void 0===p||p.delete(),this._widgets.delete(v)}getResponse(h){var p;return(null===(p=this._widgets.get(h||Ks))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,f.Z)(function*(){var v;return null===(v=p._widgets.get(h||Ks))||void 0===v||v.execute(),""})()}}class Rh{constructor(h,p,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof h?document.getElementById(h):h;xe(T,"argument-error",{appName:p}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Lo(y){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<y;v++)h.push(p.charAt(Math.floor(Math.random()*p.length)));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const or=Ma("rcb"),mu=new Rt(3e4,6e4);class RE{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!bn().grecaptcha}load(h,p=""){return xe(function Fp(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(p),h,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(bn().grecaptcha):new Promise((v,T)=>{const x=bn().setTimeout(()=>{T(mn(h,"network-request-failed"))},mu.get());bn()[or]=()=>{bn().clearTimeout(x),delete bn()[or];const re=bn().grecaptcha;if(!re)return void T(mn(h,"internal-error"));const Le=re.render;re.render=(Ne,et)=>{const Ze=Le(Ne,et);return this.counter++,Ze},this.hostLanguage=p,v(re)},gu(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:or,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(x),T(mn(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!bn().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class oy{load(h){return(0,f.Z)(function*(){return new xa(h)})()}clearedOneInstance(){}}const Nh="recaptcha",Ph={theme:"light",type:"image"};class Ys{constructor(h,p=Object.assign({},Ph),v){this.parameters=p,this.type=Nh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=On(v),this.isInvisible="invisible"===this.parameters.size,xe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof h?document.getElementById(h):h;xe(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new oy:new RE,this.validateStartingState()}verify(){var h=this;return(0,f.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),v=h.getAssertedRecaptcha();return v.getResponse(p)||new Promise(x=>{const B=re=>{!re||(h.tokenChangeListeners.delete(B),x(re))};h.tokenChangeListeners.add(B),h.isInvisible&&v.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){xe(!this.parameters.sitekey,this.auth,"argument-error"),xe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),xe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(v=>v(p)),"function"==typeof h)h(p);else if("string"==typeof h){const v=bn()[h];"function"==typeof v&&v(p)}}}assertNotDestroyed(){xe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,f.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const v=document.createElement("div");p.appendChild(v),p=v}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,f.Z)(function*(){xe(nt()&&!Po(),h.auth,"internal-error"),yield function Ql(){let y=null;return new Promise(h=>{"complete"!==document.readyState?(y=()=>h(),window.addEventListener("load",y)):h()}).catch(h=>{throw y&&window.removeEventListener("load",y),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function Pn(y){return hn.apply(this,arguments)}(h.auth);xe(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return xe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class yu{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=Jt._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function _r(){return(_r=(0,f.Z)(function*(y,h,p){const v=On(y),T=yield Qs(v,h,(0,N.m9)(p));return new yu(T,x=>iu(v,x))})).apply(this,arguments)}function ar(){return(ar=(0,f.Z)(function*(y,h,p){const v=(0,N.m9)(y);yield qs(!1,v,"phone");const T=yield Qs(v.auth,h,(0,N.m9)(p));return new yu(T,x=>fa(v,x))})).apply(this,arguments)}function Oa(){return(Oa=(0,f.Z)(function*(y,h,p){const v=(0,N.m9)(y),T=yield Qs(v.auth,h,(0,N.m9)(p));return new yu(T,x=>mi(v,x))})).apply(this,arguments)}function Qs(y,h,p){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,f.Z)(function*(y,h,p){var v;const T=yield p.verify();try{let x;if(xe("string"==typeof T,y,"argument-error"),xe(p.type===Nh,y,"argument-error"),x="string"==typeof h?{phoneNumber:h}:h,"session"in x){const B=x.session;if("phoneNumber"in x)return xe("enroll"===B.type,y,"internal-error"),(yield Gl(y,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{xe("signin"===B.type,y,"internal-error");const re=(null===(v=x.multiFactorHint)||void 0===v?void 0:v.uid)||x.multiFactorUid;return xe(re,y,"missing-multi-factor-info"),(yield kh(y,{mfaPendingCredential:B.credential,mfaEnrollmentId:re,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield gi(y,{phoneNumber:x.phoneNumber,recaptchaToken:T});return B}}finally{p._reset()}})).apply(this,arguments)}function Sc(){return(Sc=(0,f.Z)(function*(y,h){yield tu((0,N.m9)(y),h)})).apply(this,arguments)}let D=(()=>{class y{constructor(p){this.providerId=y.PROVIDER_ID,this.auth=On(p)}verifyPhoneNumber(p,v){return Qs(this.auth,p,(0,N.m9)(v))}static credential(p,v){return Jt._fromVerification(p,v)}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:v,temporaryProof:T}=p;return v&&T?Jt._fromTokenResponse(v,T):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function I(y,h){return h?Zt(h):(xe(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class O extends ia{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Cs(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Cs(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Cs(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function L(y){return nu(y.auth,new O(y),y.bypassAuthState)}function W(y){const{auth:h,user:p}=y;return xe(p,h,"internal-error"),Nr(p,new O(y),y.bypassAuthState)}function le(y){return Me.apply(this,arguments)}function Me(){return(Me=(0,f.Z)(function*(y){const{auth:h,user:p}=y;return xe(p,h,"internal-error"),tu(p,new O(y),y.bypassAuthState)})).apply(this,arguments)}class Ke{constructor(h,p,v,T,x=!1){this.auth=h,this.resolver=v,this.user=T,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,f.Z)(function*(v,T){h.pendingPromise={resolve:v,reject:T};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(x){h.reject(x)}});return function(v,T){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,f.Z)(function*(){const{urlResponse:v,sessionId:T,postBody:x,tenantId:B,error:re,type:Le}=h;if(re)return void p.reject(re);const Ne={auth:p.auth,requestUri:v,sessionId:T,tenantId:B||void 0,postBody:x||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Le)(Ne))}catch(et){p.reject(et)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return L;case"linkViaPopup":case"linkViaRedirect":return le;case"reauthViaPopup":case"reauthViaRedirect":return W;default:Gt(this.auth,"internal-error")}}resolve(h){Je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ze=new Rt(2e3,1e4);function Kt(){return(Kt=(0,f.Z)(function*(y,h,p){const v=On(y);$r(y,h,Gn);const T=I(v,p);return new vr(v,"signInViaPopup",h,T).executeNotNull()})).apply(this,arguments)}function Mn(){return(Mn=(0,f.Z)(function*(y,h,p){const v=(0,N.m9)(y);$r(v.auth,h,Gn);const T=I(v.auth,p);return new vr(v.auth,"reauthViaPopup",h,T,v).executeNotNull()})).apply(this,arguments)}function Bi(){return(Bi=(0,f.Z)(function*(y,h,p){const v=(0,N.m9)(y);$r(v.auth,h,Gn);const T=I(v.auth,p);return new vr(v.auth,"linkViaPopup",h,T,v).executeNotNull()})).apply(this,arguments)}let vr=(()=>{class y extends Ke{constructor(p,v,T,x,B){super(p,v,x,B),this.provider=T,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var p=this;return(0,f.Z)(function*(){const v=yield p.execute();return xe(v,p.auth,"internal-error"),v})()}onExecution(){var p=this;return(0,f.Z)(function*(){Je(1===p.filter.length,"Popup operations only handle one event");const v=Aa();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],v),p.authWindow.associatedEvent=v,p.resolver._originValidation(p.auth).catch(T=>{p.reject(T)}),p.resolver._isIframeWebStorageSupported(p.auth,T=>{T||p.reject(mn(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const p=()=>{var v,T;this.pollId=(null===(T=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(mn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,ze.get())};p()}}return y.currentPopupAction=null,y})();const vi=new Map;class ji extends Ke{constructor(h,p,v=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,v),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,f.Z)(function*(){let v=vi.get(p.auth._key());if(!v){try{const x=(yield function Uo(y,h){return vu.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;v=()=>Promise.resolve(x)}catch(T){v=()=>Promise.reject(T)}vi.set(p.auth._key(),v)}return p.bypassAuthState||vi.set(p.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,v=this;return(0,f.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(v,h);if("unknown"!==h.type){if(h.eventId){const T=yield v.auth._redirectUserForId(h.eventId);if(T)return v.user=T,p().call(v,h);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function vu(){return(vu=(0,f.Z)(function*(y,h){const p=Lp(h),v=Bo(y);if(!(yield v._isAvailable()))return!1;const T="true"===(yield v._get(p));return yield v._remove(p),T})).apply(this,arguments)}function Jl(y,h){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,f.Z)(function*(y,h){return Bo(y)._set(Lp(h),"true")})).apply(this,arguments)}function Bo(y){return Zt(y._redirectPersistence)}function Lp(y){return Wt("pendingRedirect",y.config.apiKey,y.name)}function Xl(){return(Xl=(0,f.Z)(function*(y,h,p){const v=On(y);$r(y,h,Gn);const T=I(v,p);return yield Jl(T,v),T._openRedirect(v,h,"signInViaRedirect")})).apply(this,arguments)}function xc(){return(xc=(0,f.Z)(function*(y,h,p){const v=(0,N.m9)(y);$r(v.auth,h,Gn);const T=I(v.auth,p);yield Jl(T,v.auth);const x=yield nd(v);return T._openRedirect(v.auth,h,"reauthViaRedirect",x)})).apply(this,arguments)}function Js(){return(Js=(0,f.Z)(function*(y,h,p){const v=(0,N.m9)(y);$r(v.auth,h,Gn);const T=I(v.auth,p);yield qs(!1,v,h.providerId),yield Jl(T,v.auth);const x=yield nd(v);return T._openRedirect(v.auth,h,"linkViaRedirect",x)})).apply(this,arguments)}function td(){return(td=(0,f.Z)(function*(y,h){return yield On(y)._initializationPromise,Vh(y,h,!1)})).apply(this,arguments)}function Vh(y,h){return cy.apply(this,arguments)}function cy(){return(cy=(0,f.Z)(function*(y,h,p=!1){const v=On(y),T=I(v,h),B=yield new ji(v,T,p).execute();return B&&!p&&(delete B.user._redirectEventId,yield v._persistUserIfCurrent(B.user),yield v._setRedirectUser(null,h)),B})).apply(this,arguments)}function nd(y){return rd.apply(this,arguments)}function rd(){return(rd=(0,f.Z)(function*(y){const h=Aa(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class id{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(h,v)&&(p=!0,this.sendToConsumer(h,v),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Bh(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sd(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var v;if(h.error&&!sd(h)){const T=(null===(v=h.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";p.onError(mn(this.auth,T))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const v=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&v}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uh(h))}saveEventToCache(h){this.cachedEventUids.add(Uh(h)),this.lastProcessedEventTime=Date.now()}}function Uh(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function sd({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===(null==h?void 0:h.code)}function jp(y){return jh.apply(this,arguments)}function jh(){return(jh=(0,f.Z)(function*(y,h={}){return yn(y,"GET","/v1/projects",h)})).apply(this,arguments)}const $p=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ly=/^https?/;function $o(){return($o=(0,f.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield jp(y);for(const p of h)try{if(dy(p))return}catch(v){}Gt(y,"unauthorized-domain")})).apply(this,arguments)}function dy(y){const h=pt(),{protocol:p,hostname:v}=new URL(h);if(y.startsWith("chrome-extension://")){const B=new URL(y);return""===B.hostname&&""===v?"chrome-extension:"===p&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&B.hostname===v}if(!ly.test(p))return!1;if($p.test(y))return v===y;const T=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(v)}const hy=new Rt(3e4,6e4);function fy(){const y=bn().___jsl;if(null==y?void 0:y.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let p=0;p<y.CP.length;p++)y.CP[p]=null}let kc=null;function NE(y){return kc=kc||function py(y){return new Promise((h,p)=>{var v,T,x;function B(){fy(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{fy(),p(mn(y,"network-request-failed"))},timeout:hy.get()})}if(null===(T=null===(v=bn().gapi)||void 0===v?void 0:v.iframes)||void 0===T?void 0:T.Iframe)h(gapi.iframes.getContext());else{if(!(null===(x=bn().gapi)||void 0===x?void 0:x.load)){const re=Ma("iframefcb");return bn()[re]=()=>{gapi.load?B():p(mn(y,"network-request-failed"))},gu(`https://apis.google.com/js/api.js?onload=${re}`).catch(Le=>p(Le))}B()}}).catch(h=>{throw kc=null,h})}(y),kc}const $h=new Rt(5e3,15e3),my={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PE(y){const h=y.config;xe(h.authDomain,y,"auth-domain-config-required");const p=h.emulator?Xe(h,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,v={apiKey:h.apiKey,appName:y.name,v:ae.SDK_VERSION},T=Gh.get(y.config.apiHost);T&&(v.eid=T);const x=y._getFrameworks();return x.length&&(v.fw=x.join(",")),`${p}?${(0,N.xO)(v).slice(1)}`}function Pa(){return Pa=(0,f.Z)(function*(y){const h=yield NE(y),p=bn().gapi;return xe(p,y,"internal-error"),h.open({where:document.body,url:PE(y),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:my,dontclear:!0},v=>new Promise(function(){var T=(0,f.Z)(function*(x,B){yield v.restyle({setHideOnLeave:!1});const re=mn(y,"network-request-failed"),Le=bn().setTimeout(()=>{B(re)},$h.get());function Ne(){bn().clearTimeout(Le),x(v)}v.ping(Ne).then(Ne,()=>{B(re)})});return function(x,B){return T.apply(this,arguments)}}()))}),Pa.apply(this,arguments)}const Hp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Rc{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function od(y,h,p,v,T,x){xe(y.config.authDomain,y,"auth-domain-config-required"),xe(y.config.apiKey,y,"invalid-api-key");const B={apiKey:y.config.apiKey,appName:y.name,authType:p,redirectUrl:v,v:ae.SDK_VERSION,eventId:T};if(h instanceof Gn){h.setDefaultLanguage(y.languageCode),B.providerId=h.providerId||"",(0,N.xb)(h.getCustomParameters())||(B.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Le,Ne]of Object.entries(x||{}))B[Le]=Ne}if(h instanceof Rn){const Le=h.getScopes().filter(Ne=>""!==Ne);Le.length>0&&(B.scopes=Le.join(","))}y.tenantId&&(B.tid=y.tenantId);const re=B;for(const Le of Object.keys(re))void 0===re[Le]&&delete re[Le];return`${function Nc({config:y}){return y.emulator?Xe(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,N.xO)(re).slice(1)}`}const qp="webStorageSupport";class Kh extends class Pc{constructor(h){this.factorId=h}_process(h,p,v){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,v);case"signin":return this._finalizeSignIn(h,p.credential);default:return rr("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Kh(h)}_finalizeEnroll(h,p,v){return function xo(y,h){return yn(y,"POST","/v2/accounts/mfaEnrollment:finalize",gt(y,h))}(h,{idToken:p,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function Yl(y,h){return yn(y,"POST","/v2/accounts/mfaSignIn:finalize",gt(y,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let zp=(()=>{class y{constructor(){}static assertion(p){return Kh._fromCredential(p)}}return y.FACTOR_ID="phone",y})();var Wp="@firebase/auth";class cd{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,f.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(v=>{var T;h((null===(T=v)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);!p||(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pn(){return window}function Eu(){return(Eu=(0,f.Z)(function*(y,h,p){var v;const{BuildInfo:T}=pn();Je(h.sessionId,"AuthEvent did not contain a session ID");const x=yield WD(h.sessionId),B={};return Oi()?B.ibi=T.packageName:ki()?B.apn=T.packageName:Gt(y,"operation-not-supported-in-this-environment"),T.displayName&&(B.appDisplayName=T.displayName),B.sessionId=x,od(y,p,h.type,void 0,null!==(v=h.eventId)&&void 0!==v?v:void 0,B)})).apply(this,arguments)}function ld(){return(ld=(0,f.Z)(function*(y){const{BuildInfo:h}=pn(),p={};Oi()?p.iosBundleId=h.packageName:ki()?p.androidPackageName=h.packageName:Gt(y,"operation-not-supported-in-this-environment"),yield jp(y,p)})).apply(this,arguments)}function Jp(){return(Jp=(0,f.Z)(function*(y,h,p){const{cordova:v}=pn();let T=()=>{};try{yield new Promise((x,B)=>{let re=null;function Le(){var Ze;x();const Bt=null===(Ze=v.plugins.browsertab)||void 0===Ze?void 0:Ze.close;"function"==typeof Bt&&Bt(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function Ne(){re||(re=window.setTimeout(()=>{B(mn(y,"redirect-cancelled-by-user"))},2e3))}function et(){"visible"===(null==document?void 0:document.visibilityState)&&Ne()}h.addPassiveListener(Le),document.addEventListener("resume",Ne,!1),ki()&&document.addEventListener("visibilitychange",et,!1),T=()=>{h.removePassiveListener(Le),document.removeEventListener("resume",Ne,!1),document.removeEventListener("visibilitychange",et,!1),re&&window.clearTimeout(re)}})}finally{T()}})).apply(this,arguments)}function WD(y){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,f.Z)(function*(y){const h=bu(y),p=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(p)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function bu(y){if(Je(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),p=new Uint8Array(h);for(let v=0;v<y.length;v++)p[v]=y.charCodeAt(v);return p}!function Fc(y){(0,ae._registerComponent)(new de.wA("auth",(h,{options:p})=>{const v=h.getProvider("app").getImmediate(),{apiKey:T,authDomain:x}=v.options;return(B=>{xe(T&&!T.includes(":"),"invalid-api-key",{appName:B.name}),xe(!(null==x?void 0:x.includes(":")),"argument-error",{appName:B.name});const re={apiKey:T,authDomain:x,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fi(y)},Le=new wl(B,re);return function Vs(y,h){const p=(null==h?void 0:h.persistence)||[],v=(Array.isArray(p)?p:[p]).map(Zt);(null==h?void 0:h.errorMap)&&y._updateErrorMap(h.errorMap),y._initializeWithPersistence(v,null==h?void 0:h.popupRedirectResolver)}(Le,p),Le})(v)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,v)=>{h.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new de.wA("auth-internal",h=>{const p=On(h.getProvider("auth").getImmediate());return new cd(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Wp,"0.19.6",function vy(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ae.registerVersion)(Wp,"0.19.6","esm2017")}("Browser");class Xp extends id{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(h)),super.onEvent(h)}initialized(){var h=this;return(0,f.Z)(function*(){yield h.initPromise})()}}function xn(y){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,f.Z)(function*(y){const h=yield eg()._get(Xs(y));return h&&(yield eg()._remove(Xs(y))),h})).apply(this,arguments)}function UE(){const y=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const v=Math.floor(Math.random()*h.length);y.push(h.charAt(v))}return y.join("")}function eg(){return Zt(Jr)}function Xs(y){return Wt("authEvent",y.config.apiKey,y.name)}function dd(y){if(!(null==y?void 0:y.includes("?")))return{};const[h,...p]=y.split("?");return(0,N.zd)(p.join("?"))}function Qh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:mn("no-auth-event")}}function fd(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Jh(y=(0,N.z$)()){return!("file:"!==fd()&&"ionic:"!==fd()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function wu(){try{const y=self.localStorage,h=Aa();if(y)return y.setItem(h,"1"),y.removeItem(h),!function Xh(y=(0,N.z$)()){return function Vc(){return(0,N.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Iy(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch(y){return eo()&&(0,N.hl)()}return!1}function eo(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ig(){return(function xs(){return"http:"===fd()||"https:"===fd()}()||(0,N.ru)()||Jh())&&!function HE(){return(0,N.b$)()||(0,N.UG)()}()&&wu()&&!eo()}function Ty(){return Jh()&&"undefined"!=typeof document}function pd(){return(pd=(0,f.Z)(function*(){return!!Ty()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})})).apply(this,arguments)}const Ei={LOCAL:"local",NONE:"none",SESSION:"session"},gd=xe,Du="persistence";function kn(y){return bi.apply(this,arguments)}function bi(){return(bi=(0,f.Z)(function*(y){yield y._initializationPromise;const h=sg(),p=Wt(Du,y.config.apiKey,y.name);(null==h?void 0:h.sessionStorage)&&h.sessionStorage.setItem(p,y._getPersistence())})).apply(this,arguments)}function sg(){return"undefined"!=typeof window?window:null}const KD=xe;class Vr{constructor(){this.browserResolver=Zt(class _y{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qt,this._completeRedirectFn=Vh}_openPopup(h,p,v,T){var x=this;return(0,f.Z)(function*(){var B;Je(null===(B=x.eventManagers[h._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const re=od(h,p,v,pt(),T);return function FE(y,h,p,v=500,T=600){const x=Math.max((window.screen.availHeight-T)/2,0).toString(),B=Math.max((window.screen.availWidth-v)/2,0).toString();let re="";const Le=Object.assign(Object.assign({},Hp),{width:v.toString(),height:T.toString(),top:x,left:B}),Ne=(0,N.z$)().toLowerCase();p&&(re=Ds(Ne)?"_blank":p),At(Ne)&&(h=h||"http://localhost",Le.scrollbars="yes");const et=Object.entries(Le).reduce((Bt,[ur,Fa])=>`${Bt}${ur}=${Fa},`,"");if(function an(y=(0,N.z$)()){var h;return Oi(y)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(Ne)&&"_self"!==re)return function LE(y,h){const p=document.createElement("a");p.href=y,p.target=h;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(v)}(h||"",re),new Rc(null);const Ze=window.open(h||"",re,et);xe(Ze,y,"popup-blocked");try{Ze.focus()}catch(Bt){}return new Rc(Ze)}(h,re,Aa())})()}_openRedirect(h,p,v,T){var x=this;return(0,f.Z)(function*(){return yield x._originValidation(h),function No(y){bn().location.href=y}(od(h,p,v,pt(),T)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:T,promise:x}=this.eventManagers[p];return T?Promise.resolve(T):(Je(x,"If manager is not set, promise should be"),x)}const v=this.initAndGetManager(h);return this.eventManagers[p]={promise:v},v.catch(()=>{delete this.eventManagers[p]}),v}initAndGetManager(h){var p=this;return(0,f.Z)(function*(){const v=yield function qh(y){return Pa.apply(this,arguments)}(h),T=new id(h);return v.register("authEvent",x=>(xe(null==x?void 0:x.authEvent,h,"invalid-auth-event"),{status:T.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:T},p.iframes[h._key()]=v,T})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(qp,{type:qp},T=>{var x;const B=null===(x=null==T?void 0:T[0])||void 0===x?void 0:x[qp];void 0!==B&&p(!!B),Gt(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Na(y){return $o.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return _o()||mo()||Oi()}}),this.cordovaResolver=Zt(class jE{constructor(){this._redirectPersistence=qt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Vh}_initialize(h){var p=this;return(0,f.Z)(function*(){const v=h._key();let T=p.eventManagers.get(v);return T||(T=new Xp(h),p.eventManagers.set(v,T),p.attachCallbackListeners(h,T)),T})()}_openPopup(h){Gt(h,"operation-not-supported-in-this-environment")}_openRedirect(h,p,v,T){var x=this;return(0,f.Z)(function*(){!function VE(y){var h,p,v,T,x,B,re,Le,Ne,et;const Ze=pn();xe("function"==typeof(null===(h=null==Ze?void 0:Ze.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),xe(void 0!==(null===(p=null==Ze?void 0:Ze.BuildInfo)||void 0===p?void 0:p.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),xe("function"==typeof(null===(x=null===(T=null===(v=null==Ze?void 0:Ze.cordova)||void 0===v?void 0:v.plugins)||void 0===T?void 0:T.browsertab)||void 0===x?void 0:x.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),xe("function"==typeof(null===(Le=null===(re=null===(B=null==Ze?void 0:Ze.cordova)||void 0===B?void 0:B.plugins)||void 0===re?void 0:re.browsertab)||void 0===Le?void 0:Le.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),xe("function"==typeof(null===(et=null===(Ne=null==Ze?void 0:Ze.cordova)||void 0===Ne?void 0:Ne.InAppBrowser)||void 0===et?void 0:et.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const B=yield x._initialize(h);yield B.initialized(),B.resetRedirect(),function Ra(){vi.clear()}(),yield x._originValidation(h);const re=function wy(y,h,p=null){return{type:h,eventId:p,urlResponse:null,sessionId:UE(),postBody:null,tenantId:y.tenantId,error:mn(y,"no-auth-event")}}(h,v,T);yield function Dy(y,h){return eg()._set(Xs(y),h)}(h,re);const Le=yield function Ey(y,h,p){return Eu.apply(this,arguments)}(h,re,p),Ne=yield function by(y){const{cordova:h}=pn();return new Promise(p=>{h.plugins.browsertab.isAvailable(v=>{let T=null;v?h.plugins.browsertab.openUrl(y):T=h.InAppBrowser.open(y,function xr(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),p(T)})})}(Le);return function Qp(y,h,p){return Jp.apply(this,arguments)}(h,B,Ne)})()}_isIframeWebStorageSupported(h,p){throw new Error("Method not implemented.")}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Yp(y){return ld.apply(this,arguments)}(h)),this.originValidationPromises[p]}attachCallbackListeners(h,p){const{universalLinks:v,handleOpenURL:T,BuildInfo:x}=pn(),B=setTimeout((0,f.Z)(function*(){yield xn(h),p.onEvent(Qh())}),500),re=function(){var et=(0,f.Z)(function*(Ze){clearTimeout(B);const Bt=yield xn(h);let ur=null;Bt&&(null==Ze?void 0:Ze.url)&&(ur=function Yh(y,h){var p,v;const T=function Cy(y){const h=dd(y),p=h.link?decodeURIComponent(h.link):void 0,v=dd(p).link,T=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return dd(T).link||T||v||p||y}(h);if(T.includes("/__/auth/callback")){const x=dd(T),B=x.firebaseError?function BE(y){try{return JSON.parse(y)}catch(h){return null}}(decodeURIComponent(x.firebaseError)):null,re=null===(v=null===(p=null==B?void 0:B.code)||void 0===p?void 0:p.split("auth/"))||void 0===v?void 0:v[1],Le=re?mn(re):null;return Le?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:T,postBody:null}}return null}(Bt,Ze.url)),p.onEvent(ur||Qh())});return function(Bt){return et.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,re);const Le=T,Ne=`${x.packageName.toLowerCase()}://`;pn().handleOpenURL=function(){var et=(0,f.Z)(function*(Ze){if(Ze.toLowerCase().startsWith(Ne)&&re({url:Ze}),"function"==typeof Le)try{Le(Ze)}catch(Bt){console.error(Bt)}});return function(Ze){return et.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=qt,this._completeRedirectFn=Vh}_initialize(h){var p=this;return(0,f.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,p,v,T){var x=this;return(0,f.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openPopup(h,p,v,T)})()}_openRedirect(h,p,v,T){var x=this;return(0,f.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openRedirect(h,p,v,T)})()}_isIframeWebStorageSupported(h,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,p)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Ty()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return KD(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,f.Z)(function*(){if(h.underlyingResolver)return;const p=yield function ef(){return pd.apply(this,arguments)}();h.underlyingResolver=p?h.cordovaResolver:h.browserResolver})()}}function tf(y){return y.unwrap()}function Ay(y){return Iu(y)}function Iu(y){const{_tokenResponse:h}=y instanceof N.ZR?y.customData:y;if(!h)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return D.credentialFromResult(y);const p=h.providerId;if(!p||"password"===p)return null;let v;switch(p){case"google.com":v=Ni;break;case"facebook.com":v=bo;break;case"github.com":v=Or;break;case"twitter.com":v=Ts;break;default:const{oauthIdToken:T,oauthAccessToken:x,oauthTokenSecret:B,pendingToken:re,nonce:Le}=h;return x||B||T||re?re?p.startsWith("saml.")?Pi._create(p,re):mr._fromParams({providerId:p,signInMethod:p,pendingToken:re,idToken:T,accessToken:x}):new Xi(p).credential({idToken:T,accessToken:x,rawNonce:Le}):null}return y instanceof N.ZR?v.credentialFromError(y):v.credentialFromResult(y)}function ei(y,h){return h.catch(p=>{throw p instanceof N.ZR&&function ag(y,h){var p;const v=null===(p=h.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===h.code)h.resolver=new ug(y,function _c(y,h){var p;const v=(0,N.m9)(y),T=h;return xe(h.customData.operationType,v,"argument-error"),xe(null===(p=T.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,v,"argument-error"),Ia._fromError(v,T)}(y,h));else if(v){const T=Iu(h),x=h;T&&(x.credential=T,x.tenantId=v.tenantId||void 0,x.email=v.email||void 0,x.phoneNumber=v.phoneNumber||void 0)}}(y,p),p}).then(p=>{const T=p.user;return{operationType:p.operationType,credential:Ay(p),additionalUserInfo:sr(p),user:to.getOrCreate(T)}})}function nf(y,h){return md.apply(this,arguments)}function md(){return(md=(0,f.Z)(function*(y,h){const p=yield h;return{verificationId:p.verificationId,confirm:v=>ei(y,p.confirm(v))}})).apply(this,arguments)}class ug{constructor(h,p){this.resolver=p,this.auth=function og(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return ei(tf(this.auth),this.resolver.resolveSignIn(h))}}class to{constructor(h){this._delegate=h,this.multiFactor=function Fr(y){const h=(0,N.m9)(y);return Pr.has(h)||Pr.set(h,ko._fromUser(h)),Pr.get(h)}(h)}static getOrCreate(h){return to.USER_MAP.has(h)||to.USER_MAP.set(h,new to(h)),to.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var p=this;return(0,f.Z)(function*(){return ei(p.auth,fa(p._delegate,h))})()}linkWithPhoneNumber(h,p){var v=this;return(0,f.Z)(function*(){return nf(v.auth,function _u(y,h,p){return ar.apply(this,arguments)}(v._delegate,h,p))})()}linkWithPopup(h){var p=this;return(0,f.Z)(function*(){return ei(p.auth,function nn(y,h,p){return Bi.apply(this,arguments)}(p._delegate,h,Vr))})()}linkWithRedirect(h){var p=this;return(0,f.Z)(function*(){return yield kn(On(p.auth)),function uy(y,h,p){return function ed(y,h,p){return Js.apply(this,arguments)}(y,h,p)}(p._delegate,h,Vr)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var p=this;return(0,f.Z)(function*(){return ei(p.auth,mi(p._delegate,h))})()}reauthenticateWithPhoneNumber(h,p){return nf(this.auth,function ka(y,h,p){return Oa.apply(this,arguments)}(this._delegate,h,p))}reauthenticateWithPopup(h){return ei(this.auth,function Xr(y,h,p){return Mn.apply(this,arguments)}(this._delegate,h,Vr))}reauthenticateWithRedirect(h){var p=this;return(0,f.Z)(function*(){return yield kn(On(p.auth)),function Vp(y,h,p){return function Up(y,h,p){return xc.apply(this,arguments)}(y,h,p)}(p._delegate,h,Vr)})()}sendEmailVerification(h){return function mc(y,h){return Ss.apply(this,arguments)}(this._delegate,h)}unlink(h){var p=this;return(0,f.Z)(function*(){return yield function Se(y,h){return Pt.apply(this,arguments)}(p._delegate,h),p})()}updateEmail(h){return function Th(y,h){return ba((0,N.m9)(y),h,null)}(this._delegate,h)}updatePassword(h){return function Np(y,h){return ba((0,N.m9)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function Fh(y,h){return Sc.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function ns(y,h){return vn.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,p){return function lu(y,h,p){return du.apply(this,arguments)}(this._delegate,h,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}to.USER_MAP=new WeakMap;const rf=xe;let Tu=(()=>{class y{constructor(p,v){if(this.app=p,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=p.options;rf(T,"invalid-api-key",{appName:p.name}),rf(T,"invalid-api-key",{appName:p.name});const x="undefined"!=typeof window?Vr:void 0;this._delegate=v.initialize({options:{persistence:Sy(T,p.name),popupRedirectResolver:x}}),this._delegate._updateErrorMap(Tr),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?to.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,v){!function Ri(y,h,p){const v=On(y);xe(v._canInitEmulator,v,"emulator-config-failed"),xe(/^https?:\/\//.test(h),v,"invalid-emulator-scheme");const T=!!(null==p?void 0:p.disableWarnings),x=oc(h),{host:B,port:re}=function Mp(y){const h=oc(y),p=/(\/\/)?([^?#/]+)/.exec(y.substr(h.length));if(!p)return{host:"",port:null};const v=p[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(v);if(T){const x=T[1];return{host:x,port:vh(v.substr(x.length+1))}}{const[x,B]=v.split(":");return{host:x,port:vh(B)}}}(h);v.config.emulator={url:`${x}//${B}${null===re?"":`:${re}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:B,port:re,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function pi(){function y(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,p,v)}applyActionCode(p){return function pc(y,h){return So.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Fl(this._delegate,p)}confirmPasswordReset(p,v){return function ya(y,h,p){return au.apply(this,arguments)}(this._delegate,p,v)}createUserWithEmailAndPassword(p,v){var T=this;return(0,f.Z)(function*(){return ei(T._delegate,function uu(y,h,p){return Ll.apply(this,arguments)}(T._delegate,p,v))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function Ul(y,h){return Ch.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function _n(y,h){const p=un.parseLink(h);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,f.Z)(function*(){rf(ig(),p._delegate,"operation-not-supported-in-this-environment");const v=yield function jo(y,h){return td.apply(this,arguments)}(p._delegate,Vr);return v?ei(p._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function ng(y,h){On(y)._logFramework(h)}(this._delegate,p)}onAuthStateChanged(p,v,T){const{next:x,error:B,complete:re}=sf(p,v,T);return this._delegate.onAuthStateChanged(x,B,re)}onIdTokenChanged(p,v,T){const{next:x,error:B,complete:re}=sf(p,v,T);return this._delegate.onIdTokenChanged(x,B,re)}sendSignInLinkToEmail(p,v){return function Jn(y,h,p){return Nn.apply(this,arguments)}(this._delegate,p,v)}sendPasswordResetEmail(p,v){return function ga(y,h,p){return ma.apply(this,arguments)}(this._delegate,p,v||void 0)}setPersistence(p){var v=this;return(0,f.Z)(function*(){let T;switch(function Cu(y,h){gd(Object.values(Ei).includes(h),y,"invalid-persistence-type"),(0,N.b$)()?gd(h!==Ei.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?gd(h===Ei.NONE,y,"unsupported-persistence-type"):eo()?gd(h===Ei.NONE||h===Ei.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):gd(h===Ei.NONE||wu(),y,"unsupported-persistence-type")}(v._delegate,p),p){case Ei.SESSION:T=qt;break;case Ei.LOCAL:T=(yield Zt(_i)._isAvailable())?_i:Jr;break;case Ei.NONE:T=Mr;break;default:return Gt("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return ei(this._delegate,function ha(y){return Do.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return ei(this._delegate,iu(this._delegate,p))}signInWithCustomToken(p){return ei(this._delegate,function Pl(y,h){return To.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,v){return ei(this._delegate,function Rp(y,h,p){return iu((0,N.m9)(y),Eo.credential(h,p))}(this._delegate,p,v))}signInWithEmailLink(p,v){return ei(this._delegate,function cu(y,h,p){return Ea.apply(this,arguments)}(this._delegate,p,v))}signInWithPhoneNumber(p,v){return nf(this._delegate,function Ac(y,h,p){return _r.apply(this,arguments)}(this._delegate,p,v))}signInWithPopup(p){var v=this;return(0,f.Z)(function*(){return rf(ig(),v._delegate,"operation-not-supported-in-this-environment"),ei(v._delegate,function Ut(y,h,p){return Kt.apply(this,arguments)}(v._delegate,p,Vr))})()}signInWithRedirect(p){var v=this;return(0,f.Z)(function*(){return rf(ig(),v._delegate,"operation-not-supported-in-this-environment"),yield kn(v._delegate),function ay(y,h,p){return function Lh(y,h,p){return Xl.apply(this,arguments)}(y,h,p)}(v._delegate,p,Vr)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function gc(y,h){return va.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Ei,y})();function sf(y,h,p){let v=y;"function"!=typeof y&&({next:v,error:h,complete:p}=y);const T=v;return{next:B=>T(B&&to.getOrCreate(B)),error:h,complete:p}}function Sy(y,h){const p=function Ct(y,h){const p=sg();if(!(null==p?void 0:p.sessionStorage))return[];const v=Wt(Du,y,h);switch(p.sessionStorage.getItem(v)){case Ei.NONE:return[Mr];case Ei.LOCAL:return[_i,qt];case Ei.SESSION:return[qt];default:return[]}}(y,h);if("undefined"!=typeof self&&!p.includes(_i)&&p.push(_i),"undefined"!=typeof window)for(const v of[Jr,qt])p.includes(v)||p.push(v);return p.includes(Mr)||p.push(Mr),p}class cg{constructor(){this.providerId="phone",this._delegate=new D(tf(J.Z.auth()))}static credential(h,p){return D.credential(h,p)}verifyPhoneNumber(h,p){return this._delegate.verifyPhoneNumber(h,p)}unwrap(){return this._delegate}}cg.PHONE_SIGN_IN_METHOD=D.PHONE_SIGN_IN_METHOD,cg.PROVIDER_ID=D.PROVIDER_ID;const lg=xe;class GE{constructor(h,p,v=J.Z.app()){var T;lg(null===(T=v.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Ys(h,p,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function zE(y){y.INTERNAL.registerComponent(new de.wA("auth-compat",h=>{const p=h.getProvider("app-compat").getImmediate(),v=h.getProvider("auth");return new Tu(p,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Eo,FacebookAuthProvider:bo,GithubAuthProvider:Or,GoogleAuthProvider:Ni,OAuthProvider:Xi,SAMLAuthProvider:Rr,PhoneAuthProvider:cg,PhoneMultiFactorGenerator:zp,RecaptchaVerifier:GE,TwitterAuthProvider:Ts,Auth:Tu,AuthCredential:ia,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.6")}(J.Z)},2940:function(st,Ce){!function(P){"use strict";function f(K){return Array.prototype.slice.call(K)}function J(K){return new Promise(function(ne,ye){K.onsuccess=function(){ne(K.result)},K.onerror=function(){ye(K.error)}})}function N(K,ne,ye){var Te,_e=new Promise(function($e,Ae){J(Te=K[ne].apply(K,ye)).then($e,Ae)});return _e.request=Te,_e}function ae(K,ne,ye){var Te=N(K,ne,ye);return Te.then(function(_e){if(_e)return new H(_e,Te.request)})}function ie(K,ne,ye){ye.forEach(function(Te){Object.defineProperty(K.prototype,Te,{get:function(){return this[ne][Te]},set:function(_e){this[ne][Te]=_e}})})}function fe(K,ne,ye,Te){Te.forEach(function(_e){_e in ye.prototype&&(K.prototype[_e]=function(){return N(this[ne],_e,arguments)})})}function se(K,ne,ye,Te){Te.forEach(function(_e){_e in ye.prototype&&(K.prototype[_e]=function(){return this[ne][_e].apply(this[ne],arguments)})})}function ue(K,ne,ye,Te){Te.forEach(function(_e){_e in ye.prototype&&(K.prototype[_e]=function(){return ae(this[ne],_e,arguments)})})}function ce(K){this._index=K}function H(K,ne){this._cursor=K,this._request=ne}function j(K){this._store=K}function ee(K){this._tx=K,this.complete=new Promise(function(ne,ye){K.oncomplete=function(){ne()},K.onerror=function(){ye(K.error)},K.onabort=function(){ye(K.error)}})}function Be(K,ne,ye){this._db=K,this.oldVersion=ne,this.transaction=new ee(ye)}function Ie(K){this._db=K}ie(ce,"_index",["name","keyPath","multiEntry","unique"]),fe(ce,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ue(ce,"_index",IDBIndex,["openCursor","openKeyCursor"]),ie(H,"_cursor",["direction","key","primaryKey","value"]),fe(H,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(K){K in IDBCursor.prototype&&(H.prototype[K]=function(){var ne=this,ye=arguments;return Promise.resolve().then(function(){return ne._cursor[K].apply(ne._cursor,ye),J(ne._request).then(function(Te){if(Te)return new H(Te,ne._request)})})})}),j.prototype.createIndex=function(){return new ce(this._store.createIndex.apply(this._store,arguments))},j.prototype.index=function(){return new ce(this._store.index.apply(this._store,arguments))},ie(j,"_store",["name","keyPath","indexNames","autoIncrement"]),fe(j,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ue(j,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),se(j,"_store",IDBObjectStore,["deleteIndex"]),ee.prototype.objectStore=function(){return new j(this._tx.objectStore.apply(this._tx,arguments))},ie(ee,"_tx",["objectStoreNames","mode"]),se(ee,"_tx",IDBTransaction,["abort"]),Be.prototype.createObjectStore=function(){return new j(this._db.createObjectStore.apply(this._db,arguments))},ie(Be,"_db",["name","version","objectStoreNames"]),se(Be,"_db",IDBDatabase,["deleteObjectStore","close"]),Ie.prototype.transaction=function(){return new ee(this._db.transaction.apply(this._db,arguments))},ie(Ie,"_db",["name","version","objectStoreNames"]),se(Ie,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(K){[j,ce].forEach(function(ne){K in ne.prototype&&(ne.prototype[K.replace("open","iterate")]=function(){var ye=f(arguments),Te=ye[ye.length-1],_e=this._store||this._index,$e=_e[K].apply(_e,ye.slice(0,-1));$e.onsuccess=function(){Te($e.result)}})})}),[ce,j].forEach(function(K){K.prototype.getAll||(K.prototype.getAll=function(ne,ye){var Te=this,_e=[];return new Promise(function($e){Te.iterateCursor(ne,function(Ae){Ae?(_e.push(Ae.value),void 0===ye||_e.length!=ye?Ae.continue():$e(_e)):$e(_e)})})})}),P.openDb=function Re(K,ne,ye){var Te=N(indexedDB,"open",[K,ne]),_e=Te.request;return _e&&(_e.onupgradeneeded=function($e){ye&&ye(new Be(_e.result,$e.oldVersion,_e.transaction))}),Te.then(function($e){return new Ie($e)})},P.deleteDb=function Ue(K){return N(indexedDB,"deleteDatabase",[K])},Object.defineProperty(P,"__esModule",{value:!0})}(Ce)},8306:(st,Ce,P)=>{"use strict";P.d(Ce,{y:()=>H});var f=P(930),J=P(727),N=P(8822),ae=P(4671);var se=P(2416),ue=P(576),ce=P(2806);let H=(()=>{class Ie{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const K=new Ie;return K.source=this,K.operator=Ue,K}subscribe(Ue,K,ne){const ye=function Be(Ie){return Ie&&Ie instanceof f.Lv||function ee(Ie){return Ie&&(0,ue.m)(Ie.next)&&(0,ue.m)(Ie.error)&&(0,ue.m)(Ie.complete)}(Ie)&&(0,J.Nn)(Ie)}(Ue)?Ue:new f.Hp(Ue,K,ne);return(0,ce.x)(()=>{const{operator:Te,source:_e}=this;ye.add(Te?Te.call(ye,_e):_e?this._subscribe(ye):this._trySubscribe(ye))}),ye}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(K){Ue.error(K)}}forEach(Ue,K){return new(K=j(K))((ne,ye)=>{let Te;Te=this.subscribe(_e=>{try{Ue(_e)}catch($e){ye($e),null==Te||Te.unsubscribe()}},ye,ne)})}_subscribe(Ue){var K;return null===(K=this.source)||void 0===K?void 0:K.subscribe(Ue)}[N.L](){return this}pipe(...Ue){return function fe(Ie){return 0===Ie.length?ae.y:1===Ie.length?Ie[0]:function(Ue){return Ie.reduce((K,ne)=>ne(K),Ue)}}(Ue)(this)}toPromise(Ue){return new(Ue=j(Ue))((K,ne)=>{let ye;this.subscribe(Te=>ye=Te,Te=>ne(Te),()=>K(ye))})}}return Ie.create=Re=>new Ie(Re),Ie})();function j(Ie){var Re;return null!==(Re=null!=Ie?Ie:se.v.Promise)&&void 0!==Re?Re:Promise}},7579:(st,Ce,P)=>{"use strict";P.d(Ce,{x:()=>se});var f=P(8306),J=P(727);const ae=(0,P(3888).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=P(8737),fe=P(2806);let se=(()=>{class ce extends f.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const ee=new ue(this,this);return ee.operator=j,ee}_throwIfClosed(){if(this.closed)throw new ae}next(j){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const ee=this.observers.slice();for(const Be of ee)Be.next(j)}})}error(j){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:ee}=this;for(;ee.length;)ee.shift().error(j)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:ee,isStopped:Be,observers:Ie}=this;return ee||Be?J.Lc:(Ie.push(j),new J.w0(()=>(0,ie.P)(Ie,j)))}_checkFinalizedStatuses(j){const{hasError:ee,thrownError:Be,isStopped:Ie}=this;ee?j.error(Be):Ie&&j.complete()}asObservable(){const j=new f.y;return j.source=this,j}}return ce.create=(H,j)=>new ue(H,j),ce})();class ue extends se{constructor(H,j){super(),this.destination=H,this.source=j}next(H){var j,ee;null===(ee=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===ee||ee.call(j,H)}error(H){var j,ee;null===(ee=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===ee||ee.call(j,H)}complete(){var H,j;null===(j=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===j||j.call(H)}_subscribe(H){var j,ee;return null!==(ee=null===(j=this.source)||void 0===j?void 0:j.subscribe(H))&&void 0!==ee?ee:J.Lc}}},930:(st,Ce,P)=>{"use strict";P.d(Ce,{Hp:()=>Be,Lv:()=>ee});var f=P(576),J=P(727),N=P(2416),ae=P(7849),ie=P(5032);const fe=ce("C",void 0,void 0);function ce(ne,ye,Te){return{kind:ne,value:ye,error:Te}}var H=P(3410),j=P(2806);class ee extends J.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,J.Nn)(ye)&&ye.add(this)):this.destination=K}static create(ye,Te,_e){return new Be(ye,Te,_e)}next(ye){this.isStopped?Ue(function ue(ne){return ce("N",ne,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?Ue(function se(ne){return ce("E",void 0,ne)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?Ue(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Be extends ee{constructor(ye,Te,_e){let $e;if(super(),(0,f.m)(ye))$e=ye;else if(ye){let Ae;({next:$e,error:Te,complete:_e}=ye),this&&N.v.useDeprecatedNextContext?(Ae=Object.create(ye),Ae.unsubscribe=()=>this.unsubscribe()):Ae=ye,$e=null==$e?void 0:$e.bind(Ae),Te=null==Te?void 0:Te.bind(Ae),_e=null==_e?void 0:_e.bind(Ae)}this.destination={next:$e?Ie($e):ie.Z,error:Ie(null!=Te?Te:Re),complete:_e?Ie(_e):ie.Z}}}function Ie(ne,ye){return(...Te)=>{try{ne(...Te)}catch(_e){N.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(_e):(0,ae.h)(_e)}}}function Re(ne){throw ne}function Ue(ne,ye){const{onStoppedNotification:Te}=N.v;Te&&H.z.setTimeout(()=>Te(ne,ye))}const K={closed:!0,next:ie.Z,error:Re,complete:ie.Z}},727:(st,Ce,P)=>{"use strict";P.d(Ce,{Lc:()=>fe,w0:()=>ie,Nn:()=>se});var f=P(576);const N=(0,P(3888).d)(ce=>function(j){ce(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((ee,Be)=>`${Be+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var ae=P(8737);class ie{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Ie of j)Ie.remove(this);else j.remove(this);const{initialTeardown:ee}=this;if((0,f.m)(ee))try{ee()}catch(Ie){H=Ie instanceof N?Ie.errors:[Ie]}const{_teardowns:Be}=this;if(Be){this._teardowns=null;for(const Ie of Be)try{ue(Ie)}catch(Re){H=null!=H?H:[],Re instanceof N?H=[...H,...Re.errors]:H.push(Re)}}if(H)throw new N(H)}}add(H){var j;if(H&&H!==this)if(this.closed)ue(H);else{if(H instanceof ie){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._teardowns=null!==(j=this._teardowns)&&void 0!==j?j:[]).push(H)}}_hasParent(H){const{_parentage:j}=this;return j===H||Array.isArray(j)&&j.includes(H)}_addParent(H){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(H),j):j?[j,H]:H}_removeParent(H){const{_parentage:j}=this;j===H?this._parentage=null:Array.isArray(j)&&(0,ae.P)(j,H)}remove(H){const{_teardowns:j}=this;j&&(0,ae.P)(j,H),H instanceof ie&&H._removeParent(this)}}ie.EMPTY=(()=>{const ce=new ie;return ce.closed=!0,ce})();const fe=ie.EMPTY;function se(ce){return ce instanceof ie||ce&&"closed"in ce&&(0,f.m)(ce.remove)&&(0,f.m)(ce.add)&&(0,f.m)(ce.unsubscribe)}function ue(ce){(0,f.m)(ce)?ce():ce.unsubscribe()}},2416:(st,Ce,P)=>{"use strict";P.d(Ce,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(st,Ce,P)=>{"use strict";P.d(Ce,{E:()=>J});const J=new(P(8306).y)(ie=>ie.complete())},8996:(st,Ce,P)=>{"use strict";P.d(Ce,{D:()=>$e});var f=P(8421),J=P(5363),N=P(9468),fe=P(8306),ue=P(2202),ce=P(576),H=P(9672);function ee(Ae,tt){if(!Ae)throw new Error("Iterable cannot be null");return new fe.y(We=>{(0,H.f)(We,tt,()=>{const ft=Ae[Symbol.asyncIterator]();(0,H.f)(We,tt,()=>{ft.next().then(X=>{X.done?We.complete():We.next(X.value)})},0,!0)})})}var Be=P(3670),Ie=P(8239),Re=P(1144),Ue=P(6495),K=P(2206),ne=P(4532),ye=P(3260);function $e(Ae,tt){return tt?function _e(Ae,tt){if(null!=Ae){if((0,Be.c)(Ae))return function ae(Ae,tt){return(0,f.Xf)(Ae).pipe((0,N.R)(tt),(0,J.Q)(tt))}(Ae,tt);if((0,Re.z)(Ae))return function se(Ae,tt){return new fe.y(We=>{let ft=0;return tt.schedule(function(){ft===Ae.length?We.complete():(We.next(Ae[ft++]),We.closed||this.schedule())})})}(Ae,tt);if((0,Ie.t)(Ae))return function ie(Ae,tt){return(0,f.Xf)(Ae).pipe((0,N.R)(tt),(0,J.Q)(tt))}(Ae,tt);if((0,K.D)(Ae))return ee(Ae,tt);if((0,Ue.T)(Ae))return function j(Ae,tt){return new fe.y(We=>{let ft;return(0,H.f)(We,tt,()=>{ft=Ae[ue.h](),(0,H.f)(We,tt,()=>{let X,ge;try{({value:X,done:ge}=ft.next())}catch(Ee){return void We.error(Ee)}ge?We.complete():We.next(X)},0,!0)}),()=>(0,ce.m)(null==ft?void 0:ft.return)&&ft.return()})}(Ae,tt);if((0,ye.L)(Ae))return function Te(Ae,tt){return ee((0,ye.Q)(Ae),tt)}(Ae,tt)}throw(0,ne.z)(Ae)}(Ae,tt):(0,f.Xf)(Ae)}},8421:(st,Ce,P)=>{"use strict";P.d(Ce,{Xf:()=>Be});var f=P(5987),J=P(1144),N=P(8239),ae=P(8306),ie=P(3670),fe=P(2206),se=P(4532),ue=P(6495),ce=P(3260),H=P(576),j=P(7849),ee=P(8822);function Be(_e){if(_e instanceof ae.y)return _e;if(null!=_e){if((0,ie.c)(_e))return function Ie(_e){return new ae.y($e=>{const Ae=_e[ee.L]();if((0,H.m)(Ae.subscribe))return Ae.subscribe($e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(_e);if((0,J.z)(_e))return function Re(_e){return new ae.y($e=>{for(let Ae=0;Ae<_e.length&&!$e.closed;Ae++)$e.next(_e[Ae]);$e.complete()})}(_e);if((0,N.t)(_e))return function Ue(_e){return new ae.y($e=>{_e.then(Ae=>{$e.closed||($e.next(Ae),$e.complete())},Ae=>$e.error(Ae)).then(null,j.h)})}(_e);if((0,fe.D)(_e))return ne(_e);if((0,ue.T)(_e))return function K(_e){return new ae.y($e=>{for(const Ae of _e)if($e.next(Ae),$e.closed)return;$e.complete()})}(_e);if((0,ce.L)(_e))return function ye(_e){return ne((0,ce.Q)(_e))}(_e)}throw(0,se.z)(_e)}function ne(_e){return new ae.y($e=>{(function Te(_e,$e){var Ae,tt,We,ft;return(0,f.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,f.KL)(_e);!(tt=yield Ae.next()).done;)if($e.next(tt.value),$e.closed)return}catch(X){We={error:X}}finally{try{tt&&!tt.done&&(ft=Ae.return)&&(yield ft.call(Ae))}finally{if(We)throw We.error}}$e.complete()})})(_e,$e).catch(Ae=>$e.error(Ae))})}},6451:(st,Ce,P)=>{"use strict";P.d(Ce,{T:()=>fe});var f=P(8189),J=P(8421),N=P(515),ae=P(7669),ie=P(8996);function fe(...se){const ue=(0,ae.yG)(se),ce=(0,ae._6)(se,1/0),H=se;return H.length?1===H.length?(0,J.Xf)(H[0]):(0,f.J)(ce)((0,ie.D)(H,ue)):N.E}},5403:(st,Ce,P)=>{"use strict";P.d(Ce,{Q:()=>J});var f=P(930);class J extends f.Lv{constructor(ae,ie,fe,se,ue){super(ae),this.onFinalize=ue,this._next=ie?function(ce){try{ie(ce)}catch(H){ae.error(H)}}:super._next,this._error=se?function(ce){try{se(ce)}catch(H){ae.error(H)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(ce){ae.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}},4004:(st,Ce,P)=>{"use strict";P.d(Ce,{U:()=>N});var f=P(4482),J=P(5403);function N(ae,ie){return(0,f.e)((fe,se)=>{let ue=0;fe.subscribe(new J.Q(se,ce=>{se.next(ae.call(ie,ce,ue++))}))})}},8189:(st,Ce,P)=>{"use strict";P.d(Ce,{J:()=>N});var f=P(5577),J=P(4671);function N(ae=1/0){return(0,f.z)(J.y,ae)}},5577:(st,Ce,P)=>{"use strict";P.d(Ce,{z:()=>ue});var f=P(4004),J=P(8421),N=P(4482),ae=P(9672),ie=P(5403),se=P(576);function ue(ce,H,j=1/0){return(0,se.m)(H)?ue((ee,Be)=>(0,f.U)((Ie,Re)=>H(ee,Ie,Be,Re))((0,J.Xf)(ce(ee,Be))),j):("number"==typeof H&&(j=H),(0,N.e)((ee,Be)=>function fe(ce,H,j,ee,Be,Ie,Re,Ue){const K=[];let ne=0,ye=0,Te=!1;const _e=()=>{Te&&!K.length&&!ne&&H.complete()},$e=tt=>ne<ee?Ae(tt):K.push(tt),Ae=tt=>{Ie&&H.next(tt),ne++;let We=!1;(0,J.Xf)(j(tt,ye++)).subscribe(new ie.Q(H,ft=>{null==Be||Be(ft),Ie?$e(ft):H.next(ft)},()=>{We=!0},void 0,()=>{if(We)try{for(ne--;K.length&&ne<ee;){const ft=K.shift();Re?(0,ae.f)(H,Re,()=>Ae(ft)):Ae(ft)}_e()}catch(ft){H.error(ft)}}))};return ce.subscribe(new ie.Q(H,$e,()=>{Te=!0,_e()})),()=>{null==Ue||Ue()}}(ee,Be,ce,j)))}},5363:(st,Ce,P)=>{"use strict";P.d(Ce,{Q:()=>ae});var f=P(9672),J=P(4482),N=P(5403);function ae(ie,fe=0){return(0,J.e)((se,ue)=>{se.subscribe(new N.Q(ue,ce=>(0,f.f)(ue,ie,()=>ue.next(ce),fe),()=>(0,f.f)(ue,ie,()=>ue.complete(),fe),ce=>(0,f.f)(ue,ie,()=>ue.error(ce),fe)))})}},3099:(st,Ce,P)=>{"use strict";P.d(Ce,{B:()=>fe});var f=P(8996),J=P(5698),N=P(7579),ae=P(930),ie=P(4482);function fe(ue={}){const{connector:ce=(()=>new N.x),resetOnError:H=!0,resetOnComplete:j=!0,resetOnRefCountZero:ee=!0}=ue;return Be=>{let Ie=null,Re=null,Ue=null,K=0,ne=!1,ye=!1;const Te=()=>{null==Re||Re.unsubscribe(),Re=null},_e=()=>{Te(),Ie=Ue=null,ne=ye=!1},$e=()=>{const Ae=Ie;_e(),null==Ae||Ae.unsubscribe()};return(0,ie.e)((Ae,tt)=>{K++,!ye&&!ne&&Te();const We=Ue=null!=Ue?Ue:ce();tt.add(()=>{K--,0===K&&!ye&&!ne&&(Re=se($e,ee))}),We.subscribe(tt),Ie||(Ie=new ae.Hp({next:ft=>We.next(ft),error:ft=>{ye=!0,Te(),Re=se(_e,H,ft),We.error(ft)},complete:()=>{ne=!0,Te(),Re=se(_e,j),We.complete()}}),(0,f.D)(Ae).subscribe(Ie))})(Be)}}function se(ue,ce,...H){return!0===ce?(ue(),null):!1===ce?null:ce(...H).pipe((0,J.q)(1)).subscribe(()=>ue())}},9468:(st,Ce,P)=>{"use strict";P.d(Ce,{R:()=>J});var f=P(4482);function J(N,ae=0){return(0,f.e)((ie,fe)=>{fe.add(N.schedule(()=>ie.subscribe(fe),ae))})}},5698:(st,Ce,P)=>{"use strict";P.d(Ce,{q:()=>ae});var f=P(515),J=P(4482),N=P(5403);function ae(ie){return ie<=0?()=>f.E:(0,J.e)((fe,se)=>{let ue=0;fe.subscribe(new N.Q(se,ce=>{++ue<=ie&&(se.next(ce),ie<=ue&&se.complete())}))})}},8505:(st,Ce,P)=>{"use strict";P.d(Ce,{b:()=>ie});var f=P(576),J=P(4482),N=P(5403),ae=P(4671);function ie(fe,se,ue){const ce=(0,f.m)(fe)||se||ue?{next:fe,error:se,complete:ue}:fe;return ce?(0,J.e)((H,j)=>{var ee;null===(ee=ce.subscribe)||void 0===ee||ee.call(ce);let Be=!0;H.subscribe(new N.Q(j,Ie=>{var Re;null===(Re=ce.next)||void 0===Re||Re.call(ce,Ie),j.next(Ie)},()=>{var Ie;Be=!1,null===(Ie=ce.complete)||void 0===Ie||Ie.call(ce),j.complete()},Ie=>{var Re;Be=!1,null===(Re=ce.error)||void 0===Re||Re.call(ce,Ie),j.error(Ie)},()=>{var Ie,Re;Be&&(null===(Ie=ce.unsubscribe)||void 0===Ie||Ie.call(ce)),null===(Re=ce.finalize)||void 0===Re||Re.call(ce)}))}):ae.y}},4408:(st,Ce,P)=>{"use strict";P.d(Ce,{o:()=>ie});var f=P(727);class J extends f.w0{constructor(se,ue){super()}schedule(se,ue=0){return this}}const N={setInterval(...fe){const{delegate:se}=N;return((null==se?void 0:se.setInterval)||setInterval)(...fe)},clearInterval(fe){const{delegate:se}=N;return((null==se?void 0:se.clearInterval)||clearInterval)(fe)},delegate:void 0};var ae=P(8737);class ie extends J{constructor(se,ue){super(se,ue),this.scheduler=se,this.work=ue,this.pending=!1}schedule(se,ue=0){if(this.closed)return this;this.state=se;const ce=this.id,H=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(H,ce,ue)),this.pending=!0,this.delay=ue,this.id=this.id||this.requestAsyncId(H,this.id,ue),this}requestAsyncId(se,ue,ce=0){return N.setInterval(se.flush.bind(se,this),ce)}recycleAsyncId(se,ue,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return ue;N.clearInterval(ue)}execute(se,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(se,ue);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,ue){let H,ce=!1;try{this.work(se)}catch(j){ce=!0,H=j||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:se,scheduler:ue}=this,{actions:ce}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(ce,this),null!=se&&(this.id=this.recycleAsyncId(ue,se,null)),this.delay=null,super.unsubscribe()}}}},7565:(st,Ce,P)=>{"use strict";P.d(Ce,{v:()=>N});var f=P(6063);class J{constructor(ie,fe=J.now){this.schedulerActionCtor=ie,this.now=fe}schedule(ie,fe=0,se){return new this.schedulerActionCtor(this,ie).schedule(se,fe)}}J.now=f.l.now;class N extends J{constructor(ie,fe=J.now){super(ie,fe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ie){const{actions:fe}=this;if(this._active)return void fe.push(ie);let se;this._active=!0;do{if(se=ie.execute(ie.state,ie.delay))break}while(ie=fe.shift());if(this._active=!1,se){for(;ie=fe.shift();)ie.unsubscribe();throw se}}}},4986:(st,Ce,P)=>{"use strict";P.d(Ce,{z:()=>N});var f=P(4408);const N=new(P(7565).v)(f.o)},6063:(st,Ce,P)=>{"use strict";P.d(Ce,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(st,Ce,P)=>{"use strict";P.d(Ce,{z:()=>f});const f={setTimeout(...J){const{delegate:N}=f;return((null==N?void 0:N.setTimeout)||setTimeout)(...J)},clearTimeout(J){const{delegate:N}=f;return((null==N?void 0:N.clearTimeout)||clearTimeout)(J)},delegate:void 0}},2202:(st,Ce,P)=>{"use strict";P.d(Ce,{h:()=>J});const J=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(st,Ce,P)=>{"use strict";P.d(Ce,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(st,Ce,P)=>{"use strict";P.d(Ce,{_6:()=>fe,jO:()=>ae,yG:()=>ie});var f=P(576);function N(se){return se[se.length-1]}function ae(se){return(0,f.m)(N(se))?se.pop():void 0}function ie(se){return function J(se){return se&&(0,f.m)(se.schedule)}(N(se))?se.pop():void 0}function fe(se,ue){return"number"==typeof N(se)?se.pop():ue}},8737:(st,Ce,P)=>{"use strict";function f(J,N){if(J){const ae=J.indexOf(N);0<=ae&&J.splice(ae,1)}}P.d(Ce,{P:()=>f})},3888:(st,Ce,P)=>{"use strict";function f(J){const ae=J(ie=>{Error.call(ie),ie.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}P.d(Ce,{d:()=>f})},2806:(st,Ce,P)=>{"use strict";P.d(Ce,{x:()=>N,O:()=>ae});var f=P(2416);let J=null;function N(ie){if(f.v.useDeprecatedSynchronousErrorHandling){const fe=!J;if(fe&&(J={errorThrown:!1,error:null}),ie(),fe){const{errorThrown:se,error:ue}=J;if(J=null,se)throw ue}}else ie()}function ae(ie){f.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=ie)}},9672:(st,Ce,P)=>{"use strict";function f(J,N,ae,ie=0,fe=!1){const se=N.schedule(function(){ae(),fe?J.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(J.add(se),!fe)return se}P.d(Ce,{f:()=>f})},4671:(st,Ce,P)=>{"use strict";function f(J){return J}P.d(Ce,{y:()=>f})},1144:(st,Ce,P)=>{"use strict";P.d(Ce,{z:()=>f});const f=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(st,Ce,P)=>{"use strict";P.d(Ce,{D:()=>J});var f=P(576);function J(N){return Symbol.asyncIterator&&(0,f.m)(null==N?void 0:N[Symbol.asyncIterator])}},576:(st,Ce,P)=>{"use strict";function f(J){return"function"==typeof J}P.d(Ce,{m:()=>f})},3670:(st,Ce,P)=>{"use strict";P.d(Ce,{c:()=>N});var f=P(8822),J=P(576);function N(ae){return(0,J.m)(ae[f.L])}},6495:(st,Ce,P)=>{"use strict";P.d(Ce,{T:()=>N});var f=P(2202),J=P(576);function N(ae){return(0,J.m)(null==ae?void 0:ae[f.h])}},8239:(st,Ce,P)=>{"use strict";P.d(Ce,{t:()=>J});var f=P(576);function J(N){return(0,f.m)(null==N?void 0:N.then)}},3260:(st,Ce,P)=>{"use strict";P.d(Ce,{Q:()=>N,L:()=>ae});var f=P(5987),J=P(576);function N(ie){return(0,f.FC)(this,arguments,function*(){const se=ie.getReader();try{for(;;){const{value:ue,done:ce}=yield(0,f.qq)(se.read());if(ce)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(ue)}}finally{se.releaseLock()}})}function ae(ie){return(0,J.m)(null==ie?void 0:ie.getReader)}},4482:(st,Ce,P)=>{"use strict";P.d(Ce,{A:()=>J,e:()=>N});var f=P(576);function J(ae){return(0,f.m)(null==ae?void 0:ae.lift)}function N(ae){return ie=>{if(J(ie))return ie.lift(function(fe){try{return ae(fe,this)}catch(se){this.error(se)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(st,Ce,P)=>{"use strict";function f(){}P.d(Ce,{Z:()=>f})},7849:(st,Ce,P)=>{"use strict";P.d(Ce,{h:()=>N});var f=P(2416),J=P(3410);function N(ae){J.z.setTimeout(()=>{const{onUnhandledError:ie}=f.v;if(!ie)throw ae;ie(ae)})}},4532:(st,Ce,P)=>{"use strict";function f(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ce,{z:()=>f})},5987:(st,Ce,P)=>{"use strict";function ue(X,ge,Ee,De){return new(Ee||(Ee=Promise))(function(de,xt){function Ht(rt){try{ut(De.next(rt))}catch(Ir){xt(Ir)}}function Kn(rt){try{ut(De.throw(rt))}catch(Ir){xt(Ir)}}function ut(rt){rt.done?de(rt.value):function Fe(de){return de instanceof Ee?de:new Ee(function(xt){xt(de)})}(rt.value).then(Ht,Kn)}ut((De=De.apply(X,ge||[])).next())})}function K(X){return this instanceof K?(this.v=X,this):new K(X)}function ne(X,ge,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,De=Ee.apply(X,ge||[]),de=[];return Fe={},xt("next"),xt("throw"),xt("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function xt(on){De[on]&&(Fe[on]=function(Tr){return new Promise(function(Xt,ci){de.push([on,Tr,Xt,ci])>1||Ht(on,Tr)})})}function Ht(on,Tr){try{!function Kn(on){on.value instanceof K?Promise.resolve(on.value.v).then(ut,rt):Ir(de[0][2],on)}(De[on](Tr))}catch(Xt){Ir(de[0][3],Xt)}}function ut(on){Ht("next",on)}function rt(on){Ht("throw",on)}function Ir(on,Tr){on(Tr),de.shift(),de.length&&Ht(de[0][0],de[0][1])}}function Te(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,ge=X[Symbol.asyncIterator];return ge?ge.call(X):(X=function ee(X){var ge="function"==typeof Symbol&&Symbol.iterator,Ee=ge&&X[ge],De=0;if(Ee)return Ee.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&De>=X.length&&(X=void 0),{value:X&&X[De++],done:!X}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),Ee={},De("next"),De("throw"),De("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function De(de){Ee[de]=X[de]&&function(xt){return new Promise(function(Ht,Kn){!function Fe(de,xt,Ht,Kn){Promise.resolve(Kn).then(function(ut){de({value:ut,done:Ht})},xt)}(Ht,Kn,(xt=X[de](xt)).done,xt.value)})}}}P.d(Ce,{mG:()=>ue,qq:()=>K,FC:()=>ne,KL:()=>Te})},5e3:(st,Ce,P)=>{"use strict";P.d(Ce,{deG:()=>pu,tb:()=>vm,AFp:()=>qa,ip1:()=>wr,CZH:()=>uo,hGG:()=>Kw,z2F:()=>Qd,sBO:()=>Lv,Sil:()=>xv,_Vd:()=>Jc,EJc:()=>He,SBq:()=>Uu,qLn:()=>xs,vpe:()=>hs,tBr:()=>Mn,XFs:()=>Je,OlP:()=>tn,zs3:()=>wi,ZZ4:()=>rp,aQg:()=>th,soG:()=>Em,YKP:()=>sv,h0i:()=>Ga,PXZ:()=>Dr,R0b:()=>ps,FiY:()=>nn,Lbi:()=>Zd,g9A:()=>er,Qsj:()=>WI,FYo:()=>nv,JOm:()=>Vr,tp0:()=>vr,Rgc:()=>Gu,dDg:()=>Mt,q4F:()=>Ff,GfV:()=>rv,s_b:()=>um,ifc:()=>Rt,eFA:()=>za,G48:()=>Pv,Gpc:()=>j,f3M:()=>Me,X6Q:()=>Lw,_c5:()=>zw,VLi:()=>Pw,c2e:()=>It,zSh:()=>pf,wAp:()=>yt,vHH:()=>Re,cg1:()=>F_,kL8:()=>Db,dqk:()=>gt,sIi:()=>vf,CqO:()=>v_,QGY:()=>__,F4k:()=>W0,RDi:()=>Ol,AaK:()=>ue,qOj:()=>e_,TTD:()=>aa,_Bn:()=>Gb,xp6:()=>nC,uIk:()=>n_,ekj:()=>Od,Suo:()=>vw,Xpm:()=>Bn,lG2:()=>Qa,Yz7:()=>Xt,cJS:()=>Zi,oAB:()=>bs,Yjl:()=>Bs,Y36:()=>Df,_UZ:()=>p_,qZA:()=>Cf,TgZ:()=>Bg,EpF:()=>y_,n5z:()=>bn,Ikx:()=>P_,LFG:()=>W,$8M:()=>Po,$Z:()=>G0,NdJ:()=>jg,CRH:()=>Ew,kcU:()=>Vl,O4$:()=>cu,oxw:()=>b_,ALo:()=>om,xi3:()=>Hu,Hsn:()=>w_,F$t:()=>Q0,Q6J:()=>Ug,DdM:()=>av,VKq:()=>sw,iGM:()=>pv,MAs:()=>O0,CHM:()=>tu,LSH:()=>Eu,YNc:()=>k0,_uU:()=>EI,Oqu:()=>Kc,Gf:()=>fm});var f=P(7579),J=P(727),N=P(8306),ae=P(6451),ie=P(3099);function fe(i){for(let o in i)if(i[o]===fe)return o;throw Error("Could not find renamed property on target object.")}function se(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function ue(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ue).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ce(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const H=fe({__forward_ref__:fe});function j(i){return i.__forward_ref__=j,i.toString=function(){return ue(this())},i}function ee(i){return Be(i)?i():i}function Be(i){return"function"==typeof i&&i.hasOwnProperty(H)&&i.__forward_ref__===j}class Re extends Error{constructor(o,a){super(function Ue(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}(o,a)),this.code=o}}function K(i){return"string"==typeof i?i:null==i?"":String(i)}function ne(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():K(i)}function $e(i,o){const a=o?` in ${o}`:"";throw new Re(-201,`No provider for ${ne(i)} found${a}`)}function ut(i,o){null==i&&function rt(i,o,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,i,null,"!=")}function Xt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Zi(i){return{providers:i.providers||[],imports:i.imports||[]}}function Cn(i){return Mi(i,$r)||Mi(i,xe)}function Mi(i,o){return i.hasOwnProperty(o)?i[o]:null}function Ls(i){return i&&(i.hasOwnProperty(Yi)||i.hasOwnProperty(rr))?i[Yi]:null}const $r=fe({\u0275prov:fe}),Yi=fe({\u0275inj:fe}),xe=fe({ngInjectableDef:fe}),rr=fe({ngInjectorDef:fe});var Je=(()=>((Je=Je||{})[Je.Default=0]="Default",Je[Je.Host=1]="Host",Je[Je.Self=2]="Self",Je[Je.SkipSelf=4]="SkipSelf",Je[Je.Optional=8]="Optional",Je))();let Qr;function Un(i){const o=Qr;return Qr=i,o}function Vs(i,o,a){const c=Cn(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&Je.Optional?null:void 0!==o?o:void $e(ue(i),"Injector")}function nt(i){return{toString:i}.toString()}var Ot=(()=>((Ot=Ot||{})[Ot.OnPush=0]="OnPush",Ot[Ot.Default=1]="Default",Ot))(),Rt=(()=>{return(i=Rt||(Rt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Rt;var i})();const Xe="undefined"!=typeof globalThis&&globalThis,ct="undefined"!=typeof window&&window,rc="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,gt=Xe||"undefined"!=typeof global&&global||ct||rc,Qi={},V=[],G=fe({\u0275cmp:fe}),q=fe({\u0275dir:fe}),we=fe({\u0275pipe:fe}),te=fe({\u0275mod:fe}),Ge=fe({\u0275fac:fe}),vt=fe({__NG_ELEMENT_ID__:fe});let dn=0;function Bn(i){return nt(()=>{const a={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Ot.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||V,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Rt.Emulated,id:"c",styles:i.styles||V,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,g=i.features,_=i.pipes;return c.id+=dn++,c.inputs=go(i.inputs,a),c.outputs=go(i.outputs),g&&g.forEach(b=>b(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(Sr):null,c.pipeDefs=_?()=>("function"==typeof _?_():_).map(Vt):null,c})}function Sr(i){return Zn(i)||function jn(i){return i[q]||null}(i)}function Vt(i){return function xi(i){return i[we]||null}(i)}const ir={};function bs(i){return nt(()=>{const o={type:i.type,bootstrap:i.bootstrap||V,declarations:i.declarations||V,imports:i.imports||V,exports:i.exports||V,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(ir[i.id]=i.type),o})}function go(i,o){if(null==i)return Qi;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),a[d]=c,o&&(o[d]=g)}return a}const Qa=Bn;function Bs(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Zn(i){return i[G]||null}function Yn(i,o){const a=i[te]||null;if(!a&&!0===o)throw new Error(`Type ${ue(i)} does not have '\u0275mod' property.`);return a}function hi(i){return Array.isArray(i)&&"object"==typeof i[1]}function fi(i){return Array.isArray(i)&&!0===i[1]}function wl(i){return 0!=(8&i.flags)}function On(i){return 2==(2&i.flags)}function Ji(i){return 1==(1&i.flags)}function Ri(i){return null!==i.template}function oc(i){return 0!=(512&i[2])}function Hs(i,o){return i.hasOwnProperty(Ge)?i[Ge]:null}class Ja{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function aa(){return Gs}function Gs(i){return i.type.prototype.ngOnChanges&&(i.setInput=Cs),ua}function ua(){const i=xl(this),o=null==i?void 0:i.current;if(o){const a=i.previous;if(a===Qi)i.previous=o;else for(let c in o)a[c]=o[c];i.current=null,this.ngOnChanges(o)}}function Cs(i,o,a,c){const d=xl(i)||function mr(i,o){return i[ca]=o}(i,{previous:Qi,current:null}),g=d.current||(d.current={}),_=d.previous,b=this.declaredInputs[a],w=_[b];g[b]=new Ja(w&&w.currentValue,o,_===Qi),i[c]=o}aa.ngInherit=!0;const ca="__ngSimpleChanges__";function xl(i){return i[ca]||null}const la="http://www.w3.org/2000/svg";let Xa;function Ol(i){Xa=i}function Jt(i){return!!i.listen}const Is={createRenderer:(i,o)=>function dc(){return void 0!==Xa?Xa:"undefined"!=typeof document?document:void 0}()};function un(i){for(;Array.isArray(i);)i=i[0];return i}function Gn(i,o){return un(o[i])}function Rn(i,o){return un(o[i.index])}function bo(i,o){return i.data[o]}function Ni(i,o){return i[o]}function Or(i,o){const a=o[i];return hi(a)?a:a[0]}function qn(i){return 4==(4&i[2])}function Pi(i){return 128==(128&i[2])}function Rr(i,o){return null==o?null:i[o]}function Ts(i){i[18]=0}function wo(i,o){i[5]+=o;let a=i,c=i[3];for(;null!==c&&(1===o&&1===a[5]||-1===o&&0===a[5]);)c[5]+=o,a=c,c=c[3]}const mt={lFrame:_a(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Co(){return mt.bindingsEnabled}function Se(){return mt.lFrame.lView}function Pt(){return mt.lFrame.tView}function tu(i){return mt.lFrame.contextLView=i,i[8]}function cn(){let i=qs();for(;null!==i&&64===i.type;)i=i.parent;return i}function qs(){return mt.lFrame.currentTNode}function Nr(i,o){const a=mt.lFrame;a.currentTNode=i,a.isParent=o}function es(){return mt.lFrame.isParent}function nu(){mt.lFrame.isParent=!1}function Io(){return mt.isInCheckNoChangesMode}function fa(i){mt.isInCheckNoChangesMode=i}function zn(){const i=mt.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}function ts(){return mt.lFrame.bindingIndex++}function ou(i,o){const a=mt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Ao(o)}function Ao(i){mt.lFrame.currentDirectiveIndex=i}function ma(){return mt.lFrame.currentQueryIndex}function ya(i){mt.lFrame.currentQueryIndex=i}function au(i){const o=i[1];return 2===o.type?o.declTNode:1===o.type?i[6]:null}function pc(i,o,a){if(a&Je.SkipSelf){let d=o,g=i;for(;!(d=d.parent,null!==d||a&Je.Host||(d=au(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;o=d,i=g}const c=mt.lFrame=Fl();return c.currentTNode=o,c.lView=i,!0}function So(i){const o=Fl(),a=i[1];mt.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Fl(){const i=mt.lFrame,o=null===i?null:i.child;return null===o?_a(i):o}function _a(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function gc(){const i=mt.lFrame;return mt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const va=gc;function uu(){const i=gc();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Jn(){return mt.lFrame.selectedIndex}function Nn(i){mt.lFrame.selectedIndex=i}function _n(){const i=mt.lFrame;return bo(i.tView,i.selectedIndex)}function cu(){mt.lFrame.currentNamespace=la}function Vl(){!function Dh(){mt.lFrame.currentNamespace=null}()}function mc(i,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const g=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:b,ngAfterViewInit:w,ngAfterViewChecked:S,ngOnDestroy:k}=g;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),b&&((i.contentHooks||(i.contentHooks=[])).push(a,b),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,b)),w&&(i.viewHooks||(i.viewHooks=[])).push(-a,w),S&&((i.viewHooks||(i.viewHooks=[])).push(a,S),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,S)),null!=k&&(i.destroyHooks||(i.destroyHooks=[])).push(a,k)}}function Ss(i,o,a){Ih(i,o,3,a)}function lu(i,o,a,c){(3&i[2])===a&&Ih(i,o,a,c)}function du(i,o){let a=i[2];(3&a)===o&&(a&=2047,a+=1,i[2]=a)}function Ih(i,o,a,c){const g=null!=c?c:-1,_=o.length-1;let b=0;for(let w=void 0!==c?65535&i[18]:0;w<_;w++)if("number"==typeof o[w+1]){if(b=o[w],null!=c&&b>=c)break}else o[w]<0&&(i[18]+=65536),(b<g||-1==g)&&(Bl(i,a,o,w),i[18]=(4294901760&i[18])+w+2),w++}function Bl(i,o,a,c){const d=a[c]<0,g=a[c+1],b=i[d?-a[c]:a[c]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===o){i[2]+=2048;try{g.call(b)}finally{}}}else try{g.call(b)}finally{}}class vn{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function yc(i,o,a){const c=Jt(i);let d=0;for(;d<a.length;){const g=a[d];if("number"==typeof g){if(0!==g)break;d++;const _=a[d++],b=a[d++],w=a[d++];c?i.setAttribute(o,b,w,_):o.setAttributeNS(_,b,w)}else{const _=g,b=a[++d];yr(_)?c&&i.setProperty(o,_,b):c?i.setAttribute(o,_,b):o.setAttribute(_,b),d++}}return d}function gn(i){return 3===i||4===i||6===i}function yr(i){return 64===i.charCodeAt(0)}function sr(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?a=d:0===a||Ah(i,a,d,null,-1===a||2===a?o[++c]:null)}}return i}function Ah(i,o,a,c,d){let g=0,_=i.length;if(-1===o)_=-1;else for(;g<i.length;){const b=i[g++];if("number"==typeof b){if(b===o){_=-1;break}if(b>o){_=g-1;break}}}for(;g<i.length;){const b=i[g];if("number"==typeof b)break;if(b===a){if(null===c)return void(null!==d&&(i[g+1]=d));if(c===i[g+1])return void(i[g+2]=d)}g++,null!==c&&g++,null!==d&&g++}-1!==_&&(i.splice(_,0,o),g=_+1),i.splice(g++,0,a),null!==c&&i.splice(g++,0,c),null!==d&&i.splice(g++,0,d)}function Sh(i){return-1!==i}function Da(i){return 32767&i}function Ca(i,o){let a=function Hl(i){return i>>16}(i),c=o;for(;a>0;)c=c[15],a--;return c}let Mo=!0;function Fi(i){const o=Mo;return Mo=i,o}let _c=0;function xo(i,o){const a=ko(i,o);if(-1!==a)return a;const c=o[1];c.firstCreatePass&&(i.injectorIndex=o.length,vc(c.data,i),vc(o,null),vc(c.blueprint,null));const d=Pr(i,o),g=i.injectorIndex;if(Sh(d)){const _=Da(d),b=Ca(d,o),w=b[1].data;for(let S=0;S<8;S++)o[g+S]=b[_+S]|w[_+S]}return o[g+8]=d,g}function vc(i,o){i.push(0,0,0,0,0,0,0,0,o)}function ko(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function Pr(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=o;for(;null!==d;){const g=d[1],_=g.type;if(c=2===_?g.declTNode:1===_?d[6]:null,null===c)return-1;if(a++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function Fr(i,o,a){!function Gl(i,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(vt)&&(c=a[vt]),null==c&&(c=a[vt]=_c++);const d=255&c;o.data[i+(d>>5)]|=1<<d}(i,o,a)}function fu(i,o,a){if(a&Je.Optional)return i;$e(o,"NodeInjector")}function Li(i,o,a,c){if(a&Je.Optional&&void 0===c&&(c=null),0==(a&(Je.Self|Je.Host))){const d=i[9],g=Un(void 0);try{return d?d.get(o,c,a&Je.Optional):Vs(o,c,a&Je.Optional)}finally{Un(g)}}return fu(c,o,a)}function Ec(i,o,a,c=Je.Default,d){if(null!==i){const g=function Vi(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(vt)?i[vt]:void 0;return"number"==typeof o?o>=0?255&o:Ro:o}(a);if("function"==typeof g){if(!pc(o,i,c))return c&Je.Host?fu(d,a,c):Li(o,a,c,d);try{const _=g(c);if(null!=_||c&Je.Optional)return _;$e(a)}finally{va()}}else if("number"==typeof g){let _=null,b=ko(i,o),w=-1,S=c&Je.Host?o[16][6]:null;for((-1===b||c&Je.SkipSelf)&&(w=-1===b?Pr(i,o):o[b+8],-1!==w&&Aa(c,!1)?(_=o[1],b=Da(w),o=Ca(w,o)):b=-1);-1!==b;){const k=o[1];if(Mh(g,b,k.data)){const F=Jr(b,o,a,_,c,S);if(F!==bc)return F}w=o[b+8],-1!==w&&Aa(c,o[1].data[b+8]===S)&&Mh(g,b,o)?(_=k,b=Da(w),o=Ca(w,o)):b=-1}}}return Li(o,a,c,d)}const bc={};function Ro(){return new zs(cn(),Se())}function Jr(i,o,a,c,d,g){const _=o[1],b=_.data[i+8],k=Ta(b,_,a,null==c?On(b)&&Mo:c!=_&&0!=(3&b.type),d&Je.Host&&g===b);return null!==k?qt(o,_,k,b):bc}function Ta(i,o,a,c,d){const g=i.providerIndexes,_=o.data,b=1048575&g,w=i.directiveStart,k=g>>20,$=d?b+k:i.directiveEnd;for(let Y=c?b:b+k;Y<$;Y++){const oe=_[Y];if(Y<w&&a===oe||Y>=w&&oe.type===a)return Y}if(d){const Y=_[w];if(Y&&Ri(Y)&&Y.type===a)return w}return null}function qt(i,o,a,c){let d=i[a];const g=o.data;if(function Th(i){return i instanceof vn}(d)){const _=d;_.resolving&&function ye(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new Re(-200,`Circular dependency in DI detected for ${i}${a}`)}(ne(g[a]));const b=Fi(_.canSeeViewProviders);_.resolving=!0;const w=_.injectImpl?Un(_.injectImpl):null;pc(i,c,Je.Default);try{d=i[a]=_.factory(void 0,g,i,c),o.firstCreatePass&&a>=c.directiveStart&&function Ch(i,o,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(c){const _=Gs(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,g))}(a,g[a],o)}finally{null!==w&&Un(w),Fi(b),_.resolving=!1,va()}}return d}function Mh(i,o,a){return!!(a[o+(i>>5)]&1<<i)}function Aa(i,o){return!(i&Je.Self||i&Je.Host&&o)}class zs{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return Ec(this._tNode,this._lView,o,c,a)}}function bn(i){return nt(()=>{const o=i.prototype.constructor,a=o[Ge]||No(o),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const g=d[Ge]||No(d);if(g&&g!==a)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function No(i){return Be(i)?()=>{const o=No(ee(i));return o&&o()}:Hs(i)}function Po(i){return function Oo(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const g=a[d];if(gn(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(g===o)return a[d+1];d+=2}}}return null}(cn(),i)}const is="__parameters__";function Ws(i,o,a){return nt(()=>{const c=function Ui(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(o);function d(...g){if(this instanceof d)return c.apply(this,g),this;const _=new d(...g);return b.annotation=_,b;function b(w,S,k){const F=w.hasOwnProperty(is)?w[is]:Object.defineProperty(w,is,{value:[]})[is];for(;F.length<=k;)F.push(null);return(F[k]=F[k]||[]).push(_),w}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class tn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Xt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const pu=new tn("AnalyzeForEntryComponents");function Pn(i,o){void 0===o&&(o=i);for(let a=0;a<i.length;a++){let c=i[a];Array.isArray(c)?(o===i&&(o=i.slice(0,a)),Pn(c,o)):o!==i&&o.push(c)}return o}function hn(i,o){i.forEach(a=>Array.isArray(a)?hn(a,o):o(a))}function Ic(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function gu(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function Ma(i,o){const a=[];for(let c=0;c<i;c++)a.push(o);return a}function or(i,o,a){let c=Zs(i,o);return c>=0?i[1|c]=a:(c=~c,function Ks(i,o,a,c){let d=i.length;if(d==o)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>o;)i[d]=i[d-2],d--;i[o]=a,i[o+1]=c}}(i,c,o,a)),c}function mu(i,o){const a=Zs(i,o);if(a>=0)return i[1|a]}function Zs(i,o){return function Fp(i,o,a){let c=0,d=i.length>>a;for(;d!==c;){const g=c+(d-c>>1),_=i[g<<a];if(o===_)return g<<a;_>o?d=g:c=g+1}return~(d<<a)}(i,o,1)}const ar={},ka="__NG_DI_FLAG__",Oa="ngTempTokenPath",Vo=/\n/gm,Sc="__source",D=fe({provide:String,useValue:fe});let I;function O(i){const o=I;return I=i,o}function L(i,o=Je.Default){if(void 0===I)throw new Re(203,"");return null===I?Vs(i,void 0,o):I.get(i,o&Je.Optional?null:void 0,o)}function W(i,o=Je.Default){return(function Zt(){return Qr}()||L)(ee(i),o)}const Me=W;function Ke(i){const o=[];for(let a=0;a<i.length;a++){const c=ee(i[a]);if(Array.isArray(c)){if(0===c.length)throw new Re(900,"");let d,g=Je.Default;for(let _=0;_<c.length;_++){const b=c[_],w=Ut(b);"number"==typeof w?-1===w?d=b.token:g|=w:d=b}o.push(W(d,g))}else o.push(W(c))}return o}function ze(i,o){return i[ka]=o,i.prototype[ka]=o,i}function Ut(i){return i[ka]}const Mn=ze(Ws("Inject",i=>({token:i})),-1),nn=ze(Ws("Optional"),8),vr=ze(Ws("SkipSelf"),4);class sd{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Na(i){return i instanceof sd?i.changingThisBreaksApplicationSecurity:i}const Gh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,qh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var pn=(()=>((pn=pn||{})[pn.NONE=0]="NONE",pn[pn.HTML=1]="HTML",pn[pn.STYLE=2]="STYLE",pn[pn.SCRIPT=3]="SCRIPT",pn[pn.URL=4]="URL",pn[pn.RESOURCE_URL=5]="RESOURCE_URL",pn))();function Eu(i){const o=function bu(){const i=Se();return i&&i[12]}();return o?o.sanitize(pn.URL,i)||"":function $o(i,o){const a=function dy(i){return i instanceof sd&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(i,"URL")?Na(i):function Pa(i){return(i=String(i)).match(Gh)||i.match(qh)?i:"unsafe:"+i}(K(i))}const Dy="__ngContext__";function xn(i,o){i[Dy]=o}function Yh(i){const o=function Ho(i){return i[Dy]||null}(i);return o?Array.isArray(o)?o:o.lView:null}function Lc(i){return i.ngOriginalError}function fd(i,...o){i.error(...o)}class xs{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),c=function hd(i){return i&&i.ngErrorLogger||fd}(o);c(this._console,"ERROR",o),a&&c(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Lc(o);for(;a&&Lc(a);)a=Lc(a);return a||null}}const pd=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(gt))();function kn(i){return i instanceof Function?i():i}var Vr=(()=>((Vr=Vr||{})[Vr.Important=1]="Important",Vr[Vr.DashCase=2]="DashCase",Vr))();function og(i,o){return undefined(i,o)}function Iu(i){const o=i[3];return fi(o)?o[3]:o}function md(i){return to(i[13])}function ug(i){return to(i[4])}function to(i){for(;null!==i&&!fi(i);)i=i[4];return i}function Tu(i,o,a,c,d){if(null!=c){let g,_=!1;fi(c)?g=c:hi(c)&&(_=!0,c=c[0]);const b=un(c);0===i&&null!==a?null==d?Bt(o,a,b):Ze(o,a,b,d||null,!0):1===i&&null!==a?Ze(o,a,b,d||null,!0):2===i?function xy(i,o,a){const c=Au(i,o);c&&function Fa(i,o,a,c){Jt(i)?i.removeChild(o,a,c):o.removeChild(a)}(i,c,o,a)}(o,b,_):3===i&&o.destroyNode(b),null!=g&&function pM(i,o,a,c,d){const g=a[7];g!==un(a)&&Tu(o,i,c,g,d);for(let b=10;b<a.length;b++){const w=a[b];gg(w[1],w,i,o,c,g)}}(o,i,g,a,d)}}function lg(i,o,a){return Jt(i)?i.createElement(o,a):null===a?i.createElement(o):i.createElementNS(a,o)}function v(i,o){const a=i[9],c=a.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,wo(d,-1)),a.splice(c,1)}function T(i,o){if(i.length<=10)return;const a=10+o,c=i[a];if(c){const d=c[17];null!==d&&d!==i&&v(d,c),o>0&&(i[a-1][4]=c[4]);const g=gu(i,10+o);!function GE(i,o){gg(i,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const _=g[19];null!==_&&_.detachView(g[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function x(i,o){if(!(256&o[2])){const a=o[11];Jt(a)&&a.destroyNode&&gg(i,o,a,3,null,null),function y(i){let o=i[13];if(!o)return B(i[1],i);for(;o;){let a=null;if(hi(o))a=o[13];else{const c=o[10];c&&(a=c)}if(!a){for(;o&&!o[4]&&o!==i;)hi(o)&&B(o[1],o),o=o[3];null===o&&(o=i),hi(o)&&B(o[1],o),a=o&&o[4]}o=a}}(o)}}function B(i,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function Le(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=o[a[c]];if(!(d instanceof vn)){const g=a[c+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const b=d[g[_]],w=g[_+1];try{w.call(b)}finally{}}else try{g.call(d)}finally{}}}}(i,o),function re(i,o){const a=i.cleanup,c=o[7];let d=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const _=a[g+1],b="function"==typeof _?_(o):un(o[_]),w=c[d=a[g+2]],S=a[g+3];"boolean"==typeof S?b.removeEventListener(a[g],w,S):S>=0?c[d=S]():c[d=-S].unsubscribe(),g+=2}else{const _=c[d=a[g+1]];a[g].call(_)}if(null!==c){for(let g=d+1;g<c.length;g++)c[g]();o[7]=null}}(i,o),1===o[1].type&&Jt(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&fi(o[3])){a!==o[3]&&v(a,o);const c=o[19];null!==c&&c.detachView(i)}}}function Ne(i,o,a){return function et(i,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[0];if(2&c.flags){const d=i.data[c.directiveStart].encapsulation;if(d===Rt.None||d===Rt.Emulated)return null}return Rn(c,a)}(i,o.parent,a)}function Ze(i,o,a,c,d){Jt(i)?i.insertBefore(o,a,c,d):o.insertBefore(a,c,d)}function Bt(i,o,a){Jt(i)?i.appendChild(o,a):o.appendChild(a)}function ur(i,o,a,c,d){null!==c?Ze(i,o,a,c,d):Bt(i,o,a)}function Au(i,o){return Jt(i)?i.parentNode(o):o.parentNode}function hg(i,o,a){return of(i,o,a)}let of=function fg(i,o,a){return 40&i.type?Rn(i,a):null};function Uc(i,o,a,c){const d=Ne(i,c,o),g=o[11],b=hg(c.parent||o[6],c,o);if(null!=d)if(Array.isArray(a))for(let w=0;w<a.length;w++)ur(g,d,a[w],b,!1);else ur(g,d,a,b,!1)}function yd(i,o){if(null!==o){const a=o.type;if(3&a)return Rn(o,i);if(4&a)return _d(-1,i[o.index]);if(8&a){const c=o.child;if(null!==c)return yd(i,c);{const d=i[o.index];return fi(d)?_d(-1,d):un(d)}}if(32&a)return og(o,i)()||un(i[o.index]);{const c=My(i,o);return null!==c?Array.isArray(c)?c[0]:yd(Iu(i[16]),c):yd(i,o.next)}}return null}function My(i,o){return null!==o?i[16][6].projection[o.projection]:null}function _d(i,o){const a=10+i+1;if(a<o.length){const c=o[a],d=c[1].firstChild;if(null!==d)return yd(c,d)}return o[7]}function WE(i,o,a,c,d,g,_){for(;null!=a;){const b=c[a.index],w=a.type;if(_&&0===o&&(b&&xn(un(b),c),a.flags|=4),64!=(64&a.flags))if(8&w)WE(i,o,a.child,c,d,g,!1),Tu(o,i,d,b,g);else if(32&w){const S=og(a,c);let k;for(;k=S();)Tu(o,i,d,k,g);Tu(o,i,d,b,g)}else 16&w?ZD(i,o,c,a,d,g):Tu(o,i,d,b,g);a=_?a.projectionNext:a.next}}function gg(i,o,a,c,d,g){WE(a,c,i.firstChild,o,d,g,!1)}function ZD(i,o,a,c,d,g){const _=a[16],w=_[6].projection[c.projection];if(Array.isArray(w))for(let S=0;S<w.length;S++)Tu(o,i,d,w[S],g);else WE(i,o,w,_[3],d,g,!0)}function YD(i,o,a){Jt(i)?i.setAttribute(o,"style",a):o.style.cssText=a}function KE(i,o,a){Jt(i)?""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a):o.className=a}function QD(i,o,a){let c=i.length;for(;;){const d=i.indexOf(o,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const g=o.length;if(d+g===c||i.charCodeAt(d+g)<=32)return d}a=d+1}}const JD="ng-template";function mM(i,o,a){let c=0;for(;c<i.length;){let d=i[c++];if(a&&"class"===d){if(d=i[c],-1!==QD(d.toLowerCase(),o,0))return!0}else if(1===d){for(;c<i.length&&"string"==typeof(d=i[c++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function XD(i){return 4===i.type&&i.value!==JD}function yM(i,o,a){return o===(4!==i.type||a?i.value:JD)}function _M(i,o,a){let c=4;const d=i.attrs||[],g=function bM(i){for(let o=0;o<i.length;o++)if(gn(i[o]))return o;return i.length}(d);let _=!1;for(let b=0;b<o.length;b++){const w=o[b];if("number"!=typeof w){if(!_)if(4&c){if(c=2|1&c,""!==w&&!yM(i,w,a)||""===w&&1===o.length){if(no(c))return!1;_=!0}}else{const S=8&c?w:o[++b];if(8&c&&null!==i.attrs){if(!mM(i.attrs,S,a)){if(no(c))return!1;_=!0}continue}const F=vM(8&c?"class":w,d,XD(i),a);if(-1===F){if(no(c))return!1;_=!0;continue}if(""!==S){let $;$=F>g?"":d[F+1].toLowerCase();const Y=8&c?$:null;if(Y&&-1!==QD(Y,S,0)||2&c&&S!==$){if(no(c))return!1;_=!0}}}}else{if(!_&&!no(c)&&!no(w))return!1;if(_&&no(w))continue;_=!1,c=w|1&c}}return no(c)||_}function no(i){return 0==(1&i)}function vM(i,o,a,c){if(null===o)return-1;let d=0;if(c||!a){let g=!1;for(;d<o.length;){const _=o[d];if(_===i)return d;if(3===_||6===_)g=!0;else{if(1===_||2===_){let b=o[++d];for(;"string"==typeof b;)b=o[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=g?1:2}return-1}return function wM(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,i)}function eC(i,o,a=!1){for(let c=0;c<o.length;c++)if(_M(i,o[c],a))return!0;return!1}function DM(i,o){e:for(let a=0;a<o.length;a++){const c=o[a];if(i.length===c.length){for(let d=0;d<i.length;d++)if(i[d]!==c[d])continue e;return!0}}return!1}function tC(i,o){return i?":not("+o.trim()+")":o}function CM(i){let o=i[0],a=1,c=2,d="",g=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&c){const b=i[++a];d+="["+_+(b.length>0?'="'+b+'"':"")+"]"}else 8&c?d+="."+_:4&c&&(d+=" "+_);else""!==d&&!no(_)&&(o+=tC(g,d),d=""),c=_,g=g||!no(c);a++}return""!==d&&(o+=tC(g,d)),o}const Nt={};function nC(i){rC(Pt(),Se(),Jn()+i,Io())}function rC(i,o,a,c){if(!c)if(3==(3&o[2])){const g=i.preOrderCheckHooks;null!==g&&Ss(o,g,a)}else{const g=i.preOrderHooks;null!==g&&lu(o,g,0,a)}Nn(a)}function ky(i,o){return i<<17|o<<2}function Go(i){return i>>17&32767}function ZE(i){return 2|i}function Su(i){return(131068&i)>>2}function YE(i,o){return-131069&i|o<<2}function QE(i){return 1|i}function hC(i,o){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const d=a[c],g=a[c+1];if(-1!==g){const _=i.data[g];ya(d),_.contentQueries(2,o[g],g)}}}function uf(i,o,a,c,d,g,_,b,w,S){const k=o.blueprint.slice();return k[0]=d,k[2]=140|c,Ts(k),k[3]=k[15]=i,k[8]=a,k[10]=_||i&&i[10],k[11]=b||i&&i[11],k[12]=w||i&&i[12]||null,k[9]=S||i&&i[9]||null,k[6]=g,k[16]=2==o.type?i[16]:k,k}function cf(i,o,a,c,d){let g=i.data[o];if(null===g)g=function o0(i,o,a,c,d){const g=qs(),_=es(),w=i.data[o]=function h0(i,o,a,c,d,g){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,a,o,c,d);return null===i.firstChild&&(i.firstChild=w),null!==g&&(_?null==g.child&&null!==w.parent&&(g.child=w):null===g.next&&(g.next=w)),w}(i,o,a,c,d),function Pl(){return mt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=c,g.attrs=d;const _=function As(){const i=mt.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return Nr(g,!0),g}function lf(i,o,a,c){if(0===a)return-1;const d=o.length;for(let g=0;g<a;g++)o.push(c),i.blueprint.push(c),i.data.push(null);return d}function mg(i,o,a){So(o);try{const c=i.viewQuery;null!==c&&y0(1,c,a);const d=i.template;null!==d&&pC(i,o,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&hC(i,o),i.staticViewQueries&&y0(2,i.viewQuery,a);const g=i.components;null!==g&&function FM(i,o){for(let a=0;a<o.length;a++)SC(i,o[a])}(o,g)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{o[2]&=-5,uu()}}function df(i,o,a,c){const d=o[2];if(256==(256&d))return;So(o);const g=Io();try{Ts(o),function su(i){return mt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&pC(i,o,a,2,c);const _=3==(3&d);if(!g)if(_){const S=i.preOrderCheckHooks;null!==S&&Ss(o,S,null)}else{const S=i.preOrderHooks;null!==S&&lu(o,S,0,null),du(o,0)}if(function AC(i){for(let o=md(i);null!==o;o=ug(o)){if(!o[2])continue;const a=o[9];for(let c=0;c<a.length;c++){const d=a[c],g=d[3];0==(1024&d[2])&&wo(g,1),d[2]|=1024}}}(o),function jy(i){for(let o=md(i);null!==o;o=ug(o))for(let a=10;a<o.length;a++){const c=o[a],d=c[1];Pi(c)&&df(d,c,d.template,c[8])}}(o),null!==i.contentQueries&&hC(i,o),!g)if(_){const S=i.contentCheckHooks;null!==S&&Ss(o,S)}else{const S=i.contentHooks;null!==S&&lu(o,S,1),du(o,1)}!function s0(i,o){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)Nn(~d);else{const g=d,_=a[++c],b=a[++c];ou(_,g),b(2,o[g])}}}finally{Nn(-1)}}(i,o);const b=i.components;null!==b&&function fC(i,o){for(let a=0;a<o.length;a++)WM(i,o[a])}(o,b);const w=i.viewQuery;if(null!==w&&y0(2,w,c),!g)if(_){const S=i.viewCheckHooks;null!==S&&Ss(o,S)}else{const S=i.viewHooks;null!==S&&lu(o,S,2),du(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,wo(o[3],-1))}finally{uu()}}function LM(i,o,a,c){const d=o[10],g=!Io(),_=qn(o);try{g&&!_&&d.begin&&d.begin(),_&&mg(i,o,c),df(i,o,a,c)}finally{g&&!_&&d.end&&d.end()}}function pC(i,o,a,c,d){const g=Jn(),_=2&c;try{Nn(-1),_&&o.length>20&&rC(i,o,20,Io()),a(c,d)}finally{Nn(g)}}function a0(i,o,a){!Co()||(function EC(i,o,a,c){const d=a.directiveStart,g=a.directiveEnd;i.firstCreatePass||xo(a,o),xn(c,o);const _=a.initialInputs;for(let b=d;b<g;b++){const w=i.data[b],S=Ri(w);S&&qM(o,a,w);const k=qt(o,i,b,a);xn(k,o),null!==_&&IC(0,b-d,k,w,0,_),S&&(Or(a.index,o)[8]=k)}}(i,o,a,Rn(a,o)),128==(128&a.flags)&&function bC(i,o,a){const c=a.directiveStart,d=a.directiveEnd,_=a.index,b=function pa(){return mt.lFrame.currentDirectiveIndex}();try{Nn(_);for(let w=c;w<d;w++){const S=i.data[w],k=o[w];Ao(w),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&Uy(S,k)}}finally{Nn(-1),Ao(b)}}(i,o,a))}function u0(i,o,a=Rn){const c=o.localNames;if(null!==c){let d=o.index+1;for(let g=0;g<c.length;g+=2){const _=c[g+1],b=-1===_?a(o,i):i[_];i[d++]=b}}}function mC(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=Ly(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):o}function Ly(i,o,a,c,d,g,_,b,w,S){const k=20+c,F=k+d,$=function yC(i,o){const a=[];for(let c=0;c<o;c++)a.push(c<i?null:Nt);return a}(k,F),Y="function"==typeof S?S():S;return $[1]={type:i,blueprint:$,template:a,queries:null,viewQuery:b,declTNode:o,data:$.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:w,consts:Y,incompleteFirstPass:!1}}function d0(i,o,a,c){const d=xC(o);null===a?d.push(c):(d.push(a),i.firstCreatePass&&kC(i).push(c,d.length-1))}function _C(i,o,a){for(let c in i)if(i.hasOwnProperty(c)){const d=i[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(o,d):a[c]=[o,d]}return a}function ks(i,o,a,c,d,g,_,b){const w=Rn(o,a);let k,S=o.inputs;!b&&null!=S&&(k=S[c])?(Gy(i,a,k,c,d),On(o)&&function jM(i,o){const a=Or(o,i);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(c=function BM(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=_?_(d,o.value||"",c):d,Jt(g)?g.setProperty(w,c,d):yr(c)||(w.setProperty?w.setProperty(c,d):w[c]=d))}function f0(i,o,a,c){let d=!1;if(Co()){const g=function vd(i,o,a){const c=i.directiveRegistry;let d=null;if(c)for(let g=0;g<c.length;g++){const _=c[g];eC(a,_.selectors,!1)&&(d||(d=[]),Fr(xo(a,o),i,_.type),Ri(_)?(g0(i,a),d.unshift(_)):d.push(_))}return d}(i,o,a),_=null===c?null:{"":-1};if(null!==g){d=!0,DC(a,i.data.length,g.length);for(let k=0;k<g.length;k++){const F=g[k];F.providersResolver&&F.providersResolver(F)}let b=!1,w=!1,S=lf(i,o,g.length,null);for(let k=0;k<g.length;k++){const F=g[k];a.mergedAttrs=sr(a.mergedAttrs,F.hostAttrs),CC(i,a,o,S,F),wC(S,F,_),null!==F.contentQueries&&(a.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(a.flags|=128);const $=F.type.prototype;!b&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),b=!0),!w&&($.ngOnChanges||$.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),w=!0),S++}!function UM(i,o){const c=o.directiveEnd,d=i.data,g=o.attrs,_=[];let b=null,w=null;for(let S=o.directiveStart;S<c;S++){const k=d[S],F=k.inputs,$=null===g||XD(o)?null:zM(F,g);_.push($),b=_C(F,S,b),w=_C(k.outputs,S,w)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=16),b.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=b,o.outputs=w}(i,a)}_&&function GM(i,o,a){if(o){const c=i.localNames=[];for(let d=0;d<o.length;d+=2){const g=a[o[d+1]];if(null==g)throw new Re(-301,`Export of name '${o[d+1]}' not found!`);c.push(o[d],g)}}}(a,c,_)}return a.mergedAttrs=sr(a.mergedAttrs,a.attrs),d}function Vy(i,o,a,c,d,g){const _=g.hostBindings;if(_){let b=i.hostBindingOpCodes;null===b&&(b=i.hostBindingOpCodes=[]);const w=~o.index;(function p0(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(b)!=w&&b.push(w),b.push(c,d,_)}}function Uy(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function g0(i,o){o.flags|=2,(i.components||(i.components=[])).push(o.index)}function wC(i,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=i;Ri(o)&&(a[""]=i)}}function DC(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}function CC(i,o,a,c,d){i.data[c]=d;const g=d.factory||(d.factory=Hs(d.type)),_=new vn(g,Ri(d),null);i.blueprint[c]=_,a[c]=_,Vy(i,o,0,c,lf(i,a,d.hostVars,Nt),d)}function qM(i,o,a){const c=Rn(o,i),d=mC(a),g=i[10],_=$y(i,uf(i,d,null,a.onPush?64:16,c,o,g,g.createRenderer(c,a),null,null));i[o.index]=_}function zo(i,o,a,c,d,g){const _=Rn(i,o);!function Ed(i,o,a,c,d,g,_){if(null==g)Jt(i)?i.removeAttribute(o,d,a):o.removeAttribute(d);else{const b=null==_?K(g):_(g,c||"",d);Jt(i)?i.setAttribute(o,d,b,a):a?o.setAttributeNS(a,d,b):o.setAttribute(d,b)}}(o[11],_,g,i.value,a,c,d)}function IC(i,o,a,c,d,g){const _=g[o];if(null!==_){const b=c.setInput;for(let w=0;w<_.length;){const S=_[w++],k=_[w++],F=_[w++];null!==b?c.setInput(a,F,S,k):a[k]=F}}}function zM(i,o){let a=null,c=0;for(;c<o.length;){const d=o[c];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],o[c+1])),c+=2}else c+=2;else c+=4}return a}function By(i,o,a,c){return new Array(i,!0,!1,o,null,0,c,a,null,null)}function WM(i,o){const a=Or(o,i);if(Pi(a)){const c=a[1];80&a[2]?df(c,a,c.template,a[8]):a[5]>0&&yg(a)}}function yg(i){for(let c=md(i);null!==c;c=ug(c))for(let d=10;d<c.length;d++){const g=c[d];if(1024&g[2]){const _=g[1];df(_,g,_.template,g[8])}else g[5]>0&&yg(g)}const a=i[1].components;if(null!==a)for(let c=0;c<a.length;c++){const d=Or(a[c],i);Pi(d)&&d[5]>0&&yg(d)}}function SC(i,o){const a=Or(o,i),c=a[1];(function La(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])})(c,a),mg(c,a,a[8])}function $y(i,o){return i[13]?i[14][4]=o:i[13]=o,i[14]=o,o}function m0(i){for(;i;){i[2]|=64;const o=Iu(i);if(oc(i)&&!o)return i;i=o}return null}function vg(i,o,a){const c=o[10];c.begin&&c.begin();try{df(i,o,i.template,a)}catch(d){throw $c(o,d),d}finally{c.end&&c.end()}}function MC(i){!function _g(i){for(let o=0;o<i.components.length;o++){const a=i.components[o],c=Yh(a),d=c[1];LM(d,c,d.template,a)}}(i[8])}function y0(i,o,a){ya(0),o(i,a)}const QM=(()=>Promise.resolve(null))();function xC(i){return i[7]||(i[7]=[])}function kC(i){return i.cleanup||(i.cleanup=[])}function $c(i,o){const a=i[9],c=a?a.get(xs,null):null;c&&c.handleError(o)}function Gy(i,o,a,c,d){for(let g=0;g<a.length;){const _=a[g++],b=a[g++],w=o[_],S=i.data[_];null!==S.setInput?S.setInput(w,d,c,b):w[b]=d}}function ro(i,o,a){const c=Gn(o,i);!function Sy(i,o,a){Jt(i)?i.setValue(o,a):o.textContent=a}(i[11],c,a)}function hf(i,o,a){let c=a?i.styles:null,d=a?i.classes:null,g=0;if(null!==o)for(let _=0;_<o.length;_++){const b=o[_];"number"==typeof b?g=b:1==g?d=ce(d,b):2==g&&(c=ce(c,b+": "+o[++_]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}const ff=new tn("INJECTOR",-1);class Eg{get(o,a=ar){if(a===ar){const c=new Error(`NullInjectorError: No provider for ${ue(o)}!`);throw c.name="NullInjectorError",c}return a}}const pf=new tn("Set Injector scope."),zr={},_0={};let gf;function zy(){return void 0===gf&&(gf=new Eg),gf}function RC(i,o=null,a=null,c){const d=v0(i,o,a,c);return d._resolveInjectorDefTypes(),d}function v0(i,o=null,a=null,c){return new Hc(i,a,o||zy(),c)}class Hc{constructor(o,a,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];a&&hn(a,b=>this.processProvider(b,o,a)),hn([o],b=>this.processInjectorType(b,[],g)),this.records.set(ff,ku(void 0,this));const _=this.records.get(pf);this.scope=null!=_?_.value:null,this.source=d||("object"==typeof o?null:ue(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=ar,c=Je.Default){this.assertNotDestroyed();const d=O(this),g=Un(void 0);try{if(!(c&Je.SkipSelf)){let b=this.records.get(o);if(void 0===b){const w=function Dg(i){return"function"==typeof i||"object"==typeof i&&i instanceof tn}(o)&&Cn(o);b=w&&this.injectableDefInScope(w)?ku(bg(o),zr):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(c&Je.Self?zy():this.parent).get(o,a=c&Je.Optional&&a===ar?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Oa]=_[Oa]||[]).unshift(ue(o)),d)throw _;return function Kt(i,o,a,c){const d=i[Oa];throw o[Sc]&&d.unshift(o[Sc]),i.message=function Xr(i,o,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=ue(o);if(Array.isArray(o))d=o.map(ue).join(" -> ");else if("object"==typeof o){let g=[];for(let _ in o)if(o.hasOwnProperty(_)){let b=o[_];g.push(_+":"+("string"==typeof b?JSON.stringify(b):ue(b)))}d=`{${g.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(Vo,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[Oa]=null,i}(_,o,"R3InjectorError",this.source)}throw _}finally{Un(g),O(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,d)=>o.push(ue(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,"")}processInjectorType(o,a,c){if(!(o=ee(o)))return!1;let d=Ls(o);const g=null==d&&o.ngModule||void 0,_=void 0===g?o:g,b=-1!==c.indexOf(_);if(void 0!==g&&(d=Ls(g)),null==d)return!1;if(null!=d.imports&&!b){let k;c.push(_);try{hn(d.imports,F=>{this.processInjectorType(F,a,c)&&(void 0===k&&(k=[]),k.push(F))})}finally{}if(void 0!==k)for(let F=0;F<k.length;F++){const{ngModule:$,providers:Y}=k[F];hn(Y,oe=>this.processProvider(oe,$,Y||V))}}this.injectorDefTypes.add(_);const w=Hs(_)||(()=>new _);this.records.set(_,ku(w,zr));const S=d.providers;if(null!=S&&!b){const k=o;hn(S,F=>this.processProvider(F,k,S))}return void 0!==g&&void 0!==o.providers}processProvider(o,a,c){let d=bd(o=ee(o))?o:ee(o&&o.provide);const g=function NC(i,o,a){return Ky(i)?ku(void 0,i.useValue):ku(wg(i),zr)}(o);if(bd(o)||!0!==o.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=ku(void 0,zr,!0),_.factory=()=>Ke(_.multi),this.records.set(d,_)),d=o,_.multi.push(o)}this.records.set(d,g)}hydrate(o,a){return a.value===zr&&(a.value=_0,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Yy(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=ee(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function bg(i){const o=Cn(i),a=null!==o?o.factory:Hs(i);if(null!==a)return a;if(i instanceof tn)throw new Re(204,"");if(i instanceof Function)return function Wy(i){const o=i.length;if(o>0)throw Ma(o,"?"),new Re(204,"");const a=function Gt(i){const o=i&&(i[$r]||i[xe]);if(o){const a=function mn(i){if(i.hasOwnProperty("name"))return i.name;const o=(""+i).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Re(204,"")}function wg(i,o,a){let c;if(bd(i)){const d=ee(i);return Hs(d)||bg(d)}if(Ky(i))c=()=>ee(i.useValue);else if(function Zy(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...Ke(i.deps||[]));else if(function E0(i){return!(!i||!i.useExisting)}(i))c=()=>W(ee(i.useExisting));else{const d=ee(i&&(i.useClass||i.provide));if(!function PC(i){return!!i.deps}(i))return Hs(d)||bg(d);c=()=>new d(...Ke(i.deps))}return c}function ku(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function Ky(i){return null!==i&&"object"==typeof i&&D in i}function bd(i){return"function"==typeof i}let wi=(()=>{class i{static create(a,c){var d;if(Array.isArray(a))return RC({name:""},c,a,"");{const g=null!==(d=a.name)&&void 0!==d?d:"";return RC({name:g},a.parent,a.providers,g)}}}return i.THROW_IF_NOT_FOUND=ar,i.NULL=new Eg,i.\u0275prov=Xt({token:i,providedIn:"any",factory:()=>W(ff)}),i.__NG_ELEMENT_ID__=-1,i})();function Mg(i,o){mc(Yh(i)[1],cn())}function e_(i){let o=function C0(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;o;){let d;if(Ri(i))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Re(903,"");d=o.\u0275dir}if(d){if(a){c.push(d);const _=i;_.inputs=Cd(i.inputs),_.declaredInputs=Cd(i.declaredInputs),_.outputs=Cd(i.outputs);const b=d.hostBindings;b&&UC(i,b);const w=d.viewQuery,S=d.contentQueries;if(w&&I0(i,w),S&&T0(i,S),se(i.inputs,d.inputs),se(i.declaredInputs,d.declaredInputs),se(i.outputs,d.outputs),Ri(d)&&d.data.animation){const k=i.data;k.animation=(k.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let _=0;_<g.length;_++){const b=g[_];b&&b.ngInherit&&b(i),b===e_&&(a=!1)}}o=Object.getPrototypeOf(o)}!function xg(i){let o=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=o+=d.hostVars,d.hostAttrs=sr(d.hostAttrs,a=sr(a,d.hostAttrs))}}(c)}function Cd(i){return i===Qi?{}:i===V?[]:i}function I0(i,o){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{o(c,d),a(c,d)}:o}function T0(i,o){const a=i.contentQueries;i.contentQueries=a?(c,d,g)=>{o(c,d,g),a(c,d,g)}:o}function UC(i,o){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{o(c,d),a(c,d)}:o}let kg=null;function Id(){if(!kg){const i=gt.Symbol;if(i&&i.iterator)kg=i.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const c=o[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(kg=c)}}}return kg}function vf(i){return!!Ua(i)&&(Array.isArray(i)||!(i instanceof Map)&&Id()in i)}function Ua(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Os(i,o,a){return i[o]=a}function Er(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function n_(i,o,a,c){const d=Se();return Er(d,ts(),o)&&(Pt(),zo(_n(),d,i,o,a,c)),n_}function k0(i,o,a,c,d,g,_,b){const w=Se(),S=Pt(),k=i+20,F=S.firstCreatePass?function qC(i,o,a,c,d,g,_,b,w){const S=o.consts,k=cf(o,i,4,_||null,Rr(S,b));f0(o,a,k,Rr(S,w)),mc(o,k);const F=k.tViews=Ly(2,k,c,d,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,k),F.queries=o.queries.embeddedTView(k)),k}(k,S,w,o,a,c,d,g,_):S.data[k];Nr(F,!1);const $=w[11].createComment("");Uc(S,w,$,F),xn($,w),$y(w,w[k]=By($,w,$,F)),Ji(F)&&a0(S,w,F),null!=_&&u0(w,F,b)}function O0(i){return Ni(function iu(){return mt.lFrame.contextLView}(),20+i)}function Df(i,o=Je.Default){const a=Se();return null===a?W(i,o):Ec(cn(),a,ee(i),o)}function G0(){throw new Error("invalid")}function Ug(i,o,a){const c=Se();return Er(c,ts(),o)&&ks(Pt(),_n(),c,i,o,c[11],a,!1),Ug}function f_(i,o,a,c,d){const _=d?"class":"style";Gy(i,a,o.inputs[_],_,c)}function Bg(i,o,a,c){const d=Se(),g=Pt(),_=20+i,b=d[11],w=d[_]=lg(b,o,function Ul(){return mt.lFrame.currentNamespace}()),S=g.firstCreatePass?function rI(i,o,a,c,d,g,_){const b=o.consts,S=cf(o,i,2,d,Rr(b,g));return f0(o,a,S,Rr(b,_)),null!==S.attrs&&hf(S,S.attrs,!1),null!==S.mergedAttrs&&hf(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(_,g,d,0,o,a,c):g.data[_];Nr(S,!0);const k=S.mergedAttrs;null!==k&&yc(b,w,k);const F=S.classes;null!==F&&KE(b,w,F);const $=S.styles;null!==$&&YD(b,w,$),64!=(64&S.flags)&&Uc(g,d,w,S),0===function da(){return mt.lFrame.elementDepthCount}()&&xn(w,d),function ha(){mt.lFrame.elementDepthCount++}(),Ji(S)&&(a0(g,d,S),function gC(i,o,a){if(wl(o)){const d=o.directiveEnd;for(let g=o.directiveStart;g<d;g++){const _=i.data[g];_.contentQueries&&_.contentQueries(1,a[g],g)}}}(g,S,d)),null!==c&&u0(d,S)}function Cf(){let i=cn();es()?nu():(i=i.parent,Nr(i,!1));const o=i;!function Do(){mt.lFrame.elementDepthCount--}();const a=Pt();a.firstCreatePass&&(mc(a,i),wl(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function jl(i){return 0!=(16&i.flags)}(o)&&f_(a,o,Se(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function wa(i){return 0!=(32&i.flags)}(o)&&f_(a,o,Se(),o.stylesWithoutHost,!1)}function p_(i,o,a,c){Bg(i,o,a,c),Cf()}function y_(){return Se()}function __(i){return!!i&&"function"==typeof i.then}function W0(i){return!!i&&"function"==typeof i.subscribe}const v_=W0;function jg(i,o,a,c){const d=Se(),g=Pt(),_=cn();return function Z0(i,o,a,c,d,g,_,b){const w=Ji(c),k=i.firstCreatePass&&kC(i),F=o[8],$=xC(o);let Y=!0;if(3&c.type||b){const je=Rn(c,o),Ye=b?b(je):je,pe=$.length,lt=b?_t=>b(un(_t[c.index])):c.index;if(Jt(a)){let _t=null;if(!b&&w&&(_t=function sI(i,o,a,c){const d=i.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const _=d[g];if(_===a&&d[g+1]===c){const b=o[7],w=d[g+2];return b.length>w?b[w]:null}"string"==typeof _&&(g+=2)}return null}(i,o,d,c.index)),null!==_t)(_t.__ngLastListenerFn__||_t).__ngNextListenerFn__=g,_t.__ngLastListenerFn__=g,Y=!1;else{g=Y0(c,o,F,g,!1);const wt=a.listen(Ye,d,g);$.push(g,wt),k&&k.push(d,lt,pe,pe+1)}}else g=Y0(c,o,F,g,!0),Ye.addEventListener(d,g,_),$.push(g),k&&k.push(d,lt,pe,_)}else g=Y0(c,o,F,g,!1);const oe=c.outputs;let be;if(Y&&null!==oe&&(be=oe[d])){const je=be.length;if(je)for(let Ye=0;Ye<je;Ye+=2){const Gi=o[be[Ye]][be[Ye+1]].subscribe(g),ll=$.length;$.push(g,Gi),k&&k.push(d,c.index,ll,-(ll+1))}}}(g,d,d[11],_,i,o,!!a,c),jg}function E_(i,o,a,c){try{return!1!==a(c)}catch(d){return $c(i,d),!1}}function Y0(i,o,a,c,d){return function g(_){if(_===Function)return c;const b=2&i.flags?Or(i.index,o):o;0==(32&o[2])&&m0(b);let w=E_(o,0,c,_),S=g.__ngNextListenerFn__;for(;S;)w=E_(o,0,S,_)&&w,S=S.__ngNextListenerFn__;return d&&!1===w&&(_.preventDefault(),_.returnValue=!1),w}}function b_(i=1){return function Ll(i){return(mt.lFrame.contextLView=function Rp(i,o){for(;i>0;)o=o[15],i--;return o}(i,mt.lFrame.contextLView))[8]}(i)}function oI(i,o){let a=null;const c=function EM(i){const o=i.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(i);for(let d=0;d<o.length;d++){const g=o[d];if("*"!==g){if(null===c?eC(i,g,!0):DM(c,g))return d}else a=d}return a}function Q0(i){const o=Se()[16][6];if(!o.projection){const c=o.projection=Ma(i?i.length:1,null),d=c.slice();let g=o.child;for(;null!==g;){const _=i?oI(g,i):0;null!==_&&(d[_]?d[_].projectionNext=g:c[_]=g,d[_]=g),g=g.next}}}function w_(i,o=0,a){const c=Se(),d=Pt(),g=cf(d,20+i,16,null,a||null);null===g.projection&&(g.projection=o),nu(),64!=(64&g.flags)&&function fM(i,o,a){ZD(o[11],0,o,a,Ne(i,a,o),hg(a.parent||o[6],a,o))}(d,c,g)}function rb(i,o,a,c,d){const g=i[a+1],_=null===o;let b=c?Go(g):Su(g),w=!1;for(;0!==b&&(!1===w||_);){const k=i[b+1];cI(i[b],o)&&(w=!0,i[b+1]=c?QE(k):ZE(k)),b=c?Go(k):Su(k)}w&&(i[a+1]=c?ZE(g):QE(g))}function cI(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&Zs(i,o)>=0}function Od(i,o){return function so(i,o,a,c){const d=Se(),g=Pt(),_=function yi(i){const o=mt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}(2);g.firstUpdatePass&&function pI(i,o,a,c){const d=i.data;if(null===d[a+1]){const g=d[Jn()],_=function ab(i,o){return o>=i.expandoStartIndex}(i,a);(function vI(i,o){return 0!=(i.flags&(o?16:32))})(g,c)&&null===o&&!_&&(o=!1),o=function fx(i,o,a,c){const d=function ga(i){const o=mt.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let g=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(a=$g(a=ub(null,i,o,a,c),o.attrs,c),g=null);else{const _=o.directiveStylingLast;if(-1===_||i[_]!==d)if(a=ub(d,i,o,a,c),null===g){let w=function px(i,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==Su(c))return i[Go(c)]}(i,o,c);void 0!==w&&Array.isArray(w)&&(w=ub(null,i,o,w[1],c),w=$g(w,o.attrs,c),function gI(i,o,a,c){i[Go(a?o.classBindings:o.styleBindings)]=c}(i,o,c,w))}else g=function gx(i,o,a){let c;const d=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<d;g++)c=$g(c,i[g].hostAttrs,a);return $g(c,o.attrs,a)}(i,o,c)}return void 0!==g&&(c?o.residualClasses=g:o.residualStyles=g),a}(d,g,o,c),function aI(i,o,a,c,d,g){let _=g?o.classBindings:o.styleBindings,b=Go(_),w=Su(_);i[c]=a;let k,S=!1;if(Array.isArray(a)){const F=a;k=F[1],(null===k||Zs(F,k)>0)&&(S=!0)}else k=a;if(d)if(0!==w){const $=Go(i[b+1]);i[c+1]=ky($,b),0!==$&&(i[$+1]=YE(i[$+1],c)),i[b+1]=function AM(i,o){return 131071&i|o<<17}(i[b+1],c)}else i[c+1]=ky(b,0),0!==b&&(i[b+1]=YE(i[b+1],c)),b=c;else i[c+1]=ky(w,0),0===b?b=c:i[w+1]=YE(i[w+1],c),w=c;S&&(i[c+1]=ZE(i[c+1])),rb(i,k,c,!0),rb(i,k,c,!1),function uI(i,o,a,c,d){const g=d?i.residualClasses:i.residualStyles;null!=g&&"string"==typeof o&&Zs(g,o)>=0&&(a[c+1]=QE(a[c+1]))}(o,k,i,c,g),_=ky(b,w),g?o.classBindings=_:o.styleBindings=_}(d,g,o,a,_,c)}}(g,i,_,c),o!==Nt&&Er(d,_,o)&&function yI(i,o,a,c,d,g,_,b){if(!(3&o.type))return;const w=i.data,S=w[b+1];M_(function oC(i){return 1==(1&i)}(S)?_I(w,o,a,d,Su(S),_):void 0)||(M_(g)||function sC(i){return 2==(2&i)}(S)&&(g=_I(w,null,a,d,b,_)),function gM(i,o,a,c,d){const g=Jt(i);if(o)d?g?i.addClass(a,c):a.classList.add(c):g?i.removeClass(a,c):a.classList.remove(c);else{let _=-1===c.indexOf("-")?void 0:Vr.DashCase;if(null==d)g?i.removeStyle(a,c,_):a.style.removeProperty(c);else{const b="string"==typeof d&&d.endsWith("!important");b&&(d=d.slice(0,-10),_|=Vr.Important),g?i.setStyle(a,c,d,_):a.style.setProperty(c,d,b?"important":"")}}}(c,_,Gn(Jn(),a),d,g))}(g,g.data[Jn()],d,d[11],i,d[_+1]=function _x(i,o){return null==i||("string"==typeof o?i+=o:"object"==typeof i&&(i=ue(Na(i)))),i}(o,a),c,_)}(i,o,null,!0),Od}function ub(i,o,a,c,d){let g=null;const _=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<_&&(g=o[b],c=$g(c,g.hostAttrs,d),g!==i);)b++;return null!==i&&(a.directiveStylingLast=b),c}function $g(i,o,a){const c=a?1:2;let d=-1;if(null!==o)for(let g=0;g<o.length;g++){const _=o[g];"number"==typeof _?d=_:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),or(i,_,!!a||o[++g]))}return void 0===i?null:i}function _I(i,o,a,c,d,g){const _=null===o;let b;for(;d>0;){const w=i[d],S=Array.isArray(w),k=S?w[1]:w,F=null===k;let $=a[d+1];$===Nt&&($=F?V:void 0);let Y=F?mu($,c):k===c?$:void 0;if(S&&!M_(Y)&&(Y=mu(w,c)),M_(Y)&&(b=Y,_))return b;const oe=i[d+1];d=_?Go(oe):Su(oe)}if(null!==o){let w=g?o.residualClasses:o.residualStyles;null!=w&&(b=mu(w,c))}return b}function M_(i){return void 0!==i}function EI(i,o=""){const a=Se(),c=Pt(),d=i+20,g=c.firstCreatePass?cf(c,d,1,o,null):c.data[d],_=a[d]=function sf(i,o){return Jt(i)?i.createText(o):i.createTextNode(o)}(a[11],o);Uc(c,a,_,g),Nr(g,!1)}function Kc(i){return cb("",i,""),Kc}function cb(i,o,a){const c=Se(),d=function Ru(i,o,a,c){return Er(i,ts(),a)?o+K(a)+c:Nt}(c,i,o,a);return d!==Nt&&ro(c,Jn(),d),cb}function P_(i,o,a){const c=Se();return Er(c,ts(),o)&&ks(Pt(),_n(),c,i,o,c[11],a,!0),P_}const Pu=void 0;var wb=["en",[["a","p"],["AM","PM"],Pu],[["AM","PM"],Pu,Pu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pu,"{1} 'at' {0}",Pu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function II(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Rd={};function F_(i){const o=function SI(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Cb(o);if(a)return a;const c=o.split("-")[0];if(a=Cb(c),a)return a;if("en"===c)return wb;throw new Error(`Missing locale data for the locale "${i}".`)}function Db(i){return F_(i)[yt.PluralCase]}function Cb(i){return i in Rd||(Rd[i]=gt.ng&&gt.ng.common&&gt.ng.common.locales&&gt.ng.common.locales[i]),Rd[i]}var yt=(()=>((yt=yt||{})[yt.LocaleId=0]="LocaleId",yt[yt.DayPeriodsFormat=1]="DayPeriodsFormat",yt[yt.DayPeriodsStandalone=2]="DayPeriodsStandalone",yt[yt.DaysFormat=3]="DaysFormat",yt[yt.DaysStandalone=4]="DaysStandalone",yt[yt.MonthsFormat=5]="MonthsFormat",yt[yt.MonthsStandalone=6]="MonthsStandalone",yt[yt.Eras=7]="Eras",yt[yt.FirstDayOfWeek=8]="FirstDayOfWeek",yt[yt.WeekendRange=9]="WeekendRange",yt[yt.DateFormat=10]="DateFormat",yt[yt.TimeFormat=11]="TimeFormat",yt[yt.DateTimeFormat=12]="DateTimeFormat",yt[yt.NumberSymbols=13]="NumberSymbols",yt[yt.NumberFormats=14]="NumberFormats",yt[yt.CurrencyCode=15]="CurrencyCode",yt[yt.CurrencySymbol=16]="CurrencySymbol",yt[yt.CurrencyName=17]="CurrencyName",yt[yt.Currencies=18]="Currencies",yt[yt.Directionality=19]="Directionality",yt[yt.PluralCase=20]="PluralCase",yt[yt.ExtraData=21]="ExtraData",yt))();const cr="en-US";let Ab=cr;function Of(i,o,a,c,d){if(i=ee(i),Array.isArray(i))for(let g=0;g<i.length;g++)Of(i[g],o,a,c,d);else{const g=Pt(),_=Se();let b=bd(i)?i:ee(i.provide),w=wg(i);const S=cn(),k=1048575&S.providerIndexes,F=S.directiveStart,$=S.providerIndexes>>20;if(bd(i)||!i.multi){const Y=new vn(w,d,Df),oe=lr(b,o,d?k:k+$,F);-1===oe?(Fr(xo(S,_),g,b),Rf(g,i,o.length),o.push(b),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(Y),_.push(Y)):(a[oe]=Y,_[oe]=Y)}else{const Y=lr(b,o,k+$,F),oe=lr(b,o,k,k+$),be=Y>=0&&a[Y],je=oe>=0&&a[oe];if(d&&!je||!d&&!be){Fr(xo(S,_),g,b);const Ye=function GI(i,o,a,c,d){const g=new vn(i,a,Df);return g.multi=[],g.index=o,g.componentProviders=0,Jg(g,d,c&&!a),g}(d?Xg:Kr,a.length,d,c,w);!d&&je&&(a[oe].providerFactory=Ye),Rf(g,i,o.length,0),o.push(b),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(Ye),_.push(Ye)}else Rf(g,i,Y>-1?Y:oe,Jg(a[d?oe:Y],w,!d&&c));!d&&c&&je&&a[oe].componentProviders++}}}function Rf(i,o,a,c){const d=bd(o),g=function b0(i){return!!i.useClass}(o);if(d||g){const w=(g?ee(o.useClass):o).prototype.ngOnDestroy;if(w){const S=i.destroyHooks||(i.destroyHooks=[]);if(!d&&o.multi){const k=S.indexOf(a);-1===k?S.push(a,[c,w]):S[k+1].push(c,w)}else S.push(a,w)}}}function Jg(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function lr(i,o,a,c){for(let d=a;d<c;d++)if(o[d]===i)return d;return-1}function Kr(i,o,a,c){return Nf(this.multi,[])}function Xg(i,o,a,c){const d=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,b=qt(a,a[1],this.providerFactory.index,c);g=b.slice(0,_),Nf(d,g);for(let w=_;w<b.length;w++)g.push(b[w])}else g=[],Nf(d,g);return g}function Nf(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function Gb(i,o=[]){return a=>{a.providersResolver=(c,d)=>function HI(i,o,a){const c=Pt();if(c.firstCreatePass){const d=Ri(i);Of(a,c.data,c.blueprint,d,!0),Of(o,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,o)}}class zb{}class zI{resolveComponentFactory(o){throw function qI(i){const o=Error(`No component factory found for ${ue(i)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=i,o}(o)}}let Jc=(()=>{class i{}return i.NULL=new zI,i})();function Kb(){return Ud(cn(),Se())}function Ud(i,o){return new Uu(Rn(i,o))}let Uu=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Kb,i})();function tv(i){return i instanceof Uu?i.nativeElement:i}class nv{}let WI=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Yb(){const i=Se(),a=Or(cn().index,i);return function Pf(i){return i[11]}(hi(a)?a:i)}(),i})(),Qb=(()=>{class i{}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:()=>null}),i})();class rv{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Ff=new rv("13.1.3"),iv={};function tm(i,o,a,c,d=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&c.push(un(g)),fi(g))for(let b=10;b<g.length;b++){const w=g[b],S=w[1].firstChild;null!==S&&tm(w[1],w,S,c)}const _=a.type;if(8&_)tm(i,o,a.child,c);else if(32&_){const b=og(a,o);let w;for(;w=b();)c.push(w)}else if(16&_){const b=My(o,a);if(Array.isArray(b))c.push(...b);else{const w=Iu(o[16]);tm(w[1],w,b,c,!0)}}a=d?a.projectionNext:a.next}return c}class Zo{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return tm(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(fi(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(T(o,c),gu(a,c))}this._attachedToViewContainer=!1}x(this._lView[1],this._lView)}onDestroy(o){d0(this._lView[1],this._lView,null,o)}markForCheck(){m0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){vg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function ZM(i,o,a){fa(!0);try{vg(i,o,a)}finally{fa(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Re(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zE(i,o){gg(i,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Re(902,"");this._appRef=o}}class KI extends Zo{constructor(o){super(o),this._view=o}detectChanges(){MC(this._view)}checkNoChanges(){!function YM(i){fa(!0);try{MC(i)}finally{fa(!1)}}(this._view)}get context(){return null}}class Jb extends Jc{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Zn(o);return new Xc(a,this.ngModule)}}function Bu(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}const nm=new tn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>pd});class Xc extends zb{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function IM(i){return i.map(CM).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Bu(this.componentDef.inputs)}get outputs(){return Bu(this.componentDef.outputs)}create(o,a,c,d){const g=(d=d||this.ngModule)?function ew(i,o){return{get:(a,c,d)=>{const g=i.get(a,iv,d);return g!==iv||c===iv?g:o.get(a,c,d)}}}(o,d.injector):o,_=g.get(nv,Is),b=g.get(Qb,null),w=_.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",k=c?function l0(i,o,a){if(Jt(i))return i.selectRootElement(o,a===Rt.ShadowDom);let c="string"==typeof o?i.querySelector(o):o;return c.textContent="",c}(w,c,this.componentDef.encapsulation):lg(_.createRenderer(null,this.componentDef),S,function Xb(i){const o=i.toLowerCase();return"svg"===o?la:"math"===o?"http://www.w3.org/1998/MathML/":null}(S)),F=this.componentDef.onPush?576:528,$=function Sg(i,o){return{components:[],scheduler:i||pd,clean:QM,playerHandler:o||null,flags:0}}(),Y=Ly(0,null,null,1,0,null,null,null,null,null),oe=uf(null,Y,$,F,null,null,_,w,b,g);let be,je;So(oe);try{const Ye=function Xy(i,o,a,c,d,g){const _=a[1];a[20]=i;const w=cf(_,20,2,"#host",null),S=w.mergedAttrs=o.hostAttrs;null!==S&&(hf(w,S,!0),null!==i&&(yc(d,i,S),null!==w.classes&&KE(d,i,w.classes),null!==w.styles&&YD(d,i,w.styles)));const k=c.createRenderer(i,o),F=uf(a,mC(o),null,o.onPush?64:16,a[20],w,c,k,g||null,null);return _.firstCreatePass&&(Fr(xo(w,a),_,o.type),g0(_,w),DC(w,a.length,1)),$y(a,F),a[20]=F}(k,this.componentDef,oe,_,w);if(k)if(c)yc(w,k,["ng-version",Ff.full]);else{const{attrs:pe,classes:lt}=function TM(i){const o=[],a=[];let c=1,d=2;for(;c<i.length;){let g=i[c];if("string"==typeof g)2===d?""!==g&&o.push(g,i[++c]):8===d&&a.push(g);else{if(!no(d))break;d=g}c++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);pe&&yc(w,k,pe),lt&&lt.length>0&&KE(w,k,lt.join(" "))}if(je=bo(Y,20),void 0!==a){const pe=je.projection=[];for(let lt=0;lt<this.ngContentSelectors.length;lt++){const _t=a[lt];pe.push(null!=_t?Array.from(_t):null)}}be=function $i(i,o,a,c,d){const g=a[1],_=function HM(i,o,a){const c=cn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),CC(i,c,o,lf(i,o,1,null),a));const d=qt(o,i,c.directiveStart,c);xn(d,o);const g=Rn(c,o);return g&&xn(g,o),d}(g,a,o);if(c.components.push(_),i[8]=_,d&&d.forEach(w=>w(_,o)),o.contentQueries){const w=cn();o.contentQueries(1,_,w.directiveStart)}const b=cn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Nn(b.index),Vy(a[1],b,0,b.directiveStart,b.directiveEnd,o),Uy(o,_)),_}(Ye,this.componentDef,oe,$,[Mg]),mg(Y,oe,null)}finally{uu()}return new nw(this.componentType,be,Ud(je,oe),oe,je)}}class nw extends class qb{}{constructor(o,a,c,d,g){super(),this.location=c,this._rootLView=d,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new KI(d),this.componentType=o}get injector(){return new zs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Ga{}class sv{}const ju=new Map;class Uf extends Ga{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Jb(this);const c=Yn(o);this._bootstrapComponents=kn(c.bootstrap),this._r3Injector=v0(o,a,[{provide:Ga,useValue:this},{provide:Jc,useValue:this.componentFactoryResolver}],ue(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=wi.THROW_IF_NOT_FOUND,c=Je.Default){return o===wi||o===Ga||o===ff?this:this._r3Injector.get(o,a,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class el extends sv{constructor(o){super(),this.moduleType=o,null!==Yn(o)&&function Vf(i){const o=new Set;!function a(c){const d=Yn(c,!0),g=d.id;null!==g&&(function ov(i,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${i} - ${ue(o)} vs ${ue(o.name)}`)}(g,ju.get(g),c),ju.set(g,c));const _=kn(d.imports);for(const b of _)o.has(b)||(o.add(b),a(b))}(i)}(o)}create(o){return new Uf(this.moduleType,o)}}function av(i,o,a){const c=zn()+i,d=Se();return d[c]===Nt?Os(d,c,a?o.call(a):o()):function qc(i,o){return i[o]}(d,c)}function sw(i,o,a,c){return function jf(i,o,a,c,d,g){const _=o+a;return Er(i,_,d)?Os(i,_+1,g?c.call(g,d):c(d)):Bd(i,_+1)}(Se(),zn(),i,o,a,c)}function Bd(i,o){const a=i[o];return a===Nt?void 0:a}function jd(i,o,a,c,d,g,_){const b=o+a;return function zc(i,o,a,c){const d=Er(i,o,a);return Er(i,o+1,c)||d}(i,b,d,g)?Os(i,b+2,_?c.call(_,d,g):c(d,g)):Bd(i,b+2)}function om(i,o){const a=Pt();let c;const d=i+20;a.firstCreatePass?(c=function $d(i,o){if(o)for(let a=o.length-1;a>=0;a--){const c=o[a];if(i===c.name)return c}}(o,a.pipeRegistry),a.data[d]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,c.onDestroy)):c=a.data[d];const g=c.factory||(c.factory=Hs(c.type)),_=Un(Df);try{const b=Fi(!1),w=g();return Fi(b),function zC(i,o,a,c){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),o[a]=c}(a,Se(),d,w),w}finally{Un(_)}}function Hu(i,o,a,c){const d=i+20,g=Se(),_=Ni(g,d);return function ds(i,o){return i[1].data[o].pure}(g,d)?jd(g,zn(),o,_.transform,a,c,_):_.transform(a,c)}function Hd(i){return o=>{setTimeout(i,void 0,o)}}const hs=class am extends f.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){var d,g,_;let b=o,w=a||(()=>null),S=c;if(o&&"object"==typeof o){const F=o;b=null===(d=F.next)||void 0===d?void 0:d.bind(F),w=null===(g=F.error)||void 0===g?void 0:g.bind(F),S=null===(_=F.complete)||void 0===_?void 0:_.bind(F)}this.__isAsync&&(w=Hd(w),b&&(b=Hd(b)),S&&(S=Hd(S)));const k=super.subscribe({next:b,error:w,complete:S});return o instanceof J.w0&&o.add(k),k}};function dw(){return this._results[Id()]()}class En{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Id(),c=En.prototype;c[a]||(c[a]=dw)}get changes(){return this._changes||(this._changes=new hs)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const d=Pn(o);(this._changesDetected=!function Yl(i,o,a){if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],g=o[c];if(a&&(d=a(d),g=a(g)),g!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Gu=(()=>{class i{}return i.__NG_ELEMENT_ID__=$f,i})();const JI=Gu,XI=class extends JI{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o){const a=this._declarationTContainer.tViews,c=uf(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(c[19]=g.createEmbeddedView(a)),mg(a,c,o),new Zo(c)}};function $f(){return qu(cn(),Se())}function qu(i,o){return 4&i.type?new XI(o,i,Ud(i,o)):null}let um=(()=>{class i{}return i.__NG_ELEMENT_ID__=hw,i})();function hw(){return Gd(cn(),Se())}const eT=um,fw=class extends eT{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return Ud(this._hostTNode,this._hostLView)}get injector(){return new zs(this._hostTNode,this._hostLView)}get parentInjector(){const o=Pr(this._hostTNode,this._hostLView);if(Sh(o)){const a=Ca(o,this._hostLView),c=Da(o);return new zs(a[1].data[c+8],a)}return new zs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=pw(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,c){const d=o.createEmbeddedView(a||{});return this.insert(d,c),d}createComponent(o,a,c,d,g){const _=o&&!function _i(i){return"function"==typeof i}(o);let b;if(_)b=a;else{const F=a||{};b=F.index,c=F.injector,d=F.projectableNodes,g=F.ngModuleRef}const w=_?o:new Xc(Zn(o)),S=c||this.parentInjector;if(!g&&null==w.ngModule&&S){const F=S.get(Ga,null);F&&(g=F)}const k=w.create(S,d,void 0,g);return this.insert(k.hostView,b),k}insert(o,a){const c=o._lView,d=c[1];if(function hc(i){return fi(i[3])}(c)){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const F=c[3],$=new fw(F,F[6],F[3]);$.detach($.indexOf(o))}}const g=this._adjustIndex(a),_=this._lContainer;!function h(i,o,a,c){const d=10+c,g=a.length;c>0&&(a[d-1][4]=o),c<g-10?(o[4]=a[d],Ic(a,10+c,o)):(a.push(o),o[4]=null),o[3]=a;const _=o[17];null!==_&&a!==_&&function p(i,o){const a=i[9];o[16]!==o[3][3][16]&&(i[2]=!0),null===a?i[9]=[o]:a.push(o)}(_,o);const b=o[19];null!==b&&b.insertView(i),o[2]|=128}(d,c,_,g);const b=_d(g,_),w=c[11],S=Au(w,_[7]);return null!==S&&function qE(i,o,a,c,d,g){c[0]=d,c[6]=o,gg(i,c,a,1,d,g)}(d,_[6],w,c,S,b),o.attachToViewContainerRef(),Ic(dv(_),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=pw(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=T(this._lContainer,a);c&&(gu(dv(this._lContainer),a),x(c[1],c))}detach(o){const a=this._adjustIndex(o,-1),c=T(this._lContainer,a);return c&&null!=gu(dv(this._lContainer),a)?new Zo(c):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function pw(i){return i[8]}function dv(i){return i[8]||(i[8]=[])}function Gd(i,o){let a;const c=o[i.index];if(fi(c))a=c;else{let d;if(8&i.type)d=un(c);else{const g=o[11];d=g.createComment("");const _=Rn(i,o);Ze(g,Au(g,_),d,function dg(i,o){return Jt(i)?i.nextSibling(o):o.nextSibling}(g,_),!1)}o[i.index]=a=By(c,o,d,i),$y(o,a)}return new fw(a,i,o)}class cm{constructor(o){this.queryList=o,this.matches=null}clone(){return new cm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wu{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let g=0;g<c;g++){const _=a.getByIndex(g);d.push(this.queries[_.indexInDeclarationView].clone())}return new Wu(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==gm(o,a).matches&&this.queries[a].setDirty()}}class mw{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class hv{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,g=this.getByIndex(c).embeddedTView(o,d);g&&(g.indexInDeclarationView=c,null!==a?a.push(g):a=[g])}return null!==a?new hv(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class lm{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new lm(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const g=c[d];this.matchTNodeWithReadOption(o,a,nT(a,g)),this.matchTNodeWithReadOption(o,a,Ta(a,o,g,!1,!1))}else c===Gu?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Ta(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Uu||d===um||d===Gu&&4&a.type)this.addMatch(a.index,-2);else{const g=Ta(a,o,d,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function nT(i,o){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function _w(i,o,a,c){return-1===a?function yw(i,o){return 11&i.type?Ud(i,o):4&i.type?qu(i,o):null}(o,i):-2===a?function fv(i,o,a){return a===Uu?Ud(o,i):a===Gu?qu(o,i):a===um?Gd(o,i):void 0}(i,o,c):qt(i,i[1],a,o)}function dm(i,o,a,c){const d=o[19].queries[c];if(null===d.matches){const g=i.data,_=a.matches,b=[];for(let w=0;w<_.length;w+=2){const S=_[w];b.push(S<0?null:_w(o,g[S],_[w+1],a.metadata.read))}d.matches=b}return d.matches}function hm(i,o,a,c){const d=i.queries.getByIndex(a),g=d.matches;if(null!==g){const _=dm(i,o,d,a);for(let b=0;b<g.length;b+=2){const w=g[b];if(w>0)c.push(_[b/2]);else{const S=g[b+1],k=o[-w];for(let F=10;F<k.length;F++){const $=k[F];$[17]===$[3]&&hm($[1],$,S,c)}if(null!==k[9]){const F=k[9];for(let $=0;$<F.length;$++){const Y=F[$];hm(Y[1],Y,S,c)}}}}}return c}function pv(i){const o=Se(),a=Pt(),c=ma();ya(c+1);const d=gm(a,c);if(i.dirty&&qn(o)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const g=d.crossesNgTemplate?hm(a,o,c,[]):dm(a,o,d,c);i.reset(g,tv),i.notifyOnChanges()}return!0}return!1}function fm(i,o,a){const c=Pt();c.firstCreatePass&&(qd(c,new mw(i,o,a),-1),2==(2&o)&&(c.staticViewQueries=!0)),Hf(c,Se(),o)}function vw(i,o,a,c){const d=Pt();if(d.firstCreatePass){const g=cn();qd(d,new mw(o,a,c),g.index),function pm(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}Hf(d,Se(),a)}function Ew(){return function rT(i,o){return i[19].queries[o].queryList}(Se(),ma())}function Hf(i,o,a){const c=new En(4==(4&a));d0(i,o,c,c.destroy),null===o[19]&&(o[19]=new Wu),o[19].queries.push(new cm(c))}function qd(i,o,a){null===i.queries&&(i.queries=new hv),i.queries.track(new lm(o,a))}function gm(i,o){return i.queries.getByIndex(o)}function _m(...i){}const wr=new tn("Application Initializer");let uo=(()=>{class i{constructor(a){this.appInits=a,this.resolve=_m,this.reject=_m,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(__(g))a.push(g);else if(v_(g)){const _=new Promise((b,w)=>{g.subscribe({complete:b,error:w})});a.push(_)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(W(wr,8))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})();const qa=new tn("AppId"),hT={provide:qa,useFactory:function Mv(){return`${Ve()}${Ve()}${Ve()}`},deps:[]};function Ve(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const er=new tn("Platform Initializer"),Zd=new tn("Platform ID"),vm=new tn("appBootstrapListener");let It=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})();const Em=new tn("LocaleId"),He=new tn("DefaultCurrencyCode");class Ow{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let xv=(()=>{class i{compileModuleSync(a){return new el(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),g=kn(Yn(a).declarations).reduce((_,b)=>{const w=Zn(b);return w&&_.push(new Xc(w)),_},[]);return new Ow(c,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})();const pT=(()=>Promise.resolve(0))();function kv(i){"undefined"==typeof Zone?pT.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class ps{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hs(!1),this.onMicrotaskEmpty=new hs(!1),this.onStable=new hs(!1),this.onError=new hs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Rw(){let i=gt.requestAnimationFrame,o=gt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&o){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Nw(i){const o=()=>{!function gT(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(gt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,$t(i),i.isCheckStableRunning=!0,Ci(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),$t(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,g,_,b)=>{try{return il(i),a.invokeTask(d,g,_,b)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||i.shouldCoalesceRunChangeDetection)&&o(),Ov(i)}},onInvoke:(a,c,d,g,_,b,w)=>{try{return il(i),a.invoke(d,g,_,b,w)}finally{i.shouldCoalesceRunChangeDetection&&o(),Ov(i)}},onHasTask:(a,c,d,g)=>{a.hasTask(d,g),c===d&&("microTask"==g.change?(i._hasPendingMicrotasks=g.microTask,$t(i),Ci(i)):"macroTask"==g.change&&(i.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,c,d,g)=>(a.handleError(d,g),i.runOutsideAngular(()=>i.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ps.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ps.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,d){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+d,o,jx,_m,_m);try{return g.runTask(_,a,c)}finally{g.cancelTask(_)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const jx={};function Ci(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function $t(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function il(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Ov(i){i._nesting--,Ci(i)}class Br{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hs,this.onMicrotaskEmpty=new hs,this.onStable=new hs,this.onError=new hs}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,d){return o.apply(a,c)}}let Mt=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ps.assertNotInAngularZone(),kv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())kv(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(W(ps))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})(),Rv=(()=>{class i{constructor(){this._applications=new Map,ol.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return ol.findTestabilityInTree(this,a,c)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})();class sl{addToWindow(o){}findTestabilityInTree(o,a,c){return null}}function Pw(i){ol=i}let Ft,ol=new sl;const Fw=new tn("AllowMultipleToken");class Dr{constructor(o,a){this.name=o,this.token=a}}function za(i,o,a=[]){const c=`Platform: ${o}`,d=new tn(c);return(g=[])=>{let _=bm();if(!_||_.injector.get(Fw,!1))if(i)i(a.concat(g).concat({provide:d,useValue:!0}));else{const b=a.concat(g).concat({provide:d,useValue:!0},{provide:pf,useValue:"platform"});!function yT(i){if(Ft&&!Ft.destroyed&&!Ft.injector.get(Fw,!1))throw new Re(400,"");Ft=i.get(Nv);const o=i.get(er,null);o&&o.forEach(a=>a())}(wi.create({providers:b,name:c}))}return function hr(i){const o=bm();if(!o)throw new Re(401,"");return o}()}}function bm(){return Ft&&!Ft.destroyed?Ft:null}let Nv=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const b=function Yf(i,o){let a;return a="noop"===i?new Br:("zone.js"===i?void 0:i)||new ps({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),w=[{provide:ps,useValue:b}];return b.run(()=>{const S=wi.create({providers:w,parent:this.injector,name:a.moduleType.name}),k=a.create(S),F=k.injector.get(xs,null);if(!F)throw new Re(402,"");return b.runOutsideAngular(()=>{const $=b.onError.subscribe({next:Y=>{F.handleError(Y)}});k.onDestroy(()=>{it(this._modules,k),$.unsubscribe()})}),function al(i,o,a){try{const c=a();return __(c)?c.catch(d=>{throw o.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>i.handleError(c)),c}}(F,b,()=>{const $=k.injector.get(uo);return $.runInitializers(),$.donePromise.then(()=>(function Af(i){ut(i,"Expected localeId to be defined"),"string"==typeof i&&(Ab=i.toLowerCase().replace(/_/g,"-"))}(k.injector.get(Em,cr)||cr),this._moduleDoBootstrap(k),k))})})}bootstrapModule(a,c=[]){const d=Qf({},c);return function mT(i,o,a){const c=new el(a);return Promise.resolve(c)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(a){const c=a.injector.get(Qd);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Re(403,"");a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(W(wi))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})();function Qf(i,o){return Array.isArray(o)?o.reduce(Qf,i):Object.assign(Object.assign({},i),o)}let Qd=(()=>{class i{constructor(a,c,d,g,_){this._zone=a,this._injector=c,this._exceptionHandler=d,this._componentFactoryResolver=g,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new N.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),w=new N.y(S=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{ps.assertNotInAngularZone(),kv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const F=this._zone.onUnstable.subscribe(()=>{ps.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{k.unsubscribe(),F.unsubscribe()}});this.isStable=(0,ae.T)(b,w.pipe((0,ie.B)()))}bootstrap(a,c){if(!this._initStatus.done)throw new Re(405,"");let d;d=a instanceof zb?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const g=function Yd(i){return i.isBoundToModule}(d)?void 0:this._injector.get(Ga),b=d.create(wi.NULL,[],c||d.selector,g),w=b.location.nativeElement,S=b.injector.get(Mt,null),k=S&&b.injector.get(Rv);return S&&k&&k.registerApplication(w,S),b.onDestroy(()=>{this.detachView(b.hostView),it(this.components,b),k&&k.unregisterApplication(w)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new Re(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;it(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(vm,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(W(ps),W(wi),W(xs),W(Jc),W(uo))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})();function it(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}let Jd=!0,ul=!1;function Lw(){return ul=!0,Jd}function Pv(){if(ul)throw new Error("Cannot enable prod mode after platform setup.");Jd=!1}let Lv=(()=>{class i{}return i.__NG_ELEMENT_ID__=Uw,i})();function Uw(i){return function Bw(i,o,a){if(On(i)&&!a){const c=Or(i.index,o);return new Zo(c,c)}return 47&i.type?new Zo(o[16],o):null}(cn(),Se(),16==(16&i))}class Hv{constructor(){}supports(o){return vf(o)}create(o){return new Hw(o)}}const Wa=(i,o)=>o;class Hw{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Wa}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,d=0,g=null;for(;a||c;){const _=!c||a&&a.currentIndex<Am(c,d,g)?a:c,b=Am(_,d,g),w=_.currentIndex;if(_===c)d--,c=c._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{g||(g=[]);const S=b-d,k=w-d;if(S!=k){for(let $=0;$<S;$++){const Y=$<g.length?g[$]:g[$]=0,oe=Y+$;k<=oe&&oe<S&&(g[$]=Y+1)}g[_.previousIndex]=k-S}}b!==w&&o(_,b,w)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!vf(o))throw new Re(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,g,_,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)g=o[b],_=this._trackByFn(b,g),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,g,_,b)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,_,b),c=!0),a=a._next}else d=0,function $C(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Id()]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,b=>{_=this._trackByFn(d,b),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,b,_,d)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,_,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,d){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,d)):o=this._addAfter(new Xd(a,c),g,d),o}_verifyReinsertion(o,a,c,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?o=this._reinsertAfter(g,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,g=o._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new np),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new np),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Xd{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Tm{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class np{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new Tm,this.map.set(a,c)),c.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Am(i,o,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+o+d}class Sm{constructor(){}supports(o){return o instanceof Map||Ua(o)}create(){return new Gv}}class Gv{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Ua(o)))throw new Re(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const g=d._prev,_=d._next;return g&&(g._next=_),_&&(_._prev=g),d._next=null,d._prev=null,d}const c=new eh(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class eh{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gs(){return new rp([new Hv])}let rp=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||gs()),deps:[[i,new vr,new nn]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new Re(901,"")}}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:gs}),i})();function qv(){return new th([new Sm])}let th=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||qv()),deps:[[i,new vr,new nn]]}}find(a){const c=this.factories.find(g=>g.supports(a));if(c)return c;throw new Re(901,"")}}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:qv}),i})();const ip=[new Sm],DT=new rp([new Hv]),qw=new th(ip),zw=za(null,"core",[{provide:Zd,useValue:"unknown"},{provide:Nv,deps:[wi]},{provide:Rv,deps:[]},{provide:It,deps:[]}]),nh=[{provide:Qd,useClass:Qd,deps:[ps,wi,xs,Jc,uo]},{provide:nm,deps:[ps],useFactory:function cl(i){let o=[];return i.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(a){o.push(a)}}},{provide:uo,useClass:uo,deps:[[new nn,wr]]},{provide:xv,useClass:xv,deps:[]},hT,{provide:rp,useFactory:function xm(){return DT},deps:[]},{provide:th,useFactory:function IT(){return qw},deps:[]},{provide:Em,useFactory:function TT(i){return i||function Ww(){return"undefined"!=typeof $localize&&$localize.locale||cr}()},deps:[[new Mn(Em),new nn,new vr]]},{provide:He,useValue:"USD"}];let Kw=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(W(Qd))},i.\u0275mod=bs({type:i}),i.\u0275inj=Zi({providers:nh}),i})()},3942:(st,Ce,P)=>{"use strict";P.d(Ce,{Z:()=>Re});var f=P(2090),J=P(4859),N=P(9681),ae=P(1877);class ie{constructor(K,ne){this._delegate=K,this.firebase=ne,(0,N._addComponent)(K,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=K.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this._delegate.automaticDataCollectionEnabled=K}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(K=>{this._delegate.checkDestroyed(),K()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(K,ne=N._DEFAULT_ENTRY_NAME){var ye;this._delegate.checkDestroyed();const Te=this._delegate.container.getProvider(K);return!Te.isInitialized()&&"EXPLICIT"===(null===(ye=Te.getComponent())||void 0===ye?void 0:ye.instantiationMode)&&Te.initialize(),Te.getImmediate({identifier:ne})}_removeServiceInstance(K,ne=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(K).clearInstance(ne)}_addComponent(K){(0,N._addComponent)(this._delegate,K)}_addOrOverwriteComponent(K){(0,N._addOrOverwriteComponent)(this._delegate,K)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function ce(){const Ue=function ue(Ue){const K={},ne={__esModule:!0,initializeApp:function _e(We,ft={}){const X=N.initializeApp(We,ft);if((0,f.r3)(K,X.name))return K[X.name];const ge=new Ue(X,ne);return K[X.name]=ge,ge},app:Te,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Ae(We){const ft=We.name,X=ft.replace("-compat","");if(N._registerComponent(We)&&"PUBLIC"===We.type){const ge=(Ee=Te())=>{if("function"!=typeof Ee[X])throw se.create("invalid-app-argument",{appName:ft});return Ee[X]()};void 0!==We.serviceProps&&(0,f.ZB)(ge,We.serviceProps),ne[X]=ge,Ue.prototype[X]=function(...Ee){return this._getService.bind(this,ft).apply(this,We.multipleInstances?Ee:[])}}return"PUBLIC"===We.type?ne[X]:null},removeApp:function ye(We){delete K[We]},useAsService:function tt(We,ft){return"serverAuth"===ft?null:ft},modularAPIs:N}};function Te(We){if(!(0,f.r3)(K,We=We||N._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:We});return K[We]}return ne.default=ne,Object.defineProperty(ne,"apps",{get:function $e(){return Object.keys(K).map(We=>K[We])}}),Te.App=Ue,ne}(ie);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function K(ne){(0,f.ZB)(Ue,ne)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),Ue}(),j=new ae.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Re=H;!function Ie(Ue){(0,N.registerVersion)("@firebase/app-compat","0.1.15",Ue)}()},9681:(st,Ce,P)=>{"use strict";P.r(Ce),P.d(Ce,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Ls,_DEFAULT_ENTRY_NAME:()=>Kn,_addComponent:()=>on,_addOrOverwriteComponent:()=>Tr,_apps:()=>rt,_clearComponents:()=>Cn,_components:()=>Ir,_getProvider:()=>ci,_registerComponent:()=>Xt,_removeServiceInstance:()=>Zi,deleteApp:()=>rr,getApp:()=>Yi,getApps:()=>xe,initializeApp:()=>$r,onLog:()=>Zt,registerVersion:()=>Qr,setLogLevel:()=>Un});var f=P(5861),J=P(4859),N=P(1877),ae=P(2090);class ie{constructor(nt){this.container=nt}getPlatformInfoString(){return this.container.getProviders().map(Ot=>{if(function fe(pt){const nt=pt.getComponent();return"VERSION"===(null==nt?void 0:nt.type)}(Ot)){const fn=Ot.getImmediate();return`${fn.library}/${fn.version}`}return null}).filter(Ot=>Ot).join(" ")}}const se="@firebase/app",ce=new N.Yd("@firebase/app"),Kn="[DEFAULT]",ut={[se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},rt=new Map,Ir=new Map;function on(pt,nt){try{pt.container.addComponent(nt)}catch(Ot){ce.debug(`Component ${nt.name} failed to register with FirebaseApp ${pt.name}`,Ot)}}function Tr(pt,nt){pt.container.addOrOverwriteComponent(nt)}function Xt(pt){const nt=pt.name;if(Ir.has(nt))return ce.debug(`There were multiple attempts to register component ${nt}.`),!1;Ir.set(nt,pt);for(const Ot of rt.values())on(Ot,pt);return!0}function ci(pt,nt){return pt.container.getProvider(nt)}function Zi(pt,nt,Ot=Kn){ci(pt,nt).clearInstance(Ot)}function Cn(){Ir.clear()}const Gt=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class mn{constructor(nt,Ot,fn){this._isDeleted=!1,this._options=Object.assign({},nt),this._config=Object.assign({},Ot),this._name=Ot.name,this._automaticDataCollectionEnabled=Ot.automaticDataCollectionEnabled,this._container=fn,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this.checkDestroyed(),this._automaticDataCollectionEnabled=nt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(nt){this._isDeleted=nt}checkDestroyed(){if(this.isDeleted)throw Gt.create("app-deleted",{appName:this._name})}}const Ls="9.6.4";function $r(pt,nt={}){"object"!=typeof nt&&(nt={name:nt});const Ot=Object.assign({name:Kn,automaticDataCollectionEnabled:!1},nt),fn=Ot.name;if("string"!=typeof fn||!fn)throw Gt.create("bad-app-name",{appName:String(fn)});const Hr=rt.get(fn);if(Hr){if((0,ae.vZ)(pt,Hr.options)&&(0,ae.vZ)(Ot,Hr.config))return Hr;throw Gt.create("duplicate-app",{appName:fn})}const Rt=new J.H0(fn);for(const ct of Ir.values())Rt.addComponent(ct);const Xe=new mn(pt,Ot,Rt);return rt.set(fn,Xe),Xe}function Yi(pt=Kn){const nt=rt.get(pt);if(!nt)throw Gt.create("no-app",{appName:pt});return nt}function xe(){return Array.from(rt.values())}function rr(pt){return Je.apply(this,arguments)}function Je(){return(Je=(0,f.Z)(function*(pt){const nt=pt.name;rt.has(nt)&&(rt.delete(nt),yield Promise.all(pt.container.getProviders().map(Ot=>Ot.delete())),pt.isDeleted=!0)})).apply(this,arguments)}function Qr(pt,nt,Ot){var fn;let Hr=null!==(fn=ut[pt])&&void 0!==fn?fn:pt;Ot&&(Hr+=`-${Ot}`);const Rt=Hr.match(/\s|\//),Xe=nt.match(/\s|\//);if(Rt||Xe){const ct=[`Unable to register library "${Hr}" with version "${nt}":`];return Rt&&ct.push(`library name "${Hr}" contains illegal characters (whitespace or "/")`),Rt&&Xe&&ct.push("and"),Xe&&ct.push(`version name "${nt}" contains illegal characters (whitespace or "/")`),void ce.warn(ct.join(" "))}Xt(new J.wA(`${Hr}-version`,()=>({library:Hr,version:nt}),"VERSION"))}function Zt(pt,nt){if(null!==pt&&"function"!=typeof pt)throw Gt.create("invalid-log-argument");(0,N.Am)(pt,nt)}function Un(pt){(0,N.Ub)(pt)}!function Vs(pt){Xt(new J.wA("platform-logger",nt=>new ie(nt),"PRIVATE")),Qr(se,"0.7.14",pt),Qr(se,"0.7.14","esm2017"),Qr("fire-js","")}("")},4859:(st,Ce,P)=>{"use strict";P.d(Ce,{wA:()=>N,H0:()=>ue});var f=P(5861),J=P(2090);class N{constructor(H,j,ee){this.name=H,this.instanceFactory=j,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const ae="[DEFAULT]";class ie{constructor(H,j){this.name=H,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const j=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(j)){const ee=new J.BH;if(this.instancesDeferred.set(j,ee),this.isInitialized(j)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:j});Be&&ee.resolve(Be)}catch(Be){}}return this.instancesDeferred.get(j).promise}getImmediate(H){var j;const ee=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),Be=null!==(j=null==H?void 0:H.optional)&&void 0!==j&&j;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Ie){if(Be)return null;throw Ie}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function se(ce){return"EAGER"===ce.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(j){}for(const[j,ee]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier(j);try{const Ie=this.getOrInitializeService({instanceIdentifier:Be});ee.resolve(Ie)}catch(Ie){}}}}clearInstance(H=ae){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,f.Z)(function*(){const j=Array.from(H.instances.values());yield Promise.all([...j.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...j.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=ae){return this.instances.has(H)}getOptions(H=ae){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:j={}}=H,ee=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:ee,options:j});for(const[Ie,Re]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Ie)&&Re.resolve(Be);return Be}onInit(H,j){var ee;const Be=this.normalizeInstanceIdentifier(j),Ie=null!==(ee=this.onInitCallbacks.get(Be))&&void 0!==ee?ee:new Set;Ie.add(H),this.onInitCallbacks.set(Be,Ie);const Re=this.instances.get(Be);return Re&&H(Re,Be),()=>{Ie.delete(H)}}invokeOnInitCallbacks(H,j){const ee=this.onInitCallbacks.get(j);if(ee)for(const Be of ee)try{Be(H,j)}catch(Ie){}}getOrInitializeService({instanceIdentifier:H,options:j={}}){let ee=this.instances.get(H);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=H,ce===ae?void 0:ce),options:j}),this.instances.set(H,ee),this.instancesOptions.set(H,j),this.invokeOnInitCallbacks(ee,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,ee)}catch(Be){}var ce;return ee||null}normalizeInstanceIdentifier(H=ae){return this.component?this.component.multipleInstances?H:ae:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const j=this.getProvider(H.name);if(j.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);j.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const j=new ie(H,this);return this.providers.set(H,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(st,Ce,P)=>{"use strict";P.d(Ce,{in:()=>J,Yd:()=>se,Ub:()=>ue,Am:()=>ce});const f=[];var J=(()=>{return(H=J||(J={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",J;var H})();const N={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},ae=J.INFO,ie={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},fe=(H,j,...ee)=>{if(j<H.logLevel)return;const Be=(new Date).toISOString(),Ie=ie[j];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Ie](`[${Be}]  ${H.name}:`,...ee)};class se{constructor(j){this.name=j,this._logLevel=ae,this._logHandler=fe,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in J))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?N[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...j),this._logHandler(this,J.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...j),this._logHandler(this,J.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,J.INFO,...j),this._logHandler(this,J.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,J.WARN,...j),this._logHandler(this,J.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...j),this._logHandler(this,J.ERROR,...j)}}function ue(H){f.forEach(j=>{j.setLogLevel(H)})}function ce(H,j){for(const ee of f){let Be=null;j&&j.level&&(Be=N[j.level]),ee.userLogHandler=null===H?null:(Ie,Re,...Ue)=>{const K=Ue.map(ne=>{if(null==ne)return null;if("string"==typeof ne)return ne;if("number"==typeof ne||"boolean"==typeof ne)return ne.toString();if(ne instanceof Error)return ne.message;try{return JSON.stringify(ne)}catch(ye){return null}}).filter(ne=>ne).join(" ");Re>=(null!=Be?Be:Ie.logLevel)&&H({level:J[Re].toLowerCase(),message:K,args:Ue,type:Ie.name})}}}},5861:(st,Ce,P)=>{"use strict";function f(N,ae,ie,fe,se,ue,ce){try{var H=N[ue](ce),j=H.value}catch(ee){return void ie(ee)}H.done?ae(j):Promise.resolve(j).then(fe,se)}function J(N){return function(){var ae=this,ie=arguments;return new Promise(function(fe,se){var ue=N.apply(ae,ie);function ce(j){f(ue,fe,se,ce,H,"next",j)}function H(j){f(ue,fe,se,ce,H,"throw",j)}ce(void 0)})}}P.d(Ce,{Z:()=>J})}},st=>{st(st.s=1096)}]);